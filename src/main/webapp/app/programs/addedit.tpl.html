
<primary-nav-bar></primary-nav-bar>

<form name="gsavm.form" ux-form use-ui-router="section" on-section-change="gsavm.onSectionChange(prevSectionKey)" scroll-anchor="#status-indicator-bar-anchor" novalidate>

  <section class="usa-grid">
    <div class="usa-width-one-half">
      <h1>{{ gsavm.isEdit ? 'Edit' : 'New' }} Listing</h1>
    </div>
    <div class="usa-width-one-half usa-margin-top-3 usa-padding-top-3">
      <field-finder-searchbox></field-finder-searchbox>
    </div>
  </section>

  <section sticky sticky-class="hidetitles">
    <ux-form-nav style="display: block;"></ux-form-nav>
  </section>

  <div id="status-indicator-bar-anchor"></div>

  <section class="usa-grid-full">

    <!-- General Information -->
    <ux-form-section state-key="info" section-title="General Information" field-finder-section>
      <back-top ng-click="focus('.usa-steps ul li:first > a')" class="back-to-top" scroll-speed=600 button-theme="cfdabacktop"></back-top>
      <!-- Header -->
      <div class="usa-grid-full">
        <div class="usa-width-one-whole">
          <h2>
            <span id="some-random-id" class="section-circle">
              1
            </span>
            General Information
          </h2>
        </div>
      </div>

      <!-- Intro -->
      <section class="usa-segment usa-segment-shadow" field-finder-bookmark title="000 Intro">
        <div class="usa-grid">
          <legend>Federal Agency</legend>
          <a href="#" href="#" ng-click="clickToOpen('d030')" tabindex="0" trigger-click-on-enter>Read More</a>
          <div class="usa-width-one-whole">
              <federal-hierarchy-inputs ng-if="!((gsavm.program.status && gsavm.program.status != 'Draft') || (gsavm.program.programNumber && gsavm.program.status && gsavm.program.status != 'Draft'))" organization-id="gsavm.program.organizationId" organization-configuration="gsavm.organizationConfiguration" program-code="gsavm.programCode" render-on-org-null="false" check-program-code="gsavm.verifyProgramNumber()"></federal-hierarchy-inputs>
              <federal-hierarchy-label ng-if="((gsavm.program.status && gsavm.program.status != 'Draft') || (gsavm.program.programNumber && gsavm.program.status && gsavm.program.status != 'Draft'))" organization-id="{{ gsavm.program.organizationId }}"></federal-hierarchy-label>
          </div>
        </div>
      </section>

      <!-- 010 Program Title -->
      <section class="usa-segment usa-segment-shadow" field-finder-bookmark title="010 Program Title">
        <div class="usa-grid">
          <div class="usa-width-one-whole">
            <legend>{{::instructionalText["01"]["010"]["title"]}}</legend>
            <div ng-class="(gsavm.form.title.$dirty && gsavm.form.title.$error.required || (gsavm.program.title.length && (gsavm.program.title.indexOf('The') != -1 || gsavm.program.title.indexOf('Program' || '') != -1 || gsavm.program.title.indexOf('the') != -1 || gsavm.program.title.indexOf('program') != -1)))  ? 'usa-input-error' : '' ">
              <label for="title" ng-class="(gsavm.form.title.$dirty && gsavm.form.title.$error.required) ? 'usa-input-error-label' : '' ">
                {{::instructionalText["01"]["010"]["label"]}}<span class="required">*</span>
              </label>
              <span class="usa-form-hint">{{::instructionalText["01"]["010"]["helpText"]}}</span>

              <a href="#" href="#" ng-click="clickToOpen('d010')" tabindex="0" trigger-click-on-enter>Read More</a>

              <span class="usa-input-error-message" ng-show="gsavm.form.title.$error.required && gsavm.form.title.$dirty">
                You must provide a title.
              </span>
               <span class="usa-input-error-message" ng-show="gsavm.program.title.length && (gsavm.program.title.indexOf('The') != -1 || gsavm.program.title.indexOf('the') != -1)">
                The word "The" should not be included in the Program title.
              </span>
              <span class="usa-input-error-message" ng-show="gsavm.program.title.length && (gsavm.program.title.indexOf('Program') != -1 || gsavm.program.title.indexOf('program') != -1)">
                The word "Program" should not be included in the Program title.
              </span>
              <input type="text" id="title" name="title" class="" ng-model="gsavm.program.title" required ng-disabled="(gsavm.program.status && gsavm.program.status != 'Draft') || (gsavm.program.programNumber && gsavm.program.status && gsavm.program.status != 'Draft') || (gsavm.parentProgramNumber && gsavm.parentProgramNumber.length>0)">
            </div>
          </div>
        </div>
      </section>

      <!-- Program Number -->
      <section class="usa-segment usa-segment-shadow" field-finder-bookmark title="Program Number" ng-if="(gsavm.organizationConfiguration && gsavm.organizationConfiguration.programNumberAuto === false && !gsavm.parentProgramNumber)">
        <div class="usa-grid">
          <div class="usa-width-two-thirds">
            <legend>{{::instructionalText["01"]["programNumber"]["title"]}}</legend>
            <span class="usa-form-hint">
              {{::instructionalText["01"]["programNumber"]["helpText"]}}
            </span>
          </div>

          <div class="usa-width-one-third">
            <div ng-init="gsavm.verifyProgramNumber()" ng-class="(((gsavm.validationFlag.info || gsavm.form.programNumber.$dirty) && gsavm.form.programNumber.$error.required) || gsavm.isProgramNumberUnique === false || gsavm.isProgramNumberOutsideRange === true) ? 'usa-input-error' : ''">

              <label for="programNumber" ng-class="(((gsavm.validationFlag.info || gsavm.form.programNumber.$dirty) && gsavm.form.programNumber.$error.required) || gsavm.isProgramNumberUnique === false || gsavm.isProgramNumberOutsideRange === true) ? 'usa-input-error-label' : ''">
                {{::instructionalText["01"]["programNumber"]["label"]}}<span class="required">*</span>
              </label>

              <div ng-show="gsavm.validationFlag.info || gsavm.form.programNumber.$dirty">
                <span class="usa-input-error-message" role="alert" ng-show="gsavm.form.programNumber.$error.required">
                  You must provide a program number.
                </span>
              </div>

              <span class="usa-input-error-message" role="alert" ng-show="gsavm.isProgramNumberUnique === false">
                The FAL number has already been used. Please enter a different FAL number.
              </span>

              <span class="usa-input-error-message" role="alert" ng-if="hasRole([ROLES.SUPER_USER, ROLES.AGENCY_COORDINATOR])" ng-show="gsavm.isProgramNumberOutsideRange === true">
                This number falls outside the range defined for this organization.
              </span>

              <span class="usa-input-error-message" role="alert" ng-if="hasRole([ROLES.AGENCY_USER, ROLES.OMB_ANALYST, ROLES.GSA_ANALYST, ROLES.RMO_SUPER_USER, ROLES.LIMITED_SUPER_USER])" ng-show="gsavm.isProgramNumberOutsideRange === true">
                This number falls outside the range defined for this organization. Please contact your agency coordinator to have the range adjusted.
              </span>

              <input type="text" id="programNumber" name="programNumber" maxlength="3" ng-model="gsavm.program.programNumber"  ng-change="gsavm.verifyProgramNumber()" required ng-disabled="(gsavm.program.status && gsavm.program.status != 'Draft') || (gsavm.program.programNumber && gsavm.program.status && gsavm.program.status != 'Draft')">

            </div>
          </div>
        </div>
      </section>

      <section class="usa-segment usa-segment-shadow" field-finder-bookmark title="Program Number" ng-if="((gsavm.program.programNumber && gsavm.program.status && gsavm.program.status !== 'Draft') || (gsavm.program.programNumber && gsavm.program.status && gsavm.program.status === 'Draft' && gsavm.parentProgramNumber)) && (gsavm.organizationConfiguration && gsavm.organizationConfiguration.programNumberAuto === false)">
        <div class="usa-grid">
          <div class="usa-width-one-third">
            <legend>{{::instructionalText["01"]["programNumber"]["title"]}}</legend>
            <input type="text" disabled ng-model="gsavm.program.programNumber">
          </div>
        </div>
      </section>

      <!-- 020 Popular Name -->
      <section class="usa-segment usa-segment-shadow" field-finder-bookmark title="020 Popular Name">
        <div class="usa-grid">
          <div class="usa-width-one-whole">
            <legend>{{::instructionalText["01"]["020"]["title"]}}</legend>

            <a href="#" ng-click="clickToOpen('d020')" tabindex="0" trigger-click-on-enter>Read More</a>

            <div ng-class="gsavm.program.alternativeNames.length && gsavm.program.alternativeNames == gsavm.program.title && gsavm.form.alternativeName.$dirty ? 'usa-input-error' : '' ">
              <label for="alternativeName" ng-class=" gsavm.program.alternativeNames.length && gsavm.program.alternativeNames == gsavm.program.title && gsavm.form.alternativeName.$dirty ? 'usa-input-error-label' : '' ">{{::instructionalText["01"]["020"]["label"]}}</label>
                <span class="usa-input-error-message" ng-show="gsavm.program.alternativeNames.length && gsavm.program.alternativeNames == gsavm.program.title">The Popular Name should be different than the Program Title.</span>
              <input type="text" id="alternativeName" name="alternativeName" class="usa-input-large" ng-model="gsavm.program.alternativeNames" ng-list>
            </div>
          </div>
        </div>
      </section>

      <!-- 40 Authorization -->
      <section class="usa-segment usa-segment-shadow" field-finder-bookmark title="040 Authorization">
        <div class="usa-grid">
          <div class="usa-width-one-whole">

            <multi-entry ng-model="gsavm.program.authorizations" name="authorizations" item-title="gsavm.getAuthorizationTitle" editable-items="true" new-entry-btn-name="Add Authorization" delete-btn-label="Delete Authorization" on-entry-delete="gsavm.onAuthorizationRemoved(removed)" parent-vm="gsavm" on-after-dialog-open="gsavm.onAuthDialogOpen" list-filter="'filter:$ctrl.parentVm.exps.isAuthorization'" required-Length='{ "min": 1 }'>

              <multi-entry-header>
                <legend>{{::$ctrl.parentVm.instructionalText["01"]["040"]["title"]}}</legend>
              </multi-entry-header>

              <label>{{::$ctrl.parentVm.instructionalText["01"]["040"]["label"]}} <span class="required">*</span></label>
              <span class="usa-form-hint">{{::$ctrl.parentVm.instructionalText["01"]["040"]["helpText"]}}</span>
              <a href="#" ng-click="::$ctrl.parentVm.clickToOpen('d040')" tabindex="0" trigger-click-on-enter>Read More</a>

              <multi-entry-list editable="true" ng-hide="$ctrl.parentVm.form.authorizations.$error.requiredLength">
                {{$ctrl.formatTitle(item)}} ({{$ctrl.parentVm.getAuthAmendments(item).length}})
              </multi-entry-list>

              <div ng-class=" !$ctrl.allowModifications ? 'usa-segment usa-segment-bordered' : '' ">

                <multi-entry-sub-form create-function="$ctrl.parentVm.createAuthorization" on-save="$ctrl.parentVm.onAuthorizationSave" on-cancel="$ctrl.parentVm.onAuthorizationCancel">
                  <div ng-init="formPath='authorization'+$ctrl.parentVm.nextId();idPath=formPath;parentAuth=authorization">

                    <section class="usa-grid">
                      <fieldset class="usa-fieldset-inputs usa-sans">
                        <legend class="usa-sr-only">{{::$ctrl.parentVm.instructionalText["01"]["040"]["form"]["authorizationTypes"]["label"]}}</legend>
                        <ul class="usa-horizontal-list">
                          <li ng-repeat="btn in $ctrl.parentVm.choices['authorization_type'] track by btn.element_id">
                            <input type="radio" name="{{formPath}}_type" ng-model="$subForm.current.authorizationType" ng-value="btn.element_id" id="{{ idPath + '-' + btn.element_id }}"/>
                            <label for="{{ idPath + '-' + btn.element_id }}">{{btn.value}}</label>
                          </li>
                        </ul>
                      </fieldset>
                    </section>

                    <div ng-if="$subForm.current.authorizationType">

                      <div class="usa-grid">
                        <div class="usa-segment usa-segment-bordered usa-margin-bottom-0" ng-include="'programs/authorization.tpl.html'">
                      </div>

                      <multi-entry ng-model="$ctrl.parentVm.program.authorizations" item-title="$ctrl.parentVm.getAmendmentTitle" editable-items="true" new-entry-btn-name="Add Amendment" delete-btn-label="Delete Amendment" on-entry-delete="$ctrl.parentVm.removeAmendment(removed)" parent-vm="$ctrl.parentVm" list-track-by="$ctrl.parentVm.exps.generateAuthKey(item)" list-filter="$ctrl.locals.amendmentFilter">

                        <div style="border-top-width: 0;" class="usa-segment usa-margin-top-0"  ng-class=" !$ctrl.allowModifications ? 'usa-segment-subform' : 'usa-segment-bordered' ">
                          <div class="usa-grid">
                            <multi-entry-header>
                              <label>{{::$ctrl.parentVm.instructionalText["01"]["040"]["form"]["amendments"]["label"]}}</label>
                            </multi-entry-header>
                          </div>

                          <multi-entry-sub-form create-function="$ctrl.parentVm.createAmendment" before-save="$ctrl.parentVm.onAmendmentBeforeSave" on-parent-update="$ctrl.parentVm.onAuthorizationTypeUpdate">
                            <div ng-init="formPath=formPath +'.amendment'+$index;idPath=formPath.replace('.','-');" name="$ctrl.parentVm.form.{{formPath}}" class="">
                              <div ng-include="'programs/authorization.tpl.html'"></div>
                            </div>
                          </multi-entry-sub-form>
                        </div>

                      </multi-entry>

                    </div>
                  </div>
                </multi-entry-sub-form>

              </div>

            </multi-entry>
          </div>
        </div>
      </section>

      <!-- 050 Objectives -->
      <section class="usa-segment usa-segment-shadow" field-finder-bookmark title="050 Objectives">
        <div class="usa-grid">
          <div class="usa-width-one-whole">
            <legend>{{::instructionalText["01"]["050"]["title"]}}</legend>

            <div ng-class=" gsavm.form.objective.$dirty && gsavm.form.objective.$error.required ? 'usa-input-error' : '' ">
              <label ng-class=" gsavm.form.objective.$dirty && gsavm.form.objective.$error.required ? 'usa-input-error-label' : '' " for="objective">{{::instructionalText["01"]["050"]["label"]}}<span class="required">*</span></label>
              <span class="usa-form-hint">{{::instructionalText["01"]["050"]["helpText"]}}</span>
              <br>
              <a href="#" ng-click="clickToOpen('d050')" tabindex="0" trigger-click-on-enter>Read More</a>

              <div ng-show="gsavm.validationFlag.info || gsavm.form.objective.$dirty">
                <span class="usa-input-error-message" ng-show="gsavm.form.objective.$error.required">You must provide Objectives.</span>
              </div>
              <textarea id="objective" name="objective" ng-model="gsavm.program.objective" required></textarea>
            </div>
          </div>
        </div>
      </section>

      <!-- 060 Types of Assistance -->
      <section class="usa-segment usa-segment-shadow" field-finder-bookmark title="060 Types of Assistance">
        <div class="usa-grid">
          <div class="usa-width-one-whole">
            <legend>{{::instructionalText["01"]["060"]["title"]}}</legend>

            <!-- Prototype: TODO Refactor to directive -->

            <style>

              .jstree-container-ul{
                list-style-type: none;
                margin: 0;
                padding: 0;
              }
              .jstree-container-ul li::before,
              .jstree-container-ul li::after{
                display: none;
              }

              /* jstree container */
              .jstree-container{
                border: 1px solid #cacaca;
                display: block;
              }

              .jstree-container .usa-unstyled-list{
                height: 300px;
                overflow: auto;
                overflow-x: hidden;
                display: block;
              }

              .jstree-container input{
                border-color: #adadad;
                border-top: none;
                border-left: none;
                border-right: none;
                margin: 0;
              }

              .jstree-container .jstree{
                padding: 20px 0px;
                overflow: auto;
                overflow-x: hidden;
                height: 360px;
              }

              .jstree-default .jstree-node{
                margin-left: 0;
              }
              .jstree-anchor span{
                background-color: #e1e1e1;
                padding: 5px 15px;
                width: 40px;
                text-align: center;
                top: -6px;
              }
              .jstree-ocl {
                background-image: none !important;
                margin-left: 20px !important;
              }
              .jstree-container.removeleftmargin .jstree-ocl{
                margin-left: 0px !important;
              }
              .jstree-default > .jstree-container-ul > .jstree-node {
                margin-bottom: 20px;
              }
              .jstree-default .jstree-clicked{
                background-color: #e7f4f9;
              }
              .jstree-default .jstree-anchor{
                height: auto;
                white-space: normal;
                width: 80%;
                margin-left: 20px;
              }
              .jstree-default .jstree-anchor .jstree-checkbox{
                margin-left: -20px;
              }
              .jstree-default .jstree-search{
                font-style: normal;
                font-weight: normal;
              }
            </style>

            <div class="usa-grid-full">
              <div class="usa-width-two-thirds">
                <label>{{::instructionalText["01"]["060"]["label"]}}<span class="required">*</span></label>
                <span class="usa-form-hint">{{::instructionalText["01"]["060"]["helpText"]}}</span>
                <a href="#" ng-click="clickToOpen('d060')" tabindex="0" trigger-click-on-enter>Read More</a>
              </div>
              <div class="usa-width-one-third usa-text-align-right">
                <button class="usa-margin-right-0" ng-click="resetJstree()">Reset</button>
              </div>
            </div>

            <div class="usa-grid-full">

              <div class="usa-width-one-third" style="width: 47%; margin-right:0;">
                <div class="jstree-container" style="position: relative;">
                  <label class="usa-sr-only">Search options</label>
                  <i class="fa fa-search fa-lg" style="position: absolute; right: 20px; top: 12px; color: #0071bc;"></i>
                  <input ng-model="jstreeSearchText" ng-keyup="testKeyUp(jstreeSearchText)" placeholder="Search...">
                  <div js-tree="treeConfig" ng-model="treeData" tree="gsavm.treeInstance" tree-events-obj="treeEventsObj"></div>
                </div>
              </div>

              <div class="usa-width-one-third usa-text-align-center" style="width: 6%; margin-right:0;">
                <i class="fa fa-arrow-circle-right fa-2x" style="color: #e4e4e4; margin-top:160px;"></i>
              </div>

              <div class="usa-width-one-third" style="width: 47%;">
                <div class="jstree-container" style="padding: 20px;">
                  <strong>Selected types</strong>
                  <p class="usa-form-hint">
                    Please add a type of Assistance from the left column
                  </p>
                  <ul class="usa-unstyled-list">
                    <li ng-repeat="item in gsavm.program.assistanceTypes | filter:{children: 'false'}" style="margin-bottom: 7px; margin-left: 30px;">
                      <button type="button" class="usa-button-icon" style="margin-left: -27px;" ng-click="unselectJstreeItem(item)">
                        <i class="fa fa-times-circle"></i>
                      </button>
                      <span style="background-color: #e7f4f9; padding: 5px;">
                        <strong>{{ item.code }} - </strong>{{ item.value }}
                      </span>
                    </li>
                  </ul>
                </div>
              </div>

            </div>


            <!-- /Prototype -->

            <!-- <ul ng-show="gsavm.program.assistanceTypes.length" class="usa-unstyled-list usa-input-field">
              <li ng-repeat="item in gsavm.program.assistanceTypes">
                <div class="usa-input-field-content">{{ item.displayValue }}</div>
                <div class="usa-input-field-options">
                  <button type="button" class="usa-button-compact" ng-click="unselectDictionary(item, 'aAssistanceType')">
                    <span class="fa fa-trash"></span>
                  </button>
                </div>
              </li>
            </ul>

            <isteven-multi-select
            max-labels="1"
            input-model="dictionary.aAssistanceType"
            output-model="gsavm.program.assistanceTypes"
            button-label="displayValue"
            item-label="displayValue"
            tick-property="ticked"
            max-height="250px"
            group-property="msGroup"
            output-properties="element_id displayValue"
            helper-elements="all none filter">
            </isteven-multi-select> -->

          </div>
        </div>
      </section>

      <!-- 070 Uses and Use Restrictions -->
      <section class="usa-segment usa-segment-shadow" field-finder-bookmark title="070 Uses and Use Restrictions">
        <div class="usa-grid">
          <div class="usa-width-one-whole">
            <legend>{{::instructionalText["01"]["070"]["title"]}}</legend>

            <label for="usageRulesContent">{{::instructionalText["01"]["070"]["label"]}}<span class="required">*</span></label>
            <span class="usa-form-hint">
              {{::instructionalText["01"]["070"]["helpText"]}}
            </span>

            <a href="#" ng-click="clickToOpen('d070')" tabindex="0" trigger-click-on-enter>Read More</a>

            <textarea id="usageRulesContent" name="usageRulesContent" ng-model="gsavm.program.usage.rules.content" required></textarea>
          </div>

          <div class="usa-width-one-whole">
            <fieldset class="usa-fieldset-inputs usa-sans">
              <label>{{::instructionalText["01"]["070"]["restrictions"]["label"]}}<span class="required">*</span></label>
              <ul class="usa-horizontal-list">
                <li>
                  <input type="radio" name="restrictionsFlag" ng-model="gsavm.program.usage.restrictions.flag" id="restrictionsFlagYes" value="yes" required/>
                  <label for="restrictionsFlagYes">Yes</label>
                </li>
                <li>
                  <input type="radio" name="restrictionsFlag" ng-model="gsavm.program.usage.restrictions.flag" id="restrictionsFlagNA" value="na" required/>
                  <label for="restrictionsFlagNA">Not Applicable</label>
                </li>
              </ul>
            </fieldset>
            <div ng-show="gsavm.program.usage.restrictions.flag === gsavm.choices['yes_no'].yes.code">
              <label for="restrictions">{{::instructionalText["01"]["070"]["restrictions"]["helpText"]}}<span class="required">*</span></label>
              <textarea id="restrictions" name="restrictions" ng-model="gsavm.program.usage.restrictions.content" ng-required="gsavm.program.usage.restrictions.flag ==='yes'"></textarea>
              <div ng-show="gsavm.validationFlag.info || gsavm.form.restrictions.$dirty">
                <span ng-show="gsavm.form.restrictions.$error.required">You must provide restrictions.</span>
              </div>
            </div>
          </div>

          <div class="usa-width-one-whole">
            <fieldset class="usa-fieldset-inputs usa-sans usa-input-large">
              <label for="discretionaryFundFlag">{{::instructionalText["01"]["070"]["funds"]["label"]}}<span class="required">*</span></label>
              <ul class="usa-horizontal-list">
                <li>
                  <input type="radio" name="discretionaryFundFlag" ng-model="gsavm.program.usage.discretionaryFund.flag" id="discretionaryFundFlagYes" value="yes" required/>
                  <label for="discretionaryFundFlagYes">Yes</label>
                </li>
                <li>
                  <input type="radio" name="discretionaryFundFlag" ng-model="gsavm.program.usage.discretionaryFund.flag" id="discretionaryFundFlagNA" value="na" required/>
                  <label for="discretionaryFundFlagNA">Not Applicable</label>
                </li>
              </ul>
            </fieldset>
            <div ng-show="gsavm.program.usage.discretionaryFund.flag === gsavm.choices['yes_no'].yes.code">
              <label for="discretionaryFund">{{::instructionalText["01"]["070"]["funds"]["helpText"]}}<span class="required">*</span></label>
              <textarea id="discretionaryFund" name="discretionaryFund" class="usa-input-large" ng-model="gsavm.program.usage.discretionaryFund.content" ng-required="gsavm.program.usage.discretionaryFund.flag === gsavm.choices['yes_no'].yes.code"></textarea>

              <div ng-show="gsavm.validationFlag.info || gsavm.form.discretionaryFund.$dirty">
                <span ng-show="gsavm.form.discretionaryFund.$error.required">You must provide the discretionary funds.</span>
              </div>
            </div>
          </div>

          <div class="usa-width-one-whole">
            <fieldset class="usa-fieldset-inputs usa-sans usa-input-large">
              <label for="loanTermsFlag">{{::instructionalText["01"]["070"]["loanTerms"]["label"]}}<span class="required">*</span></label>
              <ul class="usa-horizontal-list">
                <li>
                  <input type="radio" name="loanTermsFlag" ng-model="gsavm.program.usage.loanTerms.flag" id="loanTermsFlagYes" value="yes" required/>
                  <label for="loanTermsFlagYes">Yes</label>
                </li>
                <li>
                  <input type="radio" name="loanTermsFlag" ng-model="gsavm.program.usage.loanTerms.flag" id="loanTermsFlagNA" value="na" required/>
                  <label for="loanTermsFlagNA">Not Applicable</label>
                </li>
              </ul>
            </fieldset>
            <div ng-show="gsavm.program.usage.loanTerms.flag === gsavm.choices['yes_no'].yes.code">
              <label for="loanTerms">{{::instructionalText["01"]["070"]["loanTerms"]["helpText"]}}<span class="required">*</span></label>
              <textarea id="loanTerms" name="loanTerms" class="usa-input-large" ng-model="gsavm.program.usage.loanTerms.content" ng-required="gsavm.program.usage.loanTerms.flag === gsavm.choices['yes_no'].yes.code"></textarea>

              <div ng-show="gsavm.validationFlag.info || gsavm.form.loanTerms.$dirty">
                <span ng-show="gsavm.form.loanTerms.$error.required">You must provide the loan terms.</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 160 Related Programs -->
      <section class="usa-segment usa-segment-shadow" field-finder-bookmark title="160 Related Programs">
        <div class="usa-grid">
          <div class="usa-width-one-whole">
            <legend>{{::instructionalText["01"]["160"]["title"]}}</legend>

            <a href="#" ng-click="clickToOpen('d160')" tabindex="0" trigger-click-on-enter>Read More</a>

            <fieldset class="usa-fieldset-inputs usa-sans usa-input-large">
              <label for="relatedProgramsFlag">{{::instructionalText["01"]["160"]["label"]}}<span class="required">*</span></label>
              <ul class="usa-horizontal-list">
                <li>
                  <input type="radio" name="relatedProgramsFlag" ng-model="gsavm.program.relatedPrograms.flag" id="relatedProgramsFlagYes" value="yes" required/>
                  <label for="relatedProgramsFlagYes">Yes</label>
                </li>
                <li>
                  <input type="radio" name="relatedProgramsFlag" ng-model="gsavm.program.relatedPrograms.flag" id="relatedProgramsFlagNA" value="na" required/>
                  <label for="relatedProgramsFlagNA">Not Applicable</label>
                </li>
              </ul>
            </fieldset>

            <div ng-show="gsavm.program.relatedPrograms.flag === 'yes'">

              <!-- Prototype: TODO Refactor to directive -->
              <br>
              <div class="usa-grid-full">

                <div class="usa-width-one-third" style="width: 47%; margin-right:0;">
                  <div class="jstree-container removeleftmargin" style="position: relative;">
                    <label class="usa-sr-only">Search</label>
                    <i class="fa fa-search fa-lg" style="position: absolute; right: 20px; top: 12px; color: #ccc;"></i>
                    <input ng-model="jstreeSearchTextRelatedPrograms" placeholder="Search Temporary Disabled" disabled="disabled">
                    <div js-tree="treeConfigRelatedPrograms" ng-model="treeDataRelatedPrograms" tree="gsavm.treeInstanceRelatedPrograms" tree-events-obj="treeEventsObjRelatedPrograms"></div>
                  </div>
                </div>

                <div class="usa-width-one-third usa-text-align-center" style="width: 6%; margin-right:0;">
                  <i class="fa fa-arrow-circle-right fa-2x" style="color: #e4e4e4; margin-top:160px;"></i>
                </div>

                <div class="usa-width-one-third" style="width: 47%;">
                  <div class="jstree-container" style="padding: 20px;">
                    <strong>Selected programs</strong>
                    <p class="usa-form-hint">
                      Please add a program from the left column
                    </p>
                    <ul class="usa-unstyled-list">
                      <li ng-repeat="item in relatedPrograms" style="margin-bottom: 7px; margin-left: 30px;">
                        <button type="button" class="usa-button-icon" style="margin-left: -27px;" ng-click="unselectJstreeItemRelatedPrograms(item)">
                          <i class="fa fa-times-circle"></i>
                        </button>
                        <span style="background-color: #e7f4f9; padding: 5px;">
                          <strong>{{ item.code }} - </strong>{{ item.value }}
                        </span>
                      </li>
                    </ul>
                  </div>
                </div>

              </div>
              <!-- /Prototype -->

              <!-- <multi-entry ng-model="gsavm.program.relatedPrograms.relatedTo" name="relatedTo" new-entry-btn-name="Add Related Programs" delete-btn-label="Remove Related Program" parent-vm="gsavm" required-Length='{ "min": 1 }'>

                <multi-entry-header>
                  <label>{{::$ctrl.parentVm.instructionalText["01"]["160"]["form"]["intro"]}}<span class="required">*</span></label>
                </multi-entry-header>

                <multi-entry-list editable="false" ng-hide="$ctrl.parentVm.form.relatedTo.$error.requiredLength">
                  {{$ctrl.parentVm.formatModelString(item, 'data._id', 'programs', 'data.programNumber + " " + data.title')}}
                </multi-entry-list>


                <multi-entry-select>
                  <ux-adv-multi-select
                    ng-model="_multiEntrySelect.current"
                    ux-choices="$ctrl.parentVm.choices['programs']"
                    ux-choice-value="id"
                    ux-choice-title="data.programNumber + ' ' + data.title"
                    ux-items-per-page="25"
                    ux-displayed-pages="5"
                    ux-search-filter="searchRelatedPrograms:srchText">
                  </ux-adv-multi-select>
                </multi-entry-select>

              </multi-entry> -->

            </div>
          </div>
        </div>
      </section>

      <!-- 170 Examples of Funded Projects -->
      <section class="usa-segment usa-segment-shadow" field-finder-bookmark title="170 Examples of Funded Projects">
        <div class="usa-grid">
          <div class="usa-width-one-whole">
            <legend>{{::instructionalText["01"]["170"]["title"]}}</legend>

            <a href="#" ng-click="clickToOpen('d170')" tabindex="0" trigger-click-on-enter>Read More</a>

            <fieldset class="usa-fieldset-inputs usa-sans">
              <label>{{::instructionalText["01"]["170"]["label"]}}<span class="required">*</span></label>
              <ul class="usa-horizontal-list">
                <li>
                  <input name="fundedProjectsExampleFlag-yes" ng-model="gsavm.program.projects.flag" id="fundedProjectsExampleFlag-yes" type="radio" value="yes" required>
                  <label for="fundedProjectsExampleFlag-yes">Yes</label>
                </li>
                <li>
                  <input name="fundedProjectsExampleFlag-na" ng-model="gsavm.program.projects.flag" id="fundedProjectsExampleFlag-na" type="radio" value="na" required>
                  <label for="fundedProjectsExampleFlag-na">Not Applicable</label>
                </li>
              </ul>
            </fieldset>

            <div ng-show="gsavm.program.projects.flag === gsavm.choices['yes_na'].yes.code">

              <fieldset class="usa-fieldset-inputs usa-sans">
                <span class="usa-form-hint">{{::instructionalText["01"]["170"]['projects']["label"]}}</span>
                <ul class="usa-unstyled-list">
                  <div ng-repeat="fyTpl in gsavm.fyTpls track by fyTpl.year">
                    <li>
                      <input name="fundedProjectsExampleYear-{{fyTpl.year}}" id="fundedProjectsExampleYear-{{fyTpl.year}}" type="checkbox" value="{{fyTpl.year}}"
                      ng-model="gsavm.program.projects.list[fyTpl.year].flag">
                      <label for="fundedProjectsExampleYear-{{fyTpl.year}}">{{fyTpl.name}}: {{fyTpl.year}}</label>
                    </li>
                  </div>
                </ul>
              </fieldset>

              <div ng-repeat="fyTpl in gsavm.fyTpls track by fyTpl.year">
                <div ng-show='gsavm.program.projects.list[fyTpl.year].flag'>
                  <label for="fundedProjectsExampleContent-{{fyTpl.year}}">{{fyTpl.name}}: {{fyTpl.year}}<span class="required">*</span></label>
                  <textarea id="fundedProjectsExampleContent-{{fyTpl.year}}" name="fundedProjectsExampleContent-{{fyTpl.year}}" ng-model=" gsavm.program.projects.list[fyTpl.year].content.actual"></textarea>
                </div>
              </div>

            </div>

          </div>
        </div>
      </section>

      <!-- 190 Functional Codes -->
      <section class="usa-segment usa-segment-shadow" field-finder-bookmark title="190 Functional Codes">
        <div class="usa-grid">
          <div class="usa-width-one-whole">

            <legend>{{::instructionalText["01"]["190"]["title"]}}</legend>
            <label>{{::instructionalText["01"]["190"]["label"]}}<span class="required">*</span></label>
            <span class="usa-form-hint">{{::instructionalText["01"]["190"]["helpText"]}}</span>

            <!--<a ng-click="clickToOpen('d190')" tabindex="0" trigger-click-on-enter>Read More</a>-->

            <!-- Prototype: TODO Refactor to directive -->
            <div class="usa-grid-full">

              <div class="usa-width-one-third" style="width: 47%; margin-right:0;">
                <div class="jstree-container removeleftmargin" style="position: relative;">
                  <label class="usa-sr-only">Search</label>
                  <i class="fa fa-search fa-lg" style="position: absolute; right: 20px; top: 12px; color: #ccc;"></i>
                  <input ng-model="jstreeSearchTextFunctionalCodes" placeholder="Search Temporary Disabled" disabled="disabled">
                  <div js-tree="treeConfigFunctionalCodes" ng-model="treeDataFunctionalCodes" tree="gsavm.treeInstanceFunctionalCodes" tree-events-obj="treeEventsObjFunctionalCodes"></div>
                </div>
              </div>

              <div class="usa-width-one-third usa-text-align-center" style="width: 6%; margin-right:0;">
                <i class="fa fa-arrow-circle-right fa-2x" style="color: #e4e4e4; margin-top:160px;"></i>
              </div>

              <div class="usa-width-one-third" style="width: 47%;">
                <div class="jstree-container" style="padding: 20px;">
                  <strong>Selected functional codes</strong>
                  <p class="usa-form-hint">
                    Please add a funcional code from the left column
                  </p>
                  <ul class="usa-unstyled-list">
                    <li ng-repeat="item in gsavm.program.functionalCodes" style="margin-bottom: 7px; margin-left: 30px;">
                      <button type="button" class="usa-button-icon" style="margin-left: -27px;" ng-click="unselectJstreeItemFunctionalCodes(item)">
                        <i class="fa fa-times-circle"></i>
                      </button>
                      <span style="background-color: #e7f4f9; padding: 5px;">
                        {{ item.value }}
                      </span>
                    </li>
                  </ul>
                </div>
              </div>

            </div>

            <!-- /Prototype -->

            <!-- <ul ng-show="gsavm.program.functionalCodes.length" class="usa-unstyled-list usa-input-field">
              <li ng-repeat="item in gsavm.program.functionalCodes">
                <div class="usa-input-field-content">{{ item.displayValue }}</div>
                <div class="usa-input-field-options">
                  <button type="button" class="usa-button-compact" ng-click="unselectDictionary(item, 'aFunctionalCode')">
                    <span class="fa fa-trash"></span>
                  </button>
                </div>
              </li>
            </ul>

            <isteven-multi-select
            max-labels="1"
            input-model="dictionary.aFunctionalCode"
            output-model="gsavm.program.functionalCodes"
            button-label="displayValue"
            item-label="displayValue"
            tick-property="ticked"
            max-height="250px"
            group-property="msGroup"
            output-properties="element_id displayValue"
            helper-elements="all none filter"></isteven-multi-select> -->

          </div>
        </div>
      </section>

      <!-- 300 Subject Terms -->
      <section class="usa-segment usa-segment-shadow" field-finder-bookmark title="300 Subject Terms">
        <div class="usa-grid">
          <div class="usa-width-one-whole">

            <legend>{{::instructionalText["01"]["300"]["title"]}}</legend>
            <label>{{::instructionalText["01"]["300"]["label"]}}<span class="required">*</span></label>
            <span class="usa-form-hint">{{::instructionalText["01"]["300"]["helpText"]}}</span>

            <!-- Prototype: TODO Refactor to directive -->
            <div class="usa-grid-full">

              <div class="usa-width-one-third" style="width: 47%; margin-right:0;">
                <div class="jstree-container removeleftmargin" style="position: relative;">
                  <label class="usa-sr-only">Search</label>
                  <i class="fa fa-search fa-lg" style="position: absolute; right: 20px; top: 12px; color: #ccc;"></i>
                  <input ng-model="jstreeSearchTexSubjectTerms" placeholder="Search Temporary Disabled" disabled="disabled">
                  <div js-tree="treeConfigSubjectTerms" ng-model="treeDataSubjectTerms" tree="gsavm.treeInstanceSubjectTerms" tree-events-obj="treeEventsObjSubjectTerms"></div>
                </div>
              </div>

              <div class="usa-width-one-third usa-text-align-center" style="width: 6%; margin-right:0;">
                <i class="fa fa-arrow-circle-right fa-2x" style="color: #e4e4e4; margin-top:160px;"></i>
              </div>

              <div class="usa-width-one-third" style="width: 47%;">
                <div class="jstree-container" style="padding: 20px;">
                  <strong>Selected subject terms</strong>
                  <p class="usa-form-hint">
                    Please add a subject term from the left column
                  </p>
                  <ul class="usa-unstyled-list">
                    <li ng-repeat="item in subjectTerms" style="margin-bottom: 7px; margin-left: 30px;">
                      <button type="button" class="usa-button-icon" style="margin-left: -27px;" ng-click="unselectJstreeItemSubjectTerms(item)">
                        <i class="fa fa-times-circle"></i>
                      </button>
                      <span style="background-color: #e7f4f9; padding: 5px;">
                        <strong>{{ item.code }} - </strong>{{ item.value }}
                      </span>
                    </li>
                  </ul>
                </div>
              </div>

            </div>
            <!-- /Prototype -->

            <!-- <multi-entry ng-model="gsavm.program.subjectTerms" name="subjectTerms" item-title="gsavm.getAuthorizationTitle" editable-items="false" new-entry-btn-name="Add Subject Terms" delete-btn-label="Remove Subject Term" parent-vm="gsavm" required-Length='{ "min": 1 }'>

              <multi-entry-header>
                <legend>{{::$ctrl.parentVm.instructionalText["01"]["300"]["title"]}}</legend>
              </multi-entry-header>

              <label>{{::$ctrl.parentVm.instructionalText["01"]["300"]["label"]}}<span class="required">*</span></label>
              <span class="usa-form-hint">{{::$ctrl.parentVm.instructionalText["01"]["300"]["helpText"]}}</span>

              <a ng-click="clickToOpen('d300')" tabindex="0" trigger-click-on-enter>Read More</a>

              <multi-entry-list editable="false" ng-hide="$ctrl.parentVm.form.subjectTerms.$error.requiredLength">
                <span>{{$ctrl.parentVm.getChoiceModel(item, 'element_id', 'program_subject_terms').displayValue}}</span>
              </multi-entry-list>

              <multi-entry-select>
                <ux-adv-multi-select
                ng-model="_multiEntrySelect.current"
                ux-choices="$ctrl.parentVm.choices['program_subject_terms']"
                ux-choice-value="element_id"
                ux-choice-title="displayValue"
                ux-items-per-page="25"
                ux-displayed-pages="5"
                ux-search-filter="filter: {displayValue: srchText }"></ux-adv-multi-select>
              </multi-entry-select>
            </multi-entry> -->

          </div>
        </div>
      </section>

    </ux-form-section>


    <!-- Eligibility / Qualifications -->
    <ux-form-section state-key="eligibility" section-title="Eligibility / Qualifications" field-finder-section>
      <back-top ng-click="focus('.usa-steps ul li:first > a')" class="back-to-top" scroll-speed=600 button-theme="cfdabacktop"></back-top>
      <!-- Header -->
      <div class="usa-grid">
        <div class="usa-width-one-whole">
          <h2>
            <span class="section-circle">
              2
            </span>
            Eligibility / Qualifications
          </h2>
        </div>
      </div>

      <!-- 080 Eligibility Requirements -->
      <section class="usa-grid" field-finder-bookmark title="080 Eligibility Requirements">
        <div class="usa-width-one-whole usa-padding-top-3 usa-padding-bottom-3">
          <legend>{{::instructionalText["02"]["080"]["title"]}}</legend>

          <!-- 081 Applicant Eligibility -->
          <section field-finder-bookmark title="081 Applicant Eligibility">

            <h4>{{::instructionalText["02"]["081"]["title"]}}</h4>
            <label>{{::instructionalText["02"]["081"]["eligibleApplicants"]["label"]}}<span class="required">*</span></label>
            <span class="usa-form-hint">{{::instructionalText["02"]["081"]["eligibleApplicants"]["helpText"]}}</span>

            <a href="#" ng-click="clickToOpen('d081')" tabindex="0" trigger-click-on-enter>Read More</a>

            <ul ng-show="gsavm.program.eligibility.applicant.types.length" class="usa-unstyled-list usa-input-field">
              <li ng-repeat="item in gsavm.program.eligibility.applicant.types">
                <div class="usa-input-field-content">{{ item.displayValue }}</div>
                <div class="usa-input-field-options">
                  <button type="button" class="usa-button-compact" ng-click="unselectDictionary(item, 'aApplicantEligibility')">
                    <span class="fa fa-trash"></span>
                  </button>
                </div>
              </li>
            </ul>
            <isteven-multi-select
            max-labels="1"
            input-model="dictionary.aApplicantEligibility"
            output-model="gsavm.program.eligibility.applicant.types"
            button-label="displayValue"
            item-label="displayValue"
            tick-property="ticked"
            max-height="250px"
            output-properties="element_id displayValue"
            helper-elements="all none filter"></isteven-multi-select>

            <label>{{::instructionalText["02"]["081"]["useOfAssistance"]["label"]}}<span class="required">*</span></label>
            <span class="usa-form-hint">{{::instructionalText["02"]["081"]["useOfAssistance"]["helpText"]}}</span>

            <a href="#" ng-click="clickToOpen('d081u')" tabindex="0" trigger-click-on-enter>Read More</a>

            <ul ng-show="gsavm.program.eligibility.applicant.assistanceUsageTypes.length" class="usa-unstyled-list usa-input-field">
              <li ng-repeat="item in gsavm.program.eligibility.applicant.assistanceUsageTypes">
                <div class="usa-input-field-content">{{ item.displayValue }}</div>
                <div class="usa-input-field-options">
                  <button type="button" class="usa-button-compact" ng-click="unselectDictionary(item, 'aAssistanceUsageType')">
                    <span class="fa fa-trash"></span>
                  </button>
                </div>
              </li>
            </ul>
            <isteven-multi-select
            max-labels="1"
            input-model="dictionary.aAssistanceUsageType"
            output-model="gsavm.program.eligibility.applicant.assistanceUsageTypes"
            button-label="displayValue"
            item-label="displayValue"
            tick-property="ticked"
            max-height="250px"
            output-properties="element_id displayValue"
            helper-elements="all none filter"
            ></isteven-multi-select>

            <label for="assistanceAdditionalInfo">{{::instructionalText["02"]["081"]["additionalInfo"]["label"]}}<span class="required">*</span></label>
            <span class="usa-form-hint">{{::instructionalText["02"]["081"]["additionalInfo"]["helpText"]}}</span>
            <textarea id="assistanceAdditionalInfo" name="assistanceAdditionalInfo" ng-model="gsavm.program.eligibility.applicant.additionalInfo.content" required>
            </textarea>
            <div ng-show="gsavm.form.$submit || gsavm.form.assistanceAdditionalInfo.$dirty">
              <span ng-show="gsavm.form.assistanceAdditionalInfo.$error.required">You must provide additional information.</span>
            </div>

          </section>


          <!-- 082 Beneficiary Eligibility -->
          <section field-finder-bookmark title="082 Beneficiary Eligibility">

            <h4>{{::instructionalText["02"]["082"]["title"]}}</h4>

            <label>{{::instructionalText["02"]["082"]["beneficiaryEligibility"]["label"]}}<span class="required">*</span></label>
            <span class="usa-form-hint">{{::instructionalText["02"]["082"]["beneficiaryEligibility"]["helpText"]}}</span>

            <a href="#" ng-click="clickToOpen('d082')" tabindex="0" trigger-click-on-enter>Read More</a>

            <ul ng-show="gsavm.program.eligibility.beneficiary.types.length" class="usa-unstyled-list usa-input-field">
              <li ng-repeat="item in gsavm.program.eligibility.beneficiary.types">
                <div class="usa-input-field-content">{{ item.displayValue }}</div>
                <div class="usa-input-field-options">
                  <button type="button" class="usa-button-compact" ng-click="unselectDictionary(item, 'aBeneficiaryEligibility')">
                    <span class="fa fa-trash"></span>
                  </button>
                </div>
              </li>
            </ul>
            <isteven-multi-select
            max-labels="1"
            input-model="dictionary.aBeneficiaryEligibility"
            output-model="gsavm.program.eligibility.beneficiary.types"
            button-label="displayValue"
            item-label="displayValue"
            tick-property="ticked"
            max-height="250px"
            output-properties="element_id displayValue"
            helper-elements="all none filter"
            ></isteven-multi-select>

            <label for="beneficiaryAdditionalInfo">{{::instructionalText["02"]["082"]["additionalInfo"]["label"]}}<span class="required">*</span></label>
            <span class="usa-form-hint">{{::instructionalText["02"]["082"]["additionalInfo"]["helpText"]}}</span>
            <textarea id="beneficiaryAdditionalInfo" name="beneficiaryAdditionalInfo" ng-model="gsavm.program.eligibility.beneficiary.additionalInfo.content" required>
            </textarea>
            <div ng-show="gsavm.form.$submit || gsavm.form.beneficiaryAdditionalInfo.$dirty">
              <span ng-show="gsavm.form.beneficiaryAdditionalInfo.$error.required">You must provide additional information.</span>
            </div>

          </section>

          <!-- 083 Credentials/Documentation -->
          <section field-finder-bookmark title="083 Credentials/Documentation">

            <h4>{{::instructionalText["02"]["083"]["title"]}}</h4>

            <a href="#" ng-click="clickToOpen('d083')" tabindex="0" trigger-click-on-enter>Read More</a>

            <fieldset class="usa-fieldset-inputs usa-sans">
              <label for="credentialsOrDocumentation">{{::instructionalText["02"]["083"]["label"]}}<span class="required">*</span></label>
              <ul class="usa-horizontal-list">
                <li>
                  <input type="radio" name="credentialsOrDocumentation" ng-model="gsavm.program.eligibility.documentation.flag" id="credentialsOrDocumentationYes" value="yes" required/>
                  <label for="credentialsOrDocumentationYes">Yes</label>
                </li>
                <li>
                  <input type="radio" name="credentialsOrDocumentation" ng-model="gsavm.program.eligibility.documentation.flag" id="credentialsOrDocumentationNA" value="na" required/>
                  <label for="credentialsOrDocumentationNA">Not Applicable</label>
                </li>
              </ul>
            </fieldset>

            <div ng-show="gsavm.program.eligibility.documentation.flag === 'yes'">
              <label for="credentialsAdditionalInfo">{{::instructionalText["02"]["083"]["additionalInfo"]["label"]}}<span class="required">*</span></label>
              <textarea id="credentialsAdditionalInfo" name="credentialsAdditionalInfo" ng-model="gsavm.program.eligibility.documentation.content" ng-required="gsavm.program.eligibility.documentation.flag === 'yes'">
              </textarea>

              <div ng-show="gsavm.program.eligibility.documentation.flag && (gsavm.form.$submitted || gsavm.form.credentialsAdditionalInfo.$dirty)">
                <span ng-show="gsavm.form.credentialsAdditionalInfo.$error.required">You must provide additional information.</span>
              </div>

              <fieldset class="usa-fieldset-inputs usa-sans">
                <label for="costPrincipalsAcceptable">{{::instructionalText["02"]["083"]["costPrincipalsAcceptable"]["label"]}}<span class="required">*</span></label>
                <ul class="usa-horizontal-list">
                  <li>
                    <input type="radio" name="costPrincipalsAcceptable" ng-model="gsavm.program.eligibility.documentation.questions['OMBCircularA87'].flag" id="costPrincipalsAcceptableYes" value="yes" ng-required="gsavm.program.eligibility.documentation.flag === 'yes'"/>
                    <label for="costPrincipalsAcceptableYes">Yes</label>
                  </li>
                  <li>
                    <input type="radio" name="costPrincipalsAcceptable" ng-model="gsavm.program.eligibility.documentation.questions['OMBCircularA87'].flag" id="costPrincipalsAcceptableNa" value="na" ng-required="gsavm.program.eligibility.documentation.flag === 'yes'"/>
                    <label for="costPrincipalsAcceptableNa">Not Applicable</label>
                  </li>
                </ul>
              </fieldset>
            </div>

          </section>
        </div>
      </section>
    </ux-form-section>

    <!-- How to Apply -->
    <ux-form-section state-key="apply" section-title="How to Apply" field-finder-section>
      <back-top ng-click="focus('.usa-steps ul li:first > a')" class="back-to-top" scroll-speed=600 button-theme="cfdabacktop"></back-top>
      <!-- Header -->
      <div class="usa-grid">
        <div class="usa-width-one-whole">
          <h2>
            <span class="section-circle">
              3
            </span>
            How to Apply
          </h2>
        </div>
      </div>

      <!-- 090 Application and Award Process -->
      <section class="usa-grid">
        <div class="usa-width-one-whole usa-padding-top-3 usa-padding-bottom-3">

          <legend field-finder-bookmark data-bookmark-parent="true" title="090 Application and Award Process">
            {{::instructionalText["03"]["090"]["title"]}}
          </legend>

          <!-- 091 Pre-application Coordination -->
          <section field-finder-bookmark title="091 Pre-application Coordination">

            <h4>091 Pre-application Coordination<span class="required">*</span></h4>

            <a href="#" ng-click="clickToOpen('d091')" tabindex="0" trigger-click-on-enter>Read More</a>

            <fieldset class="usa-fieldset-inputs usa-sans">
              <label>
                {{::instructionalText["03"]["091"]["label"]}}<span class="required">*</span>
              </label>
              <ul class="usa-horizontal-list">
                <li>
                  <input type="radio" name="preappCoord3" ng-model="gsavm.program.preApplication.coordination.flag" id="preappCoord3Yes" value="yes" required/>
                  <label for="preappCoord3Yes">Yes</label>
                </li>
                <li>
                  <input type="radio" name="preappCoord3" ng-model="gsavm.program.preApplication.coordination.flag" id="preappCoord3Na" value="na" required/>
                  <label for="preappCoord3Na">Not Applicable</label>
                </li>
              </ul>
            </fieldset>

            <div ng-show="gsavm.program.preApplication.coordination.flag === 'yes'">

              <fieldset class="usa-fieldset-inputs usa-sans">
                <label for="environmentalImpact">{{::instructionalText["03"]["091"]["environmentalImpact"]["label"]}}<span class="required">*</span></label>
                <ul class="usa-horizontal-list">
                  <li>
                    <input type="radio" name="environmentalImpact" ng-model="gsavm.program.preApplication.coordination.environmentalImpact.flag" id="preappCoord3question1yes" value="yes" ng-required="gsavm.program.preApplication.coordination.flag === 'yes'"/>
                    <label for="preappCoord3question1yes">Yes</label>
                  </li>
                  <li>
                    <input type="radio" name="environmentalImpact" ng-model="gsavm.program.preApplication.coordination.environmentalImpact.flag" id="preappCoord3question1no" value="no" ng-required="gsavm.program.preApplication.coordination.flag === 'yes'"/>
                    <label for="preappCoord3question1no">No</label>
                  </li>
                </ul>
              </fieldset>
              <div ng-show="gsavm.program.preApplication.coordination.flag === 'yes' && (gsavm.form.$submitted || gsavm.form.environmentalImpact.$dirty)">
                <span ng-show="gsavm.form.environmentalImpact.$error.required">You must provide environmental impact information.</span>
              </div>

              <fieldset class="usa-fieldset-inputs usa-sans usa-margin-top-2" ng-show="gsavm.program.preApplication.coordination.environmentalImpact.flag=='yes'">
                <legend class="usa-sr-only">Impact information</legend>
                <ul class="usa-unstyled-list">
                  <li ng-repeat="reportType in gsavm.types.reportTypes track by reportType">
                    <input type="checkbox" id="{{reportType + '-flag'}}"
                    ng-model="reportFlag"
                    ng-checked="gsavm.program.preApplication.coordination.environmentalImpact.reports[reportType].flag === gsavm.choices['yes_no'].yes.code"
                    ng-change="gsavm.program.preApplication.coordination.environmentalImpact.reports[reportType].flag = reportFlag ? gsavm.choices['yes_no'].yes.code : gsavm.choices['yes_no'].no.code"
                    trigger-click-on-enter>
                    <label for="{{reportType + '-flag'}}">An environmental impact <span type="text" ng-bind="reportType"></span> is required for this program.</label>
                  </li>
                </ul>
              </fieldset>

              <fieldset class="usa-fieldset-inputs usa-sans">
                <label for="preappCoord3question2">{{::instructionalText["03"]["091"]["preappCoord3question2"]["label"]}}<span class="required">*</span></label>
                <ul class="usa-horizontal-list">
                  <li>
                    <input type="radio" name="preappCoord3question2" ng-model="gsavm.program.preApplication.coordination.questions.ExecutiveOrder12372.flag" id="preappCoord3question2yes" value="yes" required/>
                    <label for="preappCoord3question2yes">Yes</label>
                  </li>
                  <li>
                    <input type="radio" name="preappCoord3question2" ng-model="gsavm.program.preApplication.coordination.questions.ExecutiveOrder12372.flag" id="preappCoord3question2no" value="no" required/>
                    <label for="preappCoord3question2no">No</label>
                  </li>
                </ul>
              </fieldset>
              <div ng-show="gsavm.form.$submitted || gsavm.form.preappCoord3question2.$dirty">
                <span ng-show="gsavm.form.preappCoord3question2.$error.required">You must provide restrictions.</span>
              </div>

              <label for="preappCoord3question2info">{{::instructionalText["03"]["091"]["additionalInfo"]["label"]}}</label>
              <textarea id="preappCoord3question2info" name="preappCoord3question2info" ng-model="gsavm.program.preApplication.coordination.additionalInfo.content" ng-required="gsavm.program.usage.restrictions.flag3"></textarea>
              <div ng-show="gsavm.form.$submitted || gsavm.form.restrictions.$dirty">
                <span ng-show="gsavm.form.restrictions.$error.required">You must provide restrictions.</span>
              </div>

            </div>
          </section>

          <!-- 092 Application Procedures -->
          <section field-finder-bookmark title="092 Application Procedures">

            <h4>{{::instructionalText["03"]["092"]["title"]}}<span class="required">*</span></h4>

            <a href="#" ng-click="clickToOpen('d092')" tabindex="0" trigger-click-on-enter>Read More</a>

            <fieldset class="usa-fieldset-inputs usa-sans">
              <label for="applProc3">{{::instructionalText["03"]["092"]["label"]}}</label>
              <ul class="usa-horizontal-list">
                <li>
                  <input type="radio" name="applProc3" ng-model="gsavm.program.application.procedures.questions.OMBCircularA102.flag" id="applProc3yes" value="yes" required/>
                  <label for="applProc3yes">Yes</label>
                </li>
                <li>
                  <input type="radio" name="applProc3" ng-model="gsavm.program.application.procedures.questions.OMBCircularA102.flag" id="applProc3na" value="no" required/>
                  <label for="applProc3na">No</label>
                </li>
              </ul>
            </fieldset>

            <label for="applProc3other">{{::instructionalText["03"]["092"]["additionalInfo"]["label"]}}</label>
            <span class="usa-form-hint">{{::instructionalText["03"]["092"]["additionalInfo"]["helpText"]}}</span>
            <textarea id="applProc3other" name="applProc3other" ng-model="gsavm.program.application.procedures.additionalInfo.content" ng-required="gsavm.program.application.procedures.questions.flag"></textarea>
            <div ng-show="gsavm.form.$submitted || gsavm.form.discretionaryFund.$dirty">
              <span ng-show="gsavm.form.discretionaryFund.$error.required">You must provide the discretionary funds.</span>
            </div>

          </section>

          <!-- 093 Award Procedure -->
          <section field-finder-bookmark title="093 Award Procedure">
            <h4>{{::instructionalText["03"]["093"]["title"]}}<span class="required">*</span></h4>

            <label for="awardProc3">{{::instructionalText["03"]["093"]["label"]}}<span><a href="#" ng-click="clickToOpen('d093')" tabindex="0" trigger-click-on-enter>Read More</a></span></label>

            <textarea id="awardProc3" name="awardProc3" ng-model="gsavm.program.award.procedures.content" required></textarea>
            <div ng-show="gsavm.form.$submitted || gsavm.form.objective.$dirty">
              <span ng-show="gsavm.form.objective.$error.required">You must provide Objectives.</span>
            </div>
          </section>

          <!-- 094 Deadlines -->
          <section field-finder-bookmark title="094 Deadlines">

            <h4>{{::instructionalText["03"]["094"]["title"]}}</h4>

            <a href="#" ng-click="clickToOpen('d094')" tabindex="0" trigger-click-on-enter>Read More</a>

            <fieldset class="usa-fieldset-inputs usa-sans">
              <label for="deadline3">{{::instructionalText["03"]["094"]["label"]}}<span class="required">*</span></label>
              <ul class="usa-horizontal-list">
                <li>
                  <input type="radio" name="deadline3" ng-model="gsavm.program.application.deadlines.submission.flag" id="yes3" value="yes" required/>
                  <label for="yes3">Yes</label>
                </li>
                <li>
                  <input type="radio" name="deadline3" ng-model="gsavm.program.application.deadlines.submission.flag" id="no3" value="no" required/>
                  <label for="no3">No</label>
                </li>
                <li>
                  <input type="radio" name="deadline3" ng-model="gsavm.program.application.deadlines.submission.flag" id="contactHQ3" value="contactHQ" required/>
                  <label for="contactHQ3">Contact the headquarters or regional office, as appropriate for application deadlines</label>
                </li>
              </ul>
            </fieldset>
            <div ng-show="gsavm.form.$submitted || gsavm.form.deadline3.$dirty">
              <span ng-show="gsavm.form.deadline3.$error.required">You must provide input.</span>
            </div>

            <div class="usa-margin-top-3" ng-if="gsavm.program.application.deadlines.submission.flag=='yes'">

              <multi-entry ng-model="gsavm.program.application.deadlines.submission.list" name="deadlines" editable-items="true" new-entry-btn-name="Add Deadline" delete-btn-label="Delete Deadline" parent-vm="gsavm" required-length='{ "min": 1 }'>

                <multi-entry-header>
                  <h4>{{::$ctrl.parentVm.instructionalText["03"]["094"]["deadlines"]["title"]}}</h4>
                </multi-entry-header>
                <span class="usa-form-hint">{{::$ctrl.parentVm.instructionalText["03"]["094"]["deadlines"]["helpText"]}}</span>
                <p class="usa-input-readonly" ng-show="$ctrl.parentVm.form.deadlines.$error.requiredLength">You must add at least one deadline.</p>

                <multi-entry-list ng-hide="$ctrl.parentVm.form.deadlines.$error.requiredLength" editable="true">
                  <span class='text-nowrap'>{{$ctrl.parentVm.getDeadlineTitle(item)}}</span>
                </multi-entry-list>

                <multi-entry-sub-form>
                  <div ng-init="formPath='deadlines'+$ctrl.parentVm.nextId();idPath=formPath;" name="$ctrl.parentVm.form.{{formPath}}">
                     <span class="usa-form-hint">{{::$ctrl.parentVm.instructionalText["03"]["094"]["deadlines"]["form"]["intro"]}}</span>

                    <div class="usa-grid-full">
                      <div class="usa-width-one-half">
                        <p class="input-group">
                          <label for="deadline-start">Deadline Start Date</label>
                          <input  datepicker-popup-template-url="search/calendar/popup.tpl.html"
                                  datepicker-template-url="search/calendar/datepicker.tpl.html"
                                  type="text"
                                  id="deadline-start"
                                  uib-datepicker-popup="MM/dd/yyyy"
                                  is-open="$ctrl.parentVm.datepickers['deadlineStart'].opened"
                                  ng-model="$subForm.current.start"
                                  ng-required="true"
                                  datepicker-options="{ showWeeks: false}"
                                  close-text="Close"/>
                          <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="$ctrl.parentVm.openDatepicker($event, 'deadlineStart')"><i class="fa fa-calendar"></i></button>
                          </span>
                        </p>
                      </div>
                      <div class="usa-width-one-half">
                        <p class="input-group">
                          <label for="deadline-end">Deadline End Date</label>
                          <input  datepicker-popup-template-url="search/calendar/popup.tpl.html"
                                  datepicker-template-url="search/calendar/datepicker.tpl.html"
                                  id="deadline-end"
                                  type="text"
                                  uib-datepicker-popup="MM/dd/yyyy"
                                  is-open="$ctrl.parentVm.datepickers['deadlineEnd'].opened"
                                  ng-model="$subForm.current.end"
                                  datepicker-options="{ showWeeks: false}"
                                  close-text="Close"/>
                          <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="$ctrl.parentVm.openDatepicker($event, 'deadlineEnd')"><i class="fa fa-calendar"></i></button>
                          </span>
                        </p>
                      </div>
                    </div>
                    <div class="usa-grid-full">
                      <label for="deadline-desc">Description</label>
                       <span class="usa-form-hint">Optionally provide a description for this deadline</span>
                      <input type="text" id="deadline-desc" name="deadlineDesc" ng-model="$subForm.current.description">
                    </div>
                  </div>
                </multi-entry-sub-form>

              </multi-entry>

              <label for="deadlineAdditionalInfo">{{::instructionalText["03"]["094"]["deadlines"]["additionalInfo"]["label"]}}</label>
              <textarea id="deadlineAdditionalInfo" name="deadlineAdditionalInfo" ng-model="gsavm.program.application.deadlines.submission.additionalInfo.content" ng-required="gsavm.program.application.deadlines.submission.flag"></textarea>
              <div ng-show="gsavm.form.$submitted || gsavm.form.discretionaryFund.$dirty">
                <span ng-show="gsavm.form.discretionaryFund.$error.required">You must provide the discretionary funds.</span>
              </div>

            </div>

          </section>

          <!-- 095 Range of Approval/Disapproval Time -->
          <section field-finder-bookmark title="095 Range of Approval/Disapproval Time">
            <h4>{{::instructionalText["03"]["095"]["title"]}}<span class="required">*</span></h4>

            <label for="approvalTime3">{{::instructionalText["03"]["095"]["dateRange"]["label"]}}<span><a href="#" ng-click="clickToOpen('d095')" tabindex="0" trigger-click-on-enter>Read More</a></span></label>

            <ui-select id="approvalTime3" ng-model="gsavm.program.application.deadlines.approval.interval" name="approvalTime3" theme="select2" style="width:250px" required>
              <ui-select-match placeholder="Please select a time period">{{$select.selected.value}}</ui-select-match>
              <ui-select-choices repeat="item.element_id as item in gsavm.choices['date_range'] | propsFilter: {value: $select.search}">
                <div ng-bind-html="item.value | highlight: $select.search"></div>
              </ui-select-choices>
            </ui-select>

            <label for="approvalTime3other">{{::instructionalText["03"]["095"]["additionalInfo"]["label"]}}</label>
            <span class="usa-form-hint">{{::instructionalText["03"]["095"]["additionalInfo"]["helpText"]}}</span>
            <textarea id="approvalTime3other" name="approvalTime3other" ng-model="gsavm.program.application.deadlines.approval.otherInfo.content" ng-required="gsavm.program.application.deadlines.approval.otherInfo.content"></textarea>

            <div ng-show="gsavm.form.$submitted || gsavm.form.restrictions.$dirty">
              <span ng-show="gsavm.form.restrictions.$error.required">You must provide restrictions.</span>
            </div>
          </section>

          <!-- 096 Appeals -->
          <section field-finder-bookmark title="096 Appeals">
            <h4>{{::instructionalText["03"]["096"]["title"]}}<span class="required">*</span></h4>

            <label for="appeals3">{{::instructionalText["03"]["096"]["dateRange"]["label"]}}<span><a href="#" ng-click="clickToOpen('d096')" tabindex="0" trigger-click-on-enter>Read More</a></span></label>

            <ui-select id="appeals3" ng-model="gsavm.program.application.deadlines.appeal.interval" name="appeals3" theme="select2" style="width:250px" required>
              <ui-select-match placeholder="Please select a time period">{{$select.selected.value}}</ui-select-match>
              <ui-select-choices repeat="item.element_id as item in gsavm.choices['date_range'] | propsFilter: {value: $select.search}">
                <div ng-bind-html="item.value | highlight: $select.search"></div>
              </ui-select-choices>
            </ui-select>
            <div ng-show="gsavm.form.$submitted || gsavm.form.office.$dirty">
              <span ng-show="gsavm.form.office.$error.required">You must select an office.</span>
            </div>


            <label for="appealsTime3other">{{::instructionalText["03"]["096"]["additionalInfo"]["label"]}}</label>
            <span class="usa-form-hint">{{::instructionalText["03"]["096"]["additionalInfo"]["helpText"]}}</span>
            <textarea id="appealsTime3other" name="appealsTime3other" ng-model="gsavm.program.application.deadlines.appeal.otherInfo.content" ng-required="gsavm.program.application.deadlines.appeal.otherInfo.content"></textarea>
            <div ng-show="gsavm.form.$submitted || gsavm.form.appealsTime3other.$dirty">
              <span ng-show="gsavm.form.appealsTime3other.$error.required">You must provide input.</span>
            </div>
          </section>

          <!-- 097 Renewals -->
          <section class="sub-minor-section" field-finder-bookmark title="097 Renewals">
            <h4>{{::instructionalText["03"]["097"]["title"]}}<span class="required">*</span></h4>

            <label for="renewals3">{{::instructionalText["03"]["097"]["dateRange"]["label"]}}<span><a href="#" ng-click="clickToOpen('d097')" tabindex="0" trigger-click-on-enter>Read More</a></label>

            <ui-select id="renewals3" ng-model="gsavm.program.application.deadlines.renewal.interval" name="renewals3" theme="select2" style="width:250px" required>
              <ui-select-match placeholder="Please select a time period">{{$select.selected.value}}</ui-select-match>
              <ui-select-choices repeat="item.element_id as item in gsavm.choices['date_range'] | propsFilter: {value: $select.search}">
                <div ng-bind-html="item.value | highlight: $select.search"></div>
              </ui-select-choices>
            </ui-select>
            <div ng-show="gsavm.form.$submitted || gsavm.form.office.$dirty">
              <span ng-show="gsavm.form.office.$error.required">You must select an office.</span>
            </div>

            <label for="renewalTime3other">{{::instructionalText["03"]["097"]["additionalInfo"]["label"]}}</label>
            <span class="usa-form-hint">{{::instructionalText["03"]["097"]["additionalInfo"]["helpText"]}}</span>
            <textarea id="renewalTime3other" name="renewalTime3other" ng-model="gsavm.program.application.deadlines.renewal.otherInfo.content" ng-required="gsavm.program.application.deadlines.renewal.otherInfo.content"></textarea>
            <div ng-show="gsavm.form.$submitted || gsavm.form.renewalTime3other.$dirty">
              <span ng-show="gsavm.form.renewalTime3other.$error.required">You must provide input.</span>
            </div>
          </section>

        </div>
      </section>

      <!-- 100 Assistance Consideration -->
      <section class="usa-grid">
        <div class="usa-width-one-whole usa-padding-top-3 usa-padding-bottom-3">
          <legend field-finder-bookmark title="100 Assistance Consideration" data-bookmark-parent="true">
            {{::instructionalText["03"]["100"]["title"]}}
          </legend>

          <section field-finder-bookmark title="101 Formula and Matching Requirements">
            <h4>{{::instructionalText["03"]["101"]["title"]}}</h4>
            <span class="usa-form-hint">{{::instructionalText["03"]["101"]["helpText"]}}</span>

            <a href="#" ng-click="clickToOpen('d101')" tabindex="0" trigger-click-on-enter>Read More</a>

            <fieldset class="usa-fieldset-inputs usa-sans">
              <label for="statuatoryFormula3">{{::instructionalText["03"]["101"]["statuatoryFormula"]["label"]}}<span class="required">*</span></label>

              <ul class="usa-horizontal-list">
                <li>
                  <input type="radio" name="statuatoryFormula3" ng-model="gsavm.program.assistance.formula.flag" id="statuatoryFormula3yes" value="yes" required/>
                  <label for="statuatoryFormula3yes">Yes</label>
                </li>
                <li>
                  <input type="radio" name="statuatoryFormula3" ng-model="gsavm.program.assistance.formula.flag" id="statuatoryFormula3no" value="no" required/>
                  <label for="statuatoryFormula3no">No</label>
                </li>
                <li>
                  <input type="radio" name="statuatoryFormula3" ng-model="gsavm.program.assistance.formula.flag" id="statuatoryFormula3NA" value="na" required/>
                  <label for="statuatoryFormula3NA">Not Applicable</label>
                </li>
              </ul>
            </fieldset>
            <div ng-show="gsavm.form.$submitted || gsavm.form.statuatoryFormula3.$dirty">
              <span ng-show="gsavm.form.statuatoryFormula3.$error.required">You must provide an answer.</span>
            </div>
            <div class="usa-grid" ng-show="gsavm.program.assistance.formula.flag=='yes'">
              <label for="formulaTitle3">{{::instructionalText["03"]["101"]["statuatoryFormula"]["formulaForm"]["title"]["label"]}}</label></td>
              <input type="text" id="formulaTitle3" name="formulaTitle3" ng-model="gsavm.program.assistance.formula.title"></td>
              <label for="formulaChapter3">{{::instructionalText["03"]["101"]["statuatoryFormula"]["formulaForm"]["chapter"]["label"]}}</label></td>
              <input type="text" id="formulaChapter3" name="formulaChapter3" ng-model="gsavm.program.assistance.formula.chapter"></td>
              <label for="formulaPart3">{{::instructionalText["03"]["101"]["statuatoryFormula"]["formulaForm"]["part"]["label"]}}</label></td>
              <input type="text" id="formulaPart3" name="formulaPart3" ng-model="gsavm.program.assistance.formula.part"></td>
              <label for="formulaSubpart3">{{::instructionalText["03"]["101"]["statuatoryFormula"]["formulaForm"]["subpart"]["label"]}}</label></td>
              <input type="text" id="formulaSubpart3" name="formulaSubpart3" ng-model="gsavm.program.assistance.formula.subPart"></td>
              <label for="formulaPublicLaw3">{{::instructionalText["03"]["101"]["statuatoryFormula"]["formulaForm"]["publicLaw"]["label"]}}</label></td>
              <input type="text" id="formulaPublicLaw3" name="formulaPublicLaw3" ng-model="gsavm.program.assistance.formula.publicLaw"></td>
              <label for="formulaInfo3">{{::instructionalText["03"]["101"]["statuatoryFormula"]["formulaForm"]["additionalInfo"]["label"]}}</label></td>
              <textarea id="formulaInfo3" name="formulaInfo3" ng-model="gsavm.program.assistance.formula.additionalInfo.content"></textarea>
            </div>

            <fieldset class="usa-fieldset-inputs usa-sans usa-sans">
              <label for="matchingRequirements3">{{::instructionalText["03"]["101"]["matchingRequirements"]["label"]}}<span class="required">*</span></label>
              <ul class="usa-horizontal-list">
                <li>
                  <input type="radio" name="matchingRequirements3" ng-model="gsavm.program.assistance.matching.flag" id="matchingRequirements3yes" value="yes" required/>
                  <label for="matchingRequirements3yes">Yes</label>
                </li>
                <li>
                  <input type="radio" name="matchingRequirements3" ng-model="gsavm.program.assistance.matching.flag" id="matchingRequirements3no" value="no" required/>
                  <label for="matchingRequirements3no">No</label>
                </li>
                <li>
                  <input type="radio" name="matchingRequirements3" ng-model="gsavm.program.assistance.matching.flag" id="matchingRequirements3NA" value="na" required/>
                  <label for="matchingRequirements3NA">Not Applicable</label>
                </li>
              </ul>
            </fieldset>
            <div ng-show="gsavm.form.$submitted || gsavm.form.matchingRequirements3.$dirty">
              <span ng-show="gsavm.form.matchingRequirements3.$error.required">You must provide an answer.</span>
            </div>

            <div ng-show="gsavm.program.assistance.matching.flag=='yes'">
              <label for="matchingPercent3">{{::instructionalText["03"]["101"]["matchingRequirements"]["dateRange"]["label"]}}<span class="required">*</span>:</label>
              <ui-select id="matchingPercent3" ng-model="gsavm.program.assistance.matching.percent" name="matchingPercent3" theme="select2" required>
                <ui-select-match placeholder="Please select a percentage">{{$select.selected.value}}</ui-select-match>
                <ui-select-choices repeat="item.element_id as item in gsavm.choices['match_percent'] | propsFilter: {value: $select.search}">
                  <div ng-bind-html="item.value | highlight: $select.search"></div>
                </ui-select-choices>
              </ui-select>
              <label for="matchingOtherInfo3">{{::instructionalText["03"]["101"]["matchingRequirements"]["additionalInfo"]["label"]}}</label>
              <textarea id="matchingOtherInfo3" name="renewalTime3other" ng-model="gsavm.program.assistance.matching.otherInfo.content" ng-required="gsavm.program.assistance.matching.otherInfo.content"></textarea>
              <div ng-show="gsavm.form.$submitted || gsavm.form.restrictions.$dirty">
                <span ng-show="gsavm.form.restrictions.$error.required">You must provide restrictions.</span>
              </div>
            </div>

            <fieldset class="usa-fieldset-inputs usa-sans">
              <label for="MOErequirements3">{{::instructionalText["03"]["101"]["moeRequirements"]["label"]}}<span class="required">*</span></label>

              <ul class="usa-horizontal-list">
                <li>
                  <input type="radio" name="MOErequirements3" ng-model="gsavm.program.assistance.moe.flag" id="MOErequirements3yes" value="yes" required/>
                  <label for="MOErequirements3yes">Yes</label>
                </li>
                <li>
                  <input type="radio" name="MOErequirements3" ng-model="gsavm.program.assistance.moe.flag" id="MOErequirements3no" value="no" required/>
                  <label for="MOErequirements3no">No</label>
                </li>
                <li>
                  <input type="radio" name="MOErequirements3" ng-model="gsavm.program.assistance.moe.flag" id="MOErequirements3NA" value="na" required/>
                  <label for="MOErequirements3NA">Not Applicable</label>
                </li>
              </ul>
            </fieldset>

            <div ng-show="gsavm.form.$submitted || gsavm.form.MOErequirements3.$dirty">
              <span ng-show="gsavm.form.MOErequirements3.$error.required">You must provide an answer.</span>
            </div>
            <div class="input-field" ng-show="gsavm.program.assistance.moe.flag=='yes'">
              <div class="input-field">
                <label for="MOEAddInfo3">{{::instructionalText["03"]["101"]["moeRequirements"]["additionalInfo"]["label"]}}</label>
                <textarea id="MOEAddInfo3" name="renewalTime3other" ng-model="gsavm.program.assistance.moe.additionalInfo.content" ng-required="gsavm.program.assistance.moe.additionalInfo.content"></textarea>

                <div ng-show="gsavm.form.$submitted || gsavm.form.restrictions.$dirty">
                  <span ng-show="gsavm.form.restrictions.$error.required">You must provide restrictions.</span>
                </div>
              </div>
            </div>
          </section>

          <section field-finder-bookmark title="102 Length and Time Phasing of Assistance">
            <h4>{{::instructionalText["03"]["102"]["title"]}}</h4>

            <a href="#" ng-click="clickToOpen('d102')" tabindex="0" trigger-click-on-enter>Read More</a>

            <label for="assistLimit3">{{::instructionalText["03"]["102"]["assistLimit"]["label"]}}<span class="required">*</span></label>
            <textarea id="assistLimit3" name="assistLimit3" class="usa-input-large" ng-model="gsavm.program.assistance.limitation.content" required></textarea>

            <div ng-show="gsavm.form.$submitted || gsavm.form.objective.$dirty">
              <span ng-show="gsavm.form.objective.$error.required">You must provide Objectives.</span>
            </div>
            <label for="assistanceAwarded3">{{::instructionalText["03"]["102"]["assistanceAwarded"]["label"]}}<span class="required">*</span></label>
            <span class="usa-form-hint">{{::instructionalText["03"]["102"]["assistanceAwarded"]["helpText"]}}</span>
            <select id="assistanceAwarded3" name="assistanceAwarded3" class="usa-input-large" ng-model="gsavm.program.assistance.limitation.awarded">
              <option value=''></option>
              <option value='Lump Sum'>Lump Sum</option>
              <option value='Quarterly'>Quarterly</option>
              <option value='By Letter of Credit'>By Letter of Credit</option>
              <option value='Other'>Other</option>
            </select>
          </section>
        </div>
      </section>

      <!-- 180 Criteria for Selecting Proposals -->
      <section class="usa-grid" field-finder-bookmark title="180 Criteria for Selecting Proposals">
        <legend>{{::instructionalText["03"]["180"]["title"]}}<span class="required">*</span></legend>

        <a href="#" ng-click="clickToOpen('d180')" tabindex="0" trigger-click-on-enter>Read More</a>

        <fieldset class="usa-fieldset-inputs usa-sans">
          <label for="criteriaProposals3">{{::instructionalText["03"]["180"]["label"]}}</label>

          <ul class="usa-horizontal-list">
            <li>
              <input type="radio" name="criteriaProposals3" ng-model="gsavm.program.application.selectionCriteria.flag" id="criteriaProposals3yes" value="yes" required/>
              <label for="criteriaProposals3yes">Yes</label>
            </li>
            <li>
              <input type="radio" name="criteriaProposals3" ng-model="gsavm.program.application.selectionCriteria.flag" id="criteriaProposals3no" value="no" required/>
              <label for="criteriaProposals3no">No</label>
            </li>
            <li>
              <input type="radio" name="criteriaProposals3" ng-model="gsavm.program.application.selectionCriteria.flag" id="criteriaProposals3NA" value="na" required/>
              <label for="criteriaProposals3NA">Not Applicable</label>
            </li>
          </ul>
        </fieldset>

        <div ng-show="gsavm.form.$submitted || gsavm.form.criteriaProposals3.$dirty">
          <span ng-show="gsavm.form.criteriaProposals3.$error.required">You must provide an answer.</span>
        </div>
        <div ng-show="gsavm.program.application.selectionCriteria.flag=='yes'">
          <label for="criteriaProposals3Info">{{::instructionalText["03"]["180"]["additionalInfo"]["label"]}}<span class="required">*</span></label>
          <span class="usa-form-hint">{{::instructionalText["03"]["180"]["additionalInfo"]["helpText"]}}</span>
          <textarea id="criteriaProposals3Info" name="criteriaProposals3Info" ng-model="gsavm.program.application.selectionCriteria.content" ng-required="gsavm.program.application.selectionCriteria.flag === 'yes'"></textarea>

          <div ng-show="gsavm.program.application.selectionCriteria.flag === 'yes' && (gsavm.form.$submitted || gsavm.form.criteriaProposals3Info.$dirty)">
            <span ng-show="gsavm.form.criteriaProposals3Info.$error.required">You must provide restrictions.</span>
          </div>
        </div>
      </section>
    </ux-form-section>

    <!-- Post Award Requirements -->
    <ux-form-section state-key="awards" section-title="Post Award Requirements" field-finder-section>
      <back-top ng-click="focus('.usa-steps ul li:first > a')" class="back-to-top" scroll-speed=600 button-theme="cfdabacktop"></back-top>
      <h2><span class="section-circle">4</span> Post Award Requirements</h2>
      <section class="sub-section">
        <h3 field-finder-bookmark title="110 Post Assistance Requirements" data-bookmark-parent="true">{{::instructionalText["04"]["110"]["title"]}}</h3>

        <a href="#" ng-click="clickToOpen('d110')" tabindex="0" trigger-click-on-enter>Read More</a>

        <section class="sub-minor-section" field-finder-bookmark title="111 Reports">
          <h4>{{::instructionalText["04"]["111"]["title"]}}</h4>

          <div class="input-field">
            <fieldset class="usa-fieldset-inputs usa-sans">
              <label for="reports">{{::instructionalText["04"]["111"]["label"]}}<span class="required">*</span></label>

              <ul class="usa-horizontal-list">
                <li>
                  <input name="reports" ng-model="gsavm.program.postAward.reports.flag" id="reports-yes" type="radio" value="yes" required>
                  <label for="reports-yes">Yes</label>
                </li>
                <li>
                  <input name="reports" ng-model="gsavm.program.postAward.reports.flag" id="reports-no" type="radio" value="no" required>
                  <label for="reports-no">No</label>
                </li>
                <li>
                  <input name="reports" ng-model="gsavm.program.postAward.reports.flag" id="reports-na" type="radio" value="na" required>
                  <label for="reports-na">Not Applicable</label>
                </li>
              </ul>
              <div ng-show="gsavm.form.$submitted || gsavm.form.reports.$dirty">
                <span ng-show="gsavm.form.reports.$error.required">You must provide an answer.</span>
              </div>
            </fieldset>
            <div ng-show='gsavm.program.postAward.reports.flag === "yes"'>
              <div class="input-field">
                <fieldset class="usa-fieldset-inputs usa-sans">
                  <label for="programReports">{{::instructionalText["04"]["111"]["programReports"]["label"]}}<span class="required">*</span></label>
                  <ul class="usa-horizontal-list">
                    <li>
                      <input name="programReports" ng-model="gsavm.program.postAward.reports.list.program.flag" id="programReports-yes" type="radio" value="yes" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                      <label for="programReports-yes">Yes</label>
                    </li>
                    <li>
                      <input name="programReports" ng-model="gsavm.program.postAward.reports.list.program.flag" id="programReports-no" type="radio" value="no" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                      <label for="programReports-no">No</label>
                    </li>
                    <li>
                      <input name="programReports" ng-model="gsavm.program.postAward.reports.list.program.flag" id="programReports-na" type="radio" value="na" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                      <label for="programReports-na">Not Applicable</label>
                    </li>
                  </ul>
                  <div ng-show='gsavm.program.postAward.reports.flag === "yes" && (gsavm.form.$submitted || gsavm.form.programReports.$dirty)'>
                    <span ng-show="gsavm.form.programReports.$error.required">You must provide an answer.</span>
                  </div>
                </fieldset>
                <div ng-show="gsavm.program.postAward.reports.list.program.flag === 'yes'">
                  <label for="programReportsInfo">{{::instructionalText["04"]["111"]["programReports"]["additionalInfo"]["label"]}}<span class="required">*</span></label>
                  <textarea id="programReportsInfo" name="programReportsInfo" ng-model="gsavm.program.postAward.reports.list.program.content" ng-required="gsavm.program.postAward.reports.flag === 'yes' && gsavm.program.postAward.reports.list.program.flag==='yes'"></textarea>

                  <div ng-show="gsavm.program.postAward.reports.list.program.flag==='yes' && (gsavm.form.$submitted || gsavm.form.programReportsInfo.$dirty)">
                    <span ng-show="gsavm.form.programReportsInfo.$error.required">You must provide an answer.</span>
                  </div>
                </div>
              </div>
              <div class="input-field">
                <fieldset class="usa-fieldset-inputs usa-sans">
                  <label for="cashReports">{{::instructionalText["04"]["111"]["cashReports"]["label"]}}<span class="required">*</span></label>
                  <ul class="usa-horizontal-list">
                    <li>
                      <input name="cashReports" ng-model="gsavm.program.postAward.reports.list.cash.flag" id="cashReports-yes" type="radio" value="yes" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                      <label for="cashReports-yes">Yes</label>
                    </li>
                    <li>
                      <input name="cashReports" ng-model="gsavm.program.postAward.reports.list.cash.flag" id="cashReports-no" type="radio" value="no" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                      <label for="cashReports-no">No</label>
                    </li>
                    <li>
                      <input name="cashReports" ng-model="gsavm.program.postAward.reports.list.cash.flag" id="cashReports-na" type="radio" value="na" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                      <label for="cashReports-na">Not Applicable</label>
                    </li>
                  </ul>
                  <div ng-show='gsavm.program.postAward.reports.flag === "yes" && (gsavm.form.$submitted || gsavm.form.cashReports.$dirty)'>
                    <span ng-show="gsavm.form.cashReports.$error.required">You must provide an answer.</span>
                  </div>
                </fieldset>
                <div ng-show="gsavm.program.postAward.reports.list.cash.flag === 'yes'">
                  <label for="cashReportsInfo">{{::instructionalText["04"]["111"]["cashReports"]["additionalInfo"]["label"]}}<span class="required">*</span></label>
                  <textarea id="cashReportsInfo" name="cashReportsInfo" ng-model="gsavm.program.postAward.reports.list.cash.content" ng-required="gsavm.program.postAward.reports.flag === 'yes' && gsavm.program.postAward.reports.list.cash.flag==='yes'"></textarea>

                  <div ng-show="gsavm.program.postAward.reports.list.cash.flag==='yes' && (gsavm.form.$submitted || gsavm.form.cashReportsInfo.$dirty)">
                    <span ng-show="gsavm.form.cashReportsInfo.$error.required">You must provide an answer.</span>
                  </div>
                </div>
              </div>
              <div class="input-field">
                <fieldset class="usa-fieldset-inputs usa-sans">
                  <label for="progressReports">{{::instructionalText["04"]["111"]["progressReports"]["label"]}}<span class="required">*</span></label>
                  <ul class="usa-horizontal-list">
                    <li>
                      <input name="progressReports" ng-model="gsavm.program.postAward.reports.list.progress.flag" id="progressReports-yes" type="radio" value="yes" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                      <label for="progressReports-yes">Yes</label>
                    </li>
                    <li>
                      <input name="progressReports" ng-model="gsavm.program.postAward.reports.list.progress.flag" id="progressReports-no" type="radio" value="no" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                      <label for="progressReports-no">No</label>
                    </li>
                    <li>
                      <input name="progressReports" ng-model="gsavm.program.postAward.reports.list.progress.flag" id="progressReports-na" type="radio" value="na" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                      <label for="progressReports-na">Not Applicable</label>
                    </li>
                  </ul>
                  <div ng-show='gsavm.program.postAward.reports.flag === "yes" && (gsavm.form.$submitted || gsavm.form.progressReports.$dirty)'>
                    <span ng-show="gsavm.form.progressReports.$error.required">You must provide an answer.</span>
                  </div>
                </fieldset>
                <div ng-show="gsavm.program.postAward.reports.list.progress.flag === 'yes'">
                  <label for="progressReportsInfo">{{::instructionalText["04"]["111"]["progressReports"]["additionalInfo"]["label"]}}<span class="required">*</span></label>
                  <textarea id="progressReportsInfo" name="progressReportsInfo" ng-model="gsavm.program.postAward.reports.list.progress.content" ng-required="gsavm.program.postAward.reports.flag === 'yes' && gsavm.program.postAward.reports.list.progress.flag==='yes'"></textarea>

                  <div ng-show="gsavm.program.postAward.reports.list.progress.flag==='yes' && (gsavm.form.$submitted || gsavm.form.progressReportsInfo.$dirty)">
                    <span ng-show="gsavm.form.progressReportsInfo.$error.required">You must provide an answer.</span>
                  </div>
                </div>
              </div>
              <div class="input-field">
                <fieldset class="usa-fieldset-inputs usa-sans">
                  <label for="expenditureReports">{{::instructionalText["04"]["111"]["expenditureReports"]["label"]}}<span class="required">*</span></label>
                  <ul class="usa-horizontal-list">
                    <li>
                      <input name="expenditureReports" ng-model="gsavm.program.postAward.reports.list.expenditure.flag" id="expenditureReports-yes" type="radio" value="yes" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                      <label for="expenditureReports-yes">Yes</label>
                    </li>
                    <li>
                      <input name="expenditureReports" ng-model="gsavm.program.postAward.reports.list.expenditure.flag" id="expenditureReports-no" type="radio" value="no" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                      <label for="expenditureReports-no">No</label>
                    </li>
                    <li>
                      <input name="expenditureReports" ng-model="gsavm.program.postAward.reports.list.expenditure.flag" id="expenditureReports-na" type="radio" value="na" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                      <label for="expenditureReports-na">Not Applicable</label>
                    </li>
                  </ul>
                  <div ng-show='gsavm.program.postAward.reports.flag === "yes" && (gsavm.form.$submitted || gsavm.form.expenditureReports.$dirty)'>
                    <span ng-show="gsavm.form.expenditureReports.$error.required">You must provide an answer.</span>
                  </div>
                </fieldset>
                <div ng-show="gsavm.program.postAward.reports.list.expenditure.flag === 'yes'">
                  <label for="expenditureReportsInfo">{{::instructionalText["04"]["111"]["expenditureReports"]["additionalInfo"]["label"]}}<span class="required">*</span></label>
                  <textarea id="expenditureReportsInfo" name="expenditureReportsInfo" ng-model="gsavm.program.postAward.reports.list.expenditure.content" ng-required="gsavm.program.postAward.reports.flag === 'yes' && gsavm.program.postAward.reports.list.expenditure.flag==='yes'"></textarea>

                  <div ng-show="gsavm.program.postAward.reports.list.expenditure.flag==='yes' && (gsavm.form.$submitted || gsavm.form.expenditureReportsInfo.$dirty)">
                    <span ng-show="gsavm.form.expenditureReportsInfo.$error.required">You must provide an answer.</span>
                  </div>
                </div>
              </div>
              <div class="input-field">
                <fieldset class="usa-fieldset-inputs usa-sans">
                  <label for="performanceMonitoring">{{::instructionalText["04"]["111"]["performanceMonitoring"]["label"]}}<span class="required">*</span></label>
                  <ul class="usa-horizontal-list">
                    <li>
                      <input name="performanceMonitoring" ng-model="gsavm.program.postAward.reports.list.performanceMonitoring.flag" id="performanceMonitoring-yes" type="radio" value="yes" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                      <label for="performanceMonitoring-yes">Yes</label>
                    </li>
                    <li>
                      <input name="performanceMonitoring" ng-model="gsavm.program.postAward.reports.list.performanceMonitoring.flag" id="performanceMonitoring-no" type="radio" value="no" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                      <label for="performanceMonitoring-no">No</label>
                    </li>
                    <li>
                      <input name="performanceMonitoring" ng-model="gsavm.program.postAward.reports.list.performanceMonitoring.flag" id="performanceMonitoring-na" type="radio" value="na" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                      <label for="performanceMonitoring-na">Not Applicable</label>
                    </li>
                  </ul>
                  <div ng-show='gsavm.program.postAward.reports.flag === "yes" && (gsavm.form.$submitted || gsavm.form.performanceMonitoring.$dirty)'>
                    <span ng-show="gsavm.form.performanceMonitoring.$error.required">You must provide an answer.</span>
                  </div>
                </fieldset>
                <div ng-show="gsavm.program.postAward.reports.list.performanceMonitoring.flag === 'yes'">
                  <label for="performanceMonitoringInfo">{{::instructionalText["04"]["111"]["performanceMonitoring"]["additionalInfo"]["label"]}}<span class="required">*</span></label>
                  <textarea id="performanceMonitoringInfo" name="performanceMonitoringInfo" ng-model="gsavm.program.postAward.reports.list.performanceMonitoring.content" ng-required="gsavm.program.postAward.reports.flag === 'yes' && gsavm.program.postAward.reports.list.performanceMonitoring.flag==='yes'"></textarea>

                  <div ng-show="gsavm.program.postAward.reports.list.performanceMonitoring.flag==='yes' && (gsavm.form.$submitted || gsavm.form.performanceMonitoringInfo.$dirty)">
                    <span ng-show="gsavm.form.performanceMonitoringInfo.$error.required">You must provide an answer.</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <section class="sub-minor-section" field-finder-bookmark title="112 Audits">
          <h4>{{::instructionalText["04"]["112"]["title"]}}</h4>

          <div class="input-field">
            <fieldset class="usa-fieldset-inputs usa-sans">
              <label for="audits">{{::instructionalText["04"]["112"]["label"]}}<span class="required">*</span></label>

              <ul class="usa-horizontal-list">
                <li>
                  <input name="audits" ng-model="gsavm.program.postAward.audit.flag" id="audits-yes" type="radio" value="yes" required>
                  <label for="audits-yes">Yes</label>
                </li>
                <li>
                  <input name="audits" ng-model="gsavm.program.postAward.audit.flag" id="audits-no" type="radio" value="no" required>
                  <label for="audits-no">No</label>
                </li>
                <li>
                  <input name="audits" ng-model="gsavm.program.postAward.audit.flag" id="audits-na" type="radio" value="na" required>
                  <label for="audits-na">Not Applicable</label>
                </li>
              </ul>

            </fieldset>
            <div ng-show='gsavm.form.$submitted || gsavm.form.audits.$dirty'>
              <span ng-show="gsavm.form.audits.$error.required">You must provide an answer.</span>
            </div>
            <div ng-show='gsavm.program.postAward.audit.flag === "yes"'>
              <label for="auditRequirements">{{::instructionalText["04"]["112"]["auditRequirements"]["label"]}}<span class="required">*</span></label>
              <fieldset class="usa-fieldset-inputs usa-sans">
                <ul class="usa-horizontal-list">
                  <li>
                    <input name="auditRequirements" ng-model="gsavm.program.postAward.audit.questions['OMBCircularA133'].flag" id="auditRequirements-yes" type="radio" value="yes" required>
                    <label for="auditRequirements-yes">Yes</label>
                  </li>
                  <li>
                    <input name="auditRequirements" ng-model="gsavm.program.postAward.audit.questions['OMBCircularA133'].flag" id="auditRequirements-no" type="radio" value="no" required>
                    <label for="auditRequirements-no">No</label>
                  </li>
                </ul>
              </fieldset>
              <label for="auditRequirementsInfo">{{::instructionalText["04"]["112"]["additionalInfo"]["label"]}}<span class="required" ng-show="gsavm.program.postAward.audit.flag ==='yes' && gsavm.program.postAward.audit.question.flag === 'no'">*</span></label>
              <span class="usa-form-hint">{{::instructionalText["04"]["112"]["additionalInfo"]["helpText"]}}</span>
              <textarea id="auditRequirementsInfo" name="auditRequirementsInfo" ng-model="gsavm.program.postAward.audit.content" ng-required="gsavm.program.postAward.audit.flag ==='yes'&& gsavm.program.postAward.audit.question.flag === 'no'"></textarea>

              <div ng-show="gsavm.program.postAward.audit.flag ==='yes' && gsavm.program.postAward.audit.question.flag === 'no' && (gsavm.form.$submitted || gsavm.form.auditRequirementsInfo.$dirty)">
                <span ng-show="gsavm.form.auditRequirementsInfo.$error.required">You must describe audit procedures.</span>
              </div>

            </div>

          </div>
        </section>
        <section class="sub-minor-section" field-finder-bookmark title="113 Records">
          <h4>{{::instructionalText["04"]["113"]["title"]}}</h4>

          <div class="input-field">
            <label for="recordContent">{{::instructionalText["04"]["113"]["label"]}}</label>
            <textarea id="recordContent" name="records" class="usa-input-large" ng-model="gsavm.program.postAward.records.content"></textarea>
          </div>
        </section>
      </section>
      <section class="sub-section" field-finder-bookmark title="140 Regulations, Guidelines, and Literature">
        <h3>{{::instructionalText["04"]["140"]["title"]}}</h3>

        <a href="#" ng-click="clickToOpen('d140')" tabindex="0" trigger-click-on-enter>Read More</a>

        <div class="input-field">
          <fieldset class="usa-fieldset-inputs usa-sans">
            <label for="documents">{{::instructionalText["04"]["140"]["label"]}}<span class="required">*</span></label>

            <ul class="usa-horizontal-list">
              <li>
                <input name="documents" ng-model="gsavm.program.postAward.documents.flag" id="documents-yes" type="radio" value="yes" required>
                <label for="documents-yes">Yes</label>
              </li>
              <li>
                <input name="documents" ng-model="gsavm.program.postAward.documents.flag" id="documents-na" type="radio" value="na" required>
                <label for="documents-na">Not Applicable</label>
              </li>
            </ul>

          </fieldset>

          <div ng-show='gsavm.program.postAward.documents.flag === "yes"'>
            <label for="documentsAdditionalInfo">{{::instructionalText["04"]["140"]["additionalInfo"]["label"]}}<span class="required">*</span></label>
            <textarea id="documentsAdditionalInfo" name="documentsAdditionalInfo" ng-model="gsavm.program.postAward.documents.content" ng-required="gsavm.program.postAward.documents.flag==='yes'"></textarea>

            <div ng-show="gsavm.program.postAward.documents.flag ==='yes' && (gsavm.form.$submitted || gsavm.form.documentsAdditionalInfo.$dirty)">
              <span ng-show="gsavm.form.documentsAdditionalInfo.$error.required">You must provide an answer.</span>
            </div>
          </div>
        </div>
      </section>
    </ux-form-section>

    <!--Financial Information and Accomplishments-->
    <ux-form-section state-key="financial" section-title="Financial Information and Accomplishments" field-finder-section>
      <back-top ng-click="focus('.usa-steps ul li:first > a')" class="back-to-top" scroll-speed=600 button-theme="cfdabacktop"></back-top>
      <h2><span class="section-circle">5</span> Financial Information and Accomplishments</h2>
      <section class="sub-section">
        <h3 field-finder-bookmark title="120 Financial Information" data-bookmark-parent="true">{{::instructionalText["05"]["120"]["title"]}}</h3>

        <div class="sub-minor-section" field-finder-bookmark title="121 Account Identification">
          <div class="input-field">
            <multi-entry ng-model="gsavm.program.financial.accounts" item-title="gsavm.getAccountTitle" editable-items="true" new-entry-btn-name="Add Account" delete-btn-label="Delete Account" parent-vm="gsavm">
              <multi-entry-header>
                <h4>{{::$ctrl.parentVm.instructionalText["05"]["121"]["title"]}} <span class="required">*</span></h4>

                <p class="usa-form-hint">{{::$ctrl.parentVm.instructionalText["05"]["121"]["label"]}}</p>
                <a href="#" ng-click="::$ctrl.parentVm.clickToOpen('d121')" tabindex="0" trigger-click-on-enter>Read More</a>
              </multi-entry-header>
              <multi-entry-sub-form class="input-field">
                <div class="usa-grid" ng-init="formPath='account'+$ctrl.parentVm.nextId();idPath=formPath;" name="$ctrl.parentVm.form.financial.{{formPath}}">
                  <div class="input-field">
                    <label for="{{ 'ac-code-' + idPath }}">{{::$ctrl.parentVm.instructionalText["05"]["121"]["form"]["code"]["label"]}}<span class="required">*</span></label>
                    <error-msg model="$subForm.current.code" regex-pattern="^[0-9\-]*$" msg="Provide a valid number using only numerical values."></error-msg>
                    <masked-input id="{{ 'ac-code-' + idPath }}" name="code" ng-model="$subForm.current.code" mask="xx-xxxx-x-x-xxx"></masked-input>
                  </div>
                  <div class="input-field ">
                    <label for="{{ 'ac-description-' + idPath }}">{{::$ctrl.parentVm.instructionalText["05"]["121"]["form"]["description"]["label"]}}</label>
                    <!--<p>Optionally add a description for this account number</p>-->
                    <textarea id="{{ 'ac-description-' + idPath }}" name="description" ng-model="$subForm.current.description"></textarea>
                  </div>
                </div>
              </multi-entry-sub-form>
            </multi-entry>
          </div>
        </div>
        <section class="sub-minor-section" field-finder-bookmark title="122 Obligations">
          <div class="input-field">
            <multi-entry ng-model="gsavm.program.financial.obligations" item-title="gsavm.getObligationTitle" editable-items="true" new-entry-btn-name="Add Obligation" delete-btn-label="Delete Obligation" parent-vm="gsavm" dictionary-items="{{ gsavm.getDictionary('aAssistanceType') }}">
              <multi-entry-header>
                <h4>{{::$ctrl.parentVm.instructionalText["05"]["122"]["title"]}}<span class="required">*</span></h4>

                <p class="usa-form-hint">{{::$ctrl.parentVm.instructionalText["05"]["122"]["label"]}}</p>
                <a href="#" ng-click="::$ctrl.parentVm.clickToOpen('d122')" tabindex="0" trigger-click-on-enter>Read More</a>
              </multi-entry-header>
              <multi-entry-sub-form class="input-field">
                <div class="usa-grid" ng-init="formPath='obligations'+$ctrl.parentVm.nextId();idPath=formPath;" name="$ctrl.parentVm.form.financial.{{formPath}}">
                  <section>
                    <div class="input-field">
                      <fieldset class="usa-fieldset-inputs usa-sans">
                        <label for="{{ 'recovery-flag-' + idPath }}">{{::$ctrl.parentVm.instructionalText["05"]["122"]["form"]["recovery"]["label"]}}<span class="required">*</span></label>
                        <ul class="usa-horizontal-list">
                          <li>
                            <input name="{{ 'recovery-flag-' + idPath }}" ng-model="$subForm.current.questions.recovery.flag" id="{{ 'recovery-flag-' + idPath }}-yes" type="radio" value="yes" required>
                            <label for="{{ 'recovery-flag-' + idPath }}-yes">Yes</label>
                          </li>
                          <li>
                            <input name="{{ 'recovery-flag-' + idPath }}" ng-model="$subForm.current.questions.recovery.flag" id="{{ 'recovery-flag-' + idPath }}-na" type="radio" value="na" required>
                            <label for="{{ 'recovery-flag-' + idPath }}-na">Not Applicable</label>
                          </li>
                        </ul>
                      </fieldset>
                    </div>
                    <div class="input-field">
                      <fieldset class="usa-fieldset-inputs usa-sans">
                        <label for="{{ 'salary-or-expense-' + idPath }}">{{::$ctrl.parentVm.instructionalText["05"]["122"]["form"]["salaryOrExpense"]["label"]}}<span class="required">*</span></label>

                        <ul class="usa-horizontal-list">
                          <li>
                            <input name="{{ 'salary-or-expense-' + idPath }}" ng-model="$subForm.current.questions.salary_or_expense.flag" id="{{ 'salary-or-expense-' + idPath }}-yes" type="radio" value="yes" required>
                            <label for="{{ 'salary-or-expense-' + idPath }}-yes">Yes</label>
                          </li>
                          <li>
                            <input name="{{ 'salary-or-expense-' + idPath }}" ng-model="$subForm.current.questions.salary_or_expense.flag" id="{{ 'salary-or-expense-' + idPath }}-na" type="radio" value="na" required>
                            <label for="{{ 'salary-or-expense-' + idPath }}-na">Not Applicable</label>
                          </li>
                        </ul>
                      </fieldset>
                    </div>
                    <div class="input-field" ng-show="$subForm.current.questions.salary_or_expense.flag=='na'">

                      <!--                                            <p ng-show="$subForm.current.assistanceType"> Selected Assistance Type:
                      <b>{{$ctrl.parentVm.getTreeNodeModel($subForm.current.assistanceType, 'element_id', 'elements', 'aAssistanceType').displayValue}}</b></p>-->

                      <!--<div ng-show="!$subForm.current.assistanceType">-->
                        <span>{{::$ctrl.parentVm.instructionalText["05"]["122"]["form"]["salaryOrExpense"]["assistanceType"]["label"]}}<span class="required">*</span></span>
                      <!--</div>-->

                      <div ng-init="selectedAssistanceType=(!selectedAssistanceType && $subForm.current.assistanceType) ? $subForm.current.assistanceType : null"></div>
                      <div ng-init="$subForm.current.assistanceType=$ctrl.setSelectedDictionaryItems(selectedAssistanceType, false)"></div>

                      <div class="usa-grid-full">
                        <isteven-multi-select
                        max-labels="6"
                        input-model="$ctrl.getDictionaryItems()"
                        output-model="$subForm.current.assistanceType"
                        button-label="displayValue"
                        item-label="displayValue"
                        tick-property="ticked"
                        max-height="250px"
                        group-property="msGroup"
                        output-properties="element_id"
                        selection-mode="single"
                        helper-elements="all none filter"
                        >
                      </isteven-multi-select>

                      <!--                        <div ng-show="!$subForm.current.assistanceType">
                      <span>Please select Assistance Type<span class="required">*</span></span>
                    </div>-->
                  </div>
                </div>
                <div class="input-field" ng-if="$subForm.current.questions.salary_or_expense.flag=='yes'">
                  <div ng-init="$subForm.current.assistanceType = ''"></div>
                </div>

              </section>
              <hr>
              <div ng-repeat="fyTpl in $ctrl.parentVm.fyTpls track by fyTpl.year">
                <section ng-form name="$ctrl.parentVm.form.financial.{{formPath}}.{{fyTpl.idName}}">
                  <fieldset class="usa-fieldset-inputs usa-sans">
                    <label>{{fyTpl.name}}: {{fyTpl.year}}</label>
                    <legend class="usa-sr-only">{{fyTpl.name}}: {{fyTpl.year}} - {{fyTpl.obligType}} Type Options</legend>
                    <ul class="usa-horizontal-list" ng-init="$subForm.current.values[fyTpl.year].flag = $subForm.current.values[fyTpl.year].flag || $ctrl.parentVm.choices['yes_no_na'].yes.code">
                      <li>
                        <input id="{{fyTpl.obligType}}{{fyTpl.year}}-yes-{{idPath}}" type="radio" ng-value="$ctrl.parentVm.choices['yes_no_na'].yes.code" ng-model="$subForm.current.values[fyTpl.year].flag">
                        <label for="{{fyTpl.obligType}}{{fyTpl.year}}-yes-{{idPath}}">{{fyTpl.obligType || fyTpl.type}} Available</label>
                      </li>
                      <li>
                        <input id="{{fyTpl.obligType}}{{fyTpl.year}}-no-{{idPath}}" type="radio" ng-value="$ctrl.parentVm.choices['yes_no_na'].no.code" ng-model="$subForm.current.values[fyTpl.year].flag">
                        <label for="{{fyTpl.obligType}}{{fyTpl.year}}-no-{{idPath}}">Not Seperately Identifiable</label>
                      </li>
                      <li>
                        <input id="{{fyTpl.obligType}}{{fyTpl.year}}-na-{{idPath}}" type="radio" ng-value="$ctrl.parentVm.choices['yes_no_na'].na.code" ng-model="$subForm.current.values[fyTpl.year].flag">
                        <label for="{{fyTpl.obligType}}{{fyTpl.year}}-na-{{idPath}}">{{fyTpl.obligType || fyTpl.type}} Not Available</label>
                      </li>
                    </ul>
                  </fieldset>

                  <div class="input-field" ng-show="$subForm.current.values[fyTpl.year].flag === $ctrl.parentVm.choices['yes_no_na'].yes.code">
                    <p><span class="usa-form-hint">{{::$ctrl.parentVm.instructionalText["05"]["122"]["form"]["helpText"]}}</span></p>
                    <label for="{{fyTpl.idName}}{{fyTpl.year}}-input-{{idPath}}">{{fyTpl.obligType || fyTpl.type}}</label>
                    <error-msg model="$subForm.current.values[fyTpl.year][fyTpl.obligVarName]" regex-pattern="^[0-9\,]*$" msg="Provide a valid number using only digits and commas."></error-msg>
                    <input id="{{fyTpl.idName}}{{fyTpl.year}}-input-{{idPath}}" type="text" class="usa-input-small" name="value" ng-model="$subForm.current.values[fyTpl.year][fyTpl.obligVarName]">
                  </div>
                  <div class="input-field" ng-show="$subForm.current.values[fyTpl.year].flag !== $ctrl.parentVm.choices['yes_no_na'].yes.code">
                    <label for="{{ 'optional-exp-' + idPath }}{{fyTpl.year}}">Optional Information</label>
                    <input type="text" id="{{ 'optional-exp-' + idPath }}{{fyTpl.year}}" class="usa-input-small" name="explanation" ng-model="$subForm.current.values[fyTpl.year].explanation">
                  </div>

                </section>
                <hr style="margin-top:1em;">
              </div>
              <section>
                <div class="input-field">
                  <label for="{{ 'additional-info-' + idPath }}">{{::$ctrl.parentVm.instructionalText["05"]["122"]["form"]["additionalInfo"]["label"]}}</label>
                  <!--<p>Optionally add a description for this account number</p>-->
                  <textarea id="{{ 'additional-info-' + idPath }}" name="additionalInfo" ng-model="$subForm.current.additionalInfo.content"></textarea>
                </div>
              </section>
            </div>
          </multi-entry-sub-form>
        </multi-entry>
      </div>
    </section>
    <section class="sub-minor-section" field-finder-bookmark title="123 Range and Average of Financial Assistance">
      <div class="input-field">
        <h4><label for="financialAdditionalInfo">{{::instructionalText["05"]["123"]["title"]}}</label></h4>

        <p class="usa-form-hint">{{::instructionalText["05"]["123"]["label"]}}</p>
        <a href="#" ng-click="clickToOpen('d123')" tabindex="0" trigger-click-on-enter>Read More</a>
        <textarea id="financialAdditionalInfo" name="financialAdditionalInfo" class="usa-input-large" ng-model="gsavm.program.financial.additionalInfo.content"></textarea>
      </div>
    </section>
    <section class="sub-minor-section" field-finder-bookmark title="124 TAFS Codes - Unique Treasury Appropriation Fund Symbols">
      <div class="input-field">
        <multi-entry ng-model="gsavm.program.financial.treasury.tafs" item-title="gsavm.getTafsTitle" editable-items="true" new-entry-btn-name="Add TAF" delete-btn-label="Delete TAF" parent-vm="gsavm">
          <multi-entry-header>
            <h4>{{::$ctrl.parentVm.instructionalText["05"]["124"]["title"]}}<span class="required">*</span></h4>

            <p class="usa-form-hint">{{::$ctrl.parentVm.instructionalText["05"]["124"]["label"]}}</p>
            <a href="#" ng-click="::$ctrl.parentVm.clickToOpen('d124')" tabindex="0" trigger-click-on-enter>Read More</a>
          </multi-entry-header>
          <multi-entry-sub-form class="input-field">
            <div ng-init="formPath='tafscode'+$ctrl.parentVm.nextId();idPath=formPath;" name="$ctrl.parentVm.form.financial.treasury.{{formPath}}">
              <div class="input-field ">
                <section class="usa-grid">
                  <div class="input-field usa-width-one-fourth" model="$subForm.current.departmentCode" ng-class="($subForm.current.departmentCode.length && ($subForm.current.departmentCode.length < 2 || !($ctrl.parentVm.validateFieldByRegex('^[0-9\-]*$', $subForm.current.departmentCode)))) ? 'usa-input-error' : ''">
                    <label for="{{ 'dept-code-' + idPath }}">{{::$ctrl.parentVm.instructionalText["05"]["124"]["form"]["deptCode"]["label"]}}<span class="required">*</span></label>
                    <span class="usa-input-error-message" model="$subForm.current.departmentCode" ng-show="$subForm.current.departmentCode.length && ($subForm.current.departmentCode.length < 2 || !($ctrl.parentVm.validateFieldByRegex('^[0-9\-]*$', $subForm.current.departmentCode)))">
                      Provide a valid number using digits 00-99.
                    </span>
                    <input type="text" id="{{ 'dept-code-' + idPath }}" maxlength="2" name="deptCode" ng-model="$subForm.current.departmentCode" required>

                    <div ng-show="$ctrl.parentVm.validationFlag['Financial Information and Accomplishments'] || $ctrl.parentVm.form.financial.treasury.{{formPath}}.deptCode.$dirty">
                      <span ng-show="$ctrl.parentVm.form.financial.treasury.{{formPath}}.deptCode.$error.required">The Treasury Dept Code must be filled.</span>
                    </div>
                  </div>
                  <div class="input-field usa-width-one-fourth" model="$subForm.current.allocationTransferAgency" ng-class="($subForm.current.allocationTransferAgency.length && ($subForm.current.allocationTransferAgency.length < 2 || !($ctrl.parentVm.validateFieldByRegex('^[0-9\-]*$', $subForm.current.allocationTransferAgency)))) ? 'usa-input-error' : ''">
                    <label for="{{ 'allocation-transfer-agency-' + idPath }}">{{::$ctrl.parentVm.instructionalText["05"]["124"]["form"]["allocationAgency"]["label"]}}</label>
                     <span class="usa-input-error-message" model="$subForm.current.allocationTransferAgency" ng-show="$subForm.current.allocationTransferAgency.length && ($subForm.current.allocationTransferAgency.length < 2 || !($ctrl.parentVm.validateFieldByRegex('^[0-9\-]*$', $subForm.current.allocationTransferAgency)))">
                      Provide a valid number using digits 00-99.
                    </span>
                    <input type="text" id="{{ 'allocation-transfer-agency-' + idPath }}" maxlength="2" name="allocationTransferAgency"
                           ng-model="$subForm.current.allocationTransferAgency">
                  </div>
                  <div class="input-field usa-width-one-fourth" model="$subForm.current.fy1" ng-class="($subForm.current.fy1.length && ($subForm.current.fy1.length < 4 || !($ctrl.parentVm.validateFieldByRegex('^[0-9\-]*$', $subForm.current.fy1)))) ? 'usa-input-error' : ''">
                    <label for="{{ 'fy1-' + idPath }}">{{::$ctrl.parentVm.instructionalText["05"]["124"]["form"]["fy1"]["label"]}}</label>
                    <span class="usa-input-error-message" model="$subForm.current.fy1" ng-show="$subForm.current.fy1.length && ($subForm.current.fy1.length < 4 || !($ctrl.parentVm.validateFieldByRegex('^[0-9\-]*$', $subForm.current.fy1)))">
                      Provide a valid number using digits 0000-9999.
                    </span>
                    <input type="text" id="{{ 'fy1-' + idPath }}" maxlength="4" name="fy1" ng-model="$subForm.current.fy1">
                  </div>
                  <div class="input-field usa-width-one-fourth" model="$subForm.current.fy2" ng-class="($subForm.current.fy2.length && ($subForm.current.fy2.length < 4 || !($ctrl.parentVm.validateFieldByRegex('^[0-9\-]*$', $subForm.current.fy2)))) ? 'usa-input-error' : ''">
                    <label for="{{ 'fy2-' + idPath }}">{{::$ctrl.parentVm.instructionalText["05"]["124"]["form"]["fy2"]["label"]}}</label>
                     <span class="usa-input-error-message" model="$subForm.current.fy2" ng-show="$subForm.current.fy2.length && ($subForm.current.fy2.length < 4 || !($ctrl.parentVm.validateFieldByRegex('^[0-9\-]*$', $subForm.current.fy2)))">
                      Provide a valid number using digits 0000-9999.
                    </span>
                    <input type="text" id="{{ 'fy2-' + idPath }}" maxlength="4" name="fy2" ng-model="$subForm.current.fy2">
                  </div>
                </section>
                <section class="usa-grid">
                  <div class="input-field usa-width-one-fourth" model="$subForm.current.accountCode" ng-class="($subForm.current.accountCode.length && ($subForm.current.accountCode.length < 4 || !($ctrl.parentVm.validateFieldByRegex('^[0-9\-]*$', $subForm.current.accountCode)))) ? 'usa-input-error' : ''">
                    <label for="{{ 'account-code-' + idPath }}">{{::$ctrl.parentVm.instructionalText["05"]["124"]["form"]["accountCode"]["label"]}}<span class="required">*</span></label>
                    <span class="usa-input-error-message" model="$subForm.current.accountCode" ng-show="$subForm.current.accountCode.length && ($subForm.current.accountCode.length < 4 || !($ctrl.parentVm.validateFieldByRegex('^[0-9\-]*$', $subForm.current.accountCode)))">
                      Provide a valid number using digits 0000-9999.
                    </span>
                    <input type="text" id="{{ 'account-code-' + idPath }}" maxlength="4" name="accountCode" ng-model="$subForm.current.accountCode" required>

                    <div ng-show="$ctrl.parentVm.validationFlag['Financial Information and Accomplishments'] || $ctrl.parentVm.form.financial.treasury.{{formPath}}.accountCode.$dirty">
                      <span ng-show="$ctrl.parentVm.form.financial.treasury.{{formPath}}.accountCode.$error.required">The Treasury Account Main Code must be filled.</span>
                    </div>
                  </div>
                  <div class="input-field usa-width-one-fourth" model="$subForm.current.subAccountCode" ng-class="($subForm.current.subAccountCode.length && ($subForm.current.subAccountCode.length < 3 || !($ctrl.parentVm.validateFieldByRegex('^[0-9\-]*$', $subForm.current.subAccountCode)))) ? 'usa-input-error' : ''">
                    <label for="{{ 'tafs-sub-account-' + idPath }}">{{::$ctrl.parentVm.instructionalText["05"]["124"]["form"]["subAccount"]["label"]}}</label>
                   <span class="usa-input-error-message" model="$subForm.current.subAccountCode" ng-show="$subForm.current.subAccountCode.length && ($subForm.current.subAccountCode.length < 3 || !($ctrl.parentVm.validateFieldByRegex('^[0-9\-]*$', $subForm.current.subAccountCode)))">
                      Provide a valid number using digits 000-999.
                    </span>
                    <input type="text" id="{{ 'tafs-sub-account-' + idPath }}" maxlength="3" name="subAccountCode" ng-model="$subForm.current.subAccountCode">
                  </div>
                </section>
              </div>
            </div>
          </multi-entry-sub-form>
        </multi-entry>
      </div>
    </section>
  </section>
  <section class="sub-section" field-finder-bookmark title="130 Program Accomplishments">
    <h3>{{::instructionalText["05"]["130"]["title"]}}<span class="required">*</span></h3>
     <span class="usa-form-hint">{{::instructionalText["05"]["130"]["helpText"]}}</span>
     <br>
    <a href="#" ng-click="clickToOpen('d130')" tabindex="0" trigger-click-on-enter>Read More</a>

    <div class="input-field">
      <fieldset class="usa-fieldset-inputs usa-sans">
        <label>{{::instructionalText["05"]["130"]["label"]}}</label>
        <ul class="usa-horizontal-list">
          <li>
            <input name="programAccomplishment" ng-model="gsavm.program.postAward.accomplishments.flag" id="programAccomplishment-yes" type="radio" value="yes" required>
            <label for="programAccomplishment-yes">Yes</label>
          </li>
          <li>
            <input name="programAccomplishment" ng-model="gsavm.program.postAward.accomplishments.flag" id="programAccomplishment-na" type="radio" value="na" required>
            <label for="programAccomplishment-na">Not Applicable</label>
          </li>
        </ul>
      </fieldset>
      <div ng-show="gsavm.program.postAward.accomplishments.flag === gsavm.choices['yes_na'].yes.code">
        <fieldset class="usa-fieldset-inputs usa-sans">
          <label for="programAccomplishmentYear">{{::instructionalText["05"]["130"]["programAccomplishments"]["label"]}}</label>
          <ul class="usa-horizontal-list">
            <div ng-repeat="fyTpl in gsavm.fyTpls track by fyTpl.year">
              <li>
                <input name="programAccomplishmentYear-{{fyTpl.year}}" id="programAccomplishmentYear-{{fyTpl.year}}" type="checkbox" value="{{fyTpl.year}}"
                ng-model="gsavm.program.postAward.accomplishments.list[fyTpl.year].flag">
                <label for="programAccomplishmentYear-{{fyTpl.year}}">{{fyTpl.name}}: {{fyTpl.year}}</label>
              </li>
            </div>
          </ul>
        </fieldset>
        <div ng-repeat="fyTpl in gsavm.fyTpls track by fyTpl.year">
          <div ng-show='gsavm.program.postAward.accomplishments.list[fyTpl.year].flag'>
            <label for="programAccomplishmentContent-{{fyTpl.year}}">{{fyTpl.name}}: {{fyTpl.year}}<span class="required">*</span></label>
            <textarea id="programAccomplishmentContent-{{fyTpl.year}}" name="programAccomplishmentContent-{{fyTpl.year}}" ng-model="gsavm.program.postAward.accomplishments.list[fyTpl.year].content.actual"></textarea>
          </div>
        </div>
      </div>
    </div>
  </section>
</ux-form-section>

    <!--Contact Information-->
    <ux-form-section state-key="contact" section-title="Contact Information" field-finder-section>
      <back-top ng-click="focus('.usa-steps ul li:first > a')" class="back-to-top" scroll-speed=600 button-theme="cfdabacktop"></back-top>
      <h2><span class="section-circle">6</span> Contact Information</h2>
      <section class="sub-section">
      <h3 field-finder-bookmark title="150 Information Contacts" data-bookmark-parent="true">{{::instructionalText["06"]["150"]["title"]}}<span class="required">*</span></h3>
      <section class="sub-minor-section" field-finder-bookmark title="151 Regional or Local Office">
      <fieldset class="usa-fieldset-inputs">
        <h4>{{::instructionalText["06"]["151"]["title"]}}<span class="required">*</span></h4>

        <ul class="usa-horizontal-list">
          <li>
            <input type="radio" name="office6" ng-model="gsavm.program.contacts['local'].flag" id="office6regional" value="regional"/>
            <label for="office6regional">See Regional Agency Offices</label>
          </li>
          <li>
            <input type="radio" name="office6" ng-model="gsavm.program.contacts['local'].flag" id="office6none" value="none"/>
            <label for="office6none">None</label>
          </li>
        </ul>
      </fieldset>
      <div ng-show="gsavm.form.office6.$dirty">
        <span ng-show="gsavm.form.office6.$error.required">You must provide an answer.</span>
      </div>
      <label for="office6info">{{::instructionalText["06"]["151"]["additionalInfo"]["label"]}}</label>
      <span class="usa-form-hint">{{::instructionalText["06"]["151"]["additionalInfo"]["helpText"]}}</span>
      <a href="#" ng-click="clickToOpen('d151')" tabindex="0" trigger-click-on-enter>Read More</a>
      <textarea id="office6info" name="office6info" class="usa-input-large" ng-model="gsavm.program.contacts['local'].additionalInfo.content" cl required></textarea>
      <br/>
    </section>
    <section class="sub-minor-section" field-finder-bookmark title="152 Headquarters Office">
      <multi-entry ng-model="gsavm.program.contacts.list" new-entry-btn-name="Add Contact" delete-btn-label="Delete Contact" parent-vm="gsavm">
        <multi-entry-header>
          <h4>152 Headquarters Office<span class="required">*</span></h4>

        </multi-entry-header>
        <p class="usa-form-hint">Identify at least one point of contact who has operational responsibility for this listing. Additional contacts may be added</p>
        <a href="#" ng-click="::$ctrl.parentVm.clickToOpen('d152')" tabindex="0" trigger-click-on-enter>Read More</a>
        <div ng-hide="$ctrl.parentVm.program.contacts.list">At least one POC is required.</div>
        <div ng-show="$ctrl.parentVm.program.contacts.list.length==0">At least one POC is required.</div>
        <multi-entry-list editable="true">
          <span>{{item.title}}</span> <span>{{item.fullName}}</span><br/>
          <test-this address="{{item.address}}" city="{{item.city}}" state="{{item.state}}" zip="{{item.zip}}"></test-this>
          <span ng-show="item.address">{{item.address}}<span ng-show="item.city || item.state || item.zip">, </span></span>
          <span ng-show="item.city">{{item.city}}<span ng-show="item.state || item.zip">, </span></span>
          <span ng-show="item.state">{{item.state}}<span ng-show="item.zip">, </span></span>
          <span>{{item.zip}}</span><span ng-show="item.address || item.city || item.state || item.zip"><br/></span>
          <span ng-show="item.email">Email: {{item.email}}<br/></span>
          <span ng-show="item.phone">Phone: {{item.phone}}<br/></span>
        </multi-entry-list>
        <multi-entry-contacts-sub-form class="input-field" create-function="$ctrl.parentVm.createContact" on-test="$ctrl.parentVm" on-open="$ctrl.parentVm.getEmailList">
          <div class="usa-grid dropdown-value" ng-init="formPath='contact'+$ctrl.parentVm.nextId();idPath=formPath;" name="$ctrl.parentVm.form.contacts.{{formPath}}">
            Contacts:<br/>
            <ui-select ng-model="$subForm.current.contactId" id="selectContact" name="selectContact"
            on-select="selectItem($item)" class="usa-input-large" theme="select2">
            <ui-select-match placeholder="Select a contact...">{{$select.selected.title}}</ui-select-match>
            <ui-select-choices repeat="item._id as item in $ctrl.parentVm.choices['contacts'] | filter: {title: $select.search, _id: $select.search}">
              <div ng-bind-html="item.title | highlight: $select.search"></div>
            </ui-select-choices>
          </ui-select>
          <hr/>

          <label for="title6">Title:</label>
          <input type="text" id="title6" name="title6" ng-model="$subForm.current.title">

          <label for="{{ 'contact-fullname-' + idPath }}">Full Name<span class="required">*</span>:</label>
          <input type="text" id="{{ 'contact-fullname-' + idPath }}" name="fullname" ng-model="$subForm.current.fullName" required>

          <div ng-show="$ctrl.parentVm.form.$submitted || $ctrl.parentVm.form.fullname.$dirty">
            <span ng-show="$ctrl.parentVm.form.fullname.$error.required">You must provide a full name.</span>
          </div>

            <div class="input-field">
              <label for="email6">Email<span class="required">*</span>:</label>
              <error-msg model="$subForm.current.email" regex-pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,3}$"
                         msg="Please enter a valid Internet email address. Format: username@host.domain. "></error-msg>
              <input type="text" id="email6" name="email6" ng-model="$subForm.current.email">
            </div>

          <div>
            <span ng-show="emailDuplicateError">Email address already exists. Use a different email address.</span>
          </div>

          <label for="phone6">Phone<span class="required">*</span>:</label>
          <input type="text" id="phone6" name="phone6" ng-model="$subForm.current.phone" required>

          <div ng-show="$ctrl.parentVm.form.$submitted || $ctrl.parentVm.form.phone6.$dirty">
            <span ng-show="$ctrl.parentVm.form.phone6.$error.required">You must provide a phone number.</span>
          </div>

          <label for="fax6">Fax:</label>
          <input type="text" id="fax6" name="fax6" ng-model="$subForm.current.fax">
          <br/>
          Address:
          <label for="address6">Street<span class="required">*</span>:</label>
          <textarea id="address6" name="address6" ng-model="$subForm.current.address" required></textarea>

          <div ng-show="$ctrl.parentVm.form.$submitted || $ctrl.parentVm.form.address6.$dirty">
            <span ng-show="$ctrl.parentVm.form.address6.$error.required">You must provide an address.</span>
          </div>

          <label for="city6">City<span class="required">*</span>:</label>
          <input type="text" id="city6" name="city6" ng-model="$subForm.current.city" required>

          <label for="state6">State<span class="required">*</span>:</label>
          <select id="state6" name="state6" ng-model="$subForm.current.state" required>
            <option value=''></option>
            <option value='nonUS'>Non-U.S.</option>
            <option value='AL'>Alabama</option>
            <option value='AK'>Alaska</option>
            <option value='AZ'>Arizona</option>
            <option value='AR'>Arkansas</option>
            <option value='CA'>California</option>
            <option value='CO'>Colorado</option>
            <option value='CT'>Connecticut</option>
            <option value='DE'>Delaware</option>
            <option value='DC'>District of Columbia</option>
            <option value='FL'>Florida</option>
            <option value='GA'>Georgia</option>
            <option value='HI'>Hawaii</option>
            <option value='ID'>Idaho</option>
            <option value='IL'>Illinois</option>
            <option value='IN'>Indiana</option>
            <option value='IA'>Iowa</option>
            <option value='KS'>Kansas</option>
            <option value='KY'>Kentucky</option>
            <option value='LA'>Louisiana</option>
            <option value='ME'>Maine</option>
            <option value='MD'>Maryland</option>
            <option value='MA'>Massachusetts</option>
            <option value='MI'>Michigan</option>
            <option value='MN'>Minnesota</option>
            <option value='MS'>Mississippi</option>
            <option value='MO'>Missouri</option>
            <option value='MT'>Montana</option>
            <option value='NE'>Nebraska</option>
            <option value='NV'>Nevada</option>
            <option value='NH'>New Hampshire</option>
            <option value='NJ'>New Jersey</option>
            <option value='NM'>New Mexico</option>
            <option value='NY'>New York</option>
            <option value='NC'>North Carolina</option>
            <option value='ND'>North Dakota</option>
            <option value='OH'>Ohio</option>
            <option value='OK'>Oklahoma</option>
            <option value='OR'>Oregon</option>
            <option value='PA'>Pennsylvania</option>
            <option value='RI'>Rhode Island</option>
            <option value='SC'>South Carolina</option>
            <option value='SD'>South Dakota</option>
            <option value='TN'>Tennessee</option>
            <option value='TX'>Texas</option>
            <option value='UT'>Utah</option>
            <option value='VT'>Vermont</option>
            <option value='VA'>Virginia</option>
            <option value='WA'>Washington</option>
            <option value='WV'>West Virginia</option>
            <option value='WI'>Wisconsin</option>
            <option value='WY'>Wyoming</option>
            <option value='PR'>Puerto Rico</option>
            <option value='GU'>Guam</option>
            <option value='VI'>Virgin Islands</option>
          </select>

          <label for="zip6">Zip<span class="required">*</span>:</label>
          <input type="text" id="zip6" name="zip6" class="usa-input-medium" ng-model="$subForm.current.zip" required>

          <div ng-show="$ctrl.parentVm.form.$submitted || $ctrl.parentVm.form.city6.$dirty">
            <span ng-show="$ctrl.parentVm.form.city6.$error.required">You must provide a city.</span>
          </div>
          <div ng-show="$ctrl.parentVm.form.$submitted || $ctrl.parentVm.form.state6.$dirty">
            <span ng-show="$ctrl.parentVm.form.state6.$error.required || $ctrl.parentVm.form.state6 ===''">You must provide a state.</span>
          </div>
          <div ng-show="$ctrl.parentVm.form.$submitted || $ctrl.parentVm.form.zip6.$dirty">
            <span ng-show="$ctrl.parentVm.form.zip6.$error.required">You must provide a zip code.</span>
          </div>

          <label for="country6">Country:</label>
          <select id="country6" name="country6" ng-model="$subForm.current.country" required>
            <option value=''></option>
            <option value='USA'>United States</option>
            <option value='CAN'>Canada</option>
            <option value='AFG'>Afghanistan</option>
            <option value='ALB'>Albania</option>
            <option value='DZA'>Algeria</option>
            <option value='AGO'>Angola</option>
            <option value='AIA'>Anguilla</option>
            <option value='ARG'>Argentina</option>
            <option value='ARM'>Armenia</option>
            <option value='AUS'>Australia</option>
            <option value='AUT'>Austria</option>
            <option value='AZE'>Azerbaijan</option>
            <option value='BHS'>Bahamas</option>
            <option value='BHR'>Bahrain</option>
            <option value='BGD'>Bangladesh</option>
            <option value='BRB'>Barbados</option>
            <option value='BLR'>Belarus</option>
            <option value='BEL'>Belgium</option>
            <option value='BLZ'>Belize</option>
            <option value='BEN'>Benin</option>
            <option value='BMU'>Bermuda</option>
            <option value='BTN'>Bhutan</option>
            <option value='BOL'>Bolivia</option>
            <option value='BWA'>Botswana</option>
            <option value='BRA'>Brazil</option>
            <option value='BRN'>Brunei</option>
            <option value='BGR'>Bulgaria</option>
            <option value='BDI'>Burundi</option>
            <option value='KHM'>Cambodia</option>
            <option value='TCD'>Chad</option>
            <option value='CHL'>Chile</option>
            <option value='CHN'>China</option>
            <option value='COL'>Colombia</option>
            <option value='COG'>Congo</option>
            <option value='CRI'>Costa Rica</option>
            <option value='HRV'>Croatia</option>
            <option value='CUB'>Cuba</option>
            <option value='CYP'>Cyprus</option>
            <option value='CZE'>Czech Republic</option>
            <option value='DNK'>Denmark</option>
            <option value='DJI'>Djibouti</option>
            <option value='DOM'>Dominican Republic</option>
            <option value='ECU'>Ecuador</option>
            <option value='EGY'>Egypt</option>
            <option value='SLV'>El Salvador</option>
            <option value='ERI'>Eritrea</option>
            <option value='EST'>Estonia</option>
            <option value='ETH'>Ethiopia</option>
            <option value='FJI'>Fiji</option>
            <option value='FIN'>Finland</option>
            <option value='FRA'>France</option>
            <option value='DEU'>Germany</option>
            <option value='GHA'>Ghana</option>
            <option value='GRC'>Greece</option>
            <option value='GTM'>Guatemala</option>
            <option value='GIN'>Guinea</option>
            <option value='GUY'>Guyana</option>
            <option value='HTI'>Haiti</option>
            <option value='HND'>Honduras</option>
            <option value='HKG'>Hong Kong</option>
            <option value='HUN'>Hungary</option>
            <option value='ISL'>Iceland</option>
            <option value='IND'>India</option>
            <option value='IDN'>Indonesia</option>
            <option value='IRN'>Iran</option>
            <option value='IRQ'>Iraq</option>
            <option value='IRL'>Ireland</option>
            <option value='ISR'>Israel</option>
            <option value='ITA'>Italy</option>
            <option value='JAM'>Jamaica</option>
            <option value='JPN'>Japan</option>
            <option value='JOR'>Jordan</option>
            <option value='KAZ'>Kazakhstan</option>
            <option value='KEN'>Kenya</option>
            <option value='PRK'>Korea, North</option>
            <option value='KOR'>Korea, South</option>
            <option value='KWT'>Kuwait</option>
            <option value='KGZ'>Kyrgyzstan</option>
            <option value='LAO'>Laos</option>
            <option value='LVA'>Latvia</option>
            <option value='LBN'>Lebanon</option>
            <option value='LBR'>Liberia</option>
            <option value='LBY'>Libya</option>
            <option value='LIE'>Liechtenstein</option>
            <option value='LTU'>Lithuania</option>
            <option value='LUX'>Luxembourg</option>
            <option value='MKD'>Macedonia</option>
            <option value='MDG'>Madagascar</option>
            <option value='MYS'>Malaysia</option>
            <option value='MDV'>Maldives</option>
            <option value='MLI'>Mali</option>
            <option value='MLT'>Malta</option>
            <option value='MRT'>Mauritania</option>
            <option value='MEX'>Mexico</option>
            <option value='MNG'>Mongolia</option>
            <option value='MNE'>Montenegro</option>
            <option value='MAR'>Morocco</option>
            <option value='MOZ'>Mozambique</option>
            <option value='MMR'>Myanmar</option>
            <option value='NAM'>Namibia</option>
            <option value='NPL'>Nepal</option>
            <option value='NLD'>Netherlands</option>
            <option value='NZL'>New Zealand</option>
            <option value='NIC'>Nicaragua</option>
            <option value='NER'>Niger</option>
            <option value='NGA'>Nigeria</option>
            <option value='NOR'>Norway</option>
            <option value='OMN'>Oman</option>
            <option value='PAK'>Pakistan</option>
            <option value='PAN'>Panama</option>
            <option value='PNG'>Papua New Guinea</option>
            <option value='PRY'>Paraguay</option>
            <option value='PER'>Peru</option>
            <option value='PHL'>Philippines</option>
            <option value='POL'>Poland</option>
            <option value='PRT'>Portugal</option>
            <option value='PRI'>Puerto Rico</option>
            <option value='QAT'>Qatar</option>
            <option value='ROU'>Romania</option>
            <option value='RUS'>Russia</option>
            <option value='RWA'>Rwanda</option>
            <option value='WSM'>Samoa</option>
            <option value='SAU'>Saudi Arabia</option>
            <option value='SEN'>Senegal</option>
            <option value='SRB'>Serbia</option>
            <option value='SGP'>Singapore</option>
            <option value='SVK'>Slovakia</option>
            <option value='SVN'>Slovenia</option>
            <option value='SOM'>Somalia</option>
            <option value='ZAF'>South Africa</option>
            <option value='ESP'>Spain</option>
            <option value='LKA'>Sri Lanka</option>
            <option value='SDN'>Sudan</option>
            <option value='SUR'>Suriname</option>
            <option value='SWZ'>Swaziland</option>
            <option value='SWE'>Sweden</option>
            <option value='CHE'>Switzerland</option>
            <option value='SYR'>Syria</option>
            <option value='TWN'>Taiwan</option>
            <option value='TJK'>Tajikistan</option>
            <option value='THA'>Thailand</option>
            <option value='TUN'>Tunisia</option>
            <option value='TUR'>Turkey</option>
            <option value='TKM'>Turkmenistan</option>
            <option value='UGA'>Uganda</option>
            <option value='UKR'>Ukraine</option>
            <option value='ARE'>United Arab Emirates</option>
            <option value='GBR'>United Kingdom</option>
            <option value='URY'>Uruguay</option>
            <option value='UZB'>Uzbekistan</option>
            <option value='VEN'>Venezuela</option>
            <option value='VNM'>Viet Nam</option>
            <option value='YEM'>Yemen</option>
            <option value='ZMB'>Zambia</option>
            <option value='ZWE'>Zimbabwe</option>
          </select>

          <div ng-show="$ctrl.parentVm.form.$submitted || $ctrl.parentVm.form.country6.$dirty">
            <span ng-show="$ctrl.parentVm.form.country6.$error.required">You must provide a country.</span>
          </div>
          <br/>
        </div>
      </multi-entry-contacts-sub-form>
    </multi-entry>
  </section>
  <section class="sub-minor-section" field-finder-bookmark title="153 Website">
    <div class="input-field">
      <h4><label for="website6">{{::instructionalText["06"]["153"]["title"]}}</label></h4>

      <error-msg model="gsavm.program.website" regex-pattern="website_url" msg="Please enter a valid url. [protocol]://hostname.domain. Protocal can be ftp, http, or https. Spaces are not allowed."></error-msg>
      <span class="usa-form-hint">{{::instructionalText["06"]["153"]["label"]}}</span>

      <a href="#" ng-click="clickToOpen('d153')" tabindex="0" trigger-click-on-enter>Read More</a>

      <input type="text" id="website6" name="website6" class="usa-input-large" ng-model="gsavm.program.website">
    </div>
  </section>
</section>
</ux-form-section>

    <!--Review-->
<ux-form-section state-key="review" section-title="Review">
  <back-top ng-click="focus('.usa-steps ul li:first > a')" class="back-to-top" scroll-speed=600 button-theme="cfdabacktop"></back-top>
    <div ng-show="noValidationErrors()">
        <div class="usa-alert usa-alert-error" role="alert" ng-if="hasRole([ROLES.AGENCY_USER]) && !hasPermission(PERMISSIONS.CAN_REQUEST_SUBMISSION)">
            <div class="usa-alert-body">
                <h3 class="usa-alert-heading">Submit Program</h3>

                <p class="usa-alert-text">Note: Please review your FAL information below. Your account does not have rights to submit FALs. If the FAL is ready for
                    review/submission, please click the following button to save and send an alert to the agency coordinator.</p>
                <button class="usa-button-big" type="button" ng-click="alertAC()">Save and Alert Agency Coordinator</button>
            </div>
        </div>
    </div>
  <div id="formErrorMessages" style="background-color:#FFF1D0;padding:0px 24px 20px 24px;" ng-show="requiredFieldsMissing('financialSection') || requiredFieldsMissing('contactSection') || !gsavm.program.title || !gsavm.program.authorizations || gsavm.program.authorizations.length==0
  || !gsavm.program.objective || !gsavm.program.usage.restrictions.flag
  || (gsavm.program.usage.restrictions.flag===gsavm.choices['yes_no'].yes.code && !gsavm.program.usage.restrictions.content) || !gsavm.program.usage.discretionaryFund.flag
  || (gsavm.program.usage.discretionaryFund.flag===gsavm.choices['yes_no'].yes.code && !gsavm.program.usage.discretionaryFund.content)
  || !gsavm.program.usage.loanTerms.flag || (gsavm.program.usage.loanTerms.flag===gsavm.choices['yes_no'].yes.code && !gsavm.program.usage.loanTerms.content)
  || !gsavm.program.relatedPrograms.flag || (gsavm.program.relatedPrograms.flag==='yes' && !gsavm.program.relatedPrograms.relatedTo) || !gsavm.program.projects.flag
  || !gsavm.program.functionalCodes || gsavm.program.functionalCodes.length==0 || !gsavm.program.subjectTerms || gsavm.program.subjectTerms.length==0
  || !gsavm.program.assistanceTypes || gsavm.program.assistanceTypes.length==0
  || !gsavm.program.eligibility.applicant.types || gsavm.program.eligibility.applicant.types.length==0
  || !gsavm.program.eligibility.applicant.assistanceUsageTypes || gsavm.program.eligibility.applicant.assistanceUsageTypes.length==0 || !gsavm.program.eligibility.applicant.additionalInfo
  || !gsavm.program.eligibility.beneficiary.types || gsavm.program.eligibility.beneficiary.types.length==0 || !gsavm.program.eligibility.beneficiary.additionalInfo.content
  || !gsavm.program.eligibility.documentation.flag || (gsavm.program.eligibility.documentation.flag==='yes' && !gsavm.program.eligibility.documentation.content)
  || gsavm.program.eligibility.documentation.flag==='yes' && !gsavm.program.eligibility.documentation.questions['OMBCircularA87'].flag
  || !gsavm.program.preApplication.coordination.flag || (gsavm.program.preApplication.coordination.flag==='yes' && !gsavm.program.preApplication.coordination.environmentalImpact.flag)
  || (gsavm.program.preApplication.coordination.flag==='yes' && !gsavm.program.preApplication.coordination.questions.ExecutiveOrder12372.flag) || !gsavm.program.application.procedures.questions.OMBCircularA102.flag
  || !gsavm.program.award.procedures.content || !gsavm.program.application.deadlines.submission.flag || !gsavm.program.application.deadlines.approval.interval || !gsavm.program.application.deadlines.appeal.interval
  || !gsavm.program.application.deadlines.renewal.interval || !gsavm.program.assistance.formula.flag || !gsavm.program.assistance.matching.flag || (gsavm.program.assistance.matching.flag=='yes' && !gsavm.program.assistance.matching.percent)
  || !gsavm.program.assistance.moe.flag || !gsavm.program.assistance.limitation.content || !gsavm.program.assistance.limitation.awarded || !gsavm.program.application.selectionCriteria.flag
  || (gsavm.program.application.selectionCriteria.flag=='yes' && !gsavm.program.application.selectionCriteria.content)
  || !gsavm.program.postAward.reports.flag || (gsavm.program.postAward.reports.flag==='yes' && !gsavm.program.postAward.reports.list.program.flag)
  || (gsavm.program.postAward.reports.flag==='yes' && !gsavm.program.postAward.reports.list.cash.flag) || (gsavm.program.postAward.reports.flag==='yes' && !gsavm.program.postAward.reports.list.progress.flag)
  || (gsavm.program.postAward.reports.flag==='yes' && !gsavm.program.postAward.reports.list.expenditure.flag) || (gsavm.program.postAward.reports.flag==='yes' && !gsavm.program.postAward.reports.list.performanceMonitoring.flag)
  || !gsavm.program.postAward.audit.flag || (gsavm.program.postAward.audit.flag==='yes' && !gsavm.program.postAward.audit.questions['OMBCircularA133'].flag)
  || !gsavm.program.postAward.documents.flag || (gsavm.program.postAward.documents.flag==='yes' && !gsavm.program.postAward.documents.content)
  || !gsavm.program.financial.treasury.tafs || gsavm.program.financial.treasury.tafs.length==0 || !gsavm.program.postAward.accomplishments.flag
  || !gsavm.program.contacts['local'].flag || !gsavm.program.contacts.list || gsavm.program.contacts.list.length==0
  || requiredFieldsMissing('ProgramNumber')
  || (gsavm.organizationConfiguration && gsavm.organizationConfiguration.programNumberAuto === false &&
  (gsavm.isProgramNumberUnique === false || (gsavm.isProgramNumberOutsideRange === true && gsavm.shouldSeeCoordinatorMessage()) ))">
  <table ng-hide="gsavm.IsVisible">
    <tr>
      <td style="vertical-align:top;border:none">
        <img src="/img/alerts/exclamation.png" style="position:relative;top:35px;" alt="Warning"/>
      </td>
      <td style="vertical-align:top;border:none">
        <h3>Required Fields Missing</h3>
        The following required fields have not been filled out on previous steps.
        Please go back and fill out all required fields before you can submit.
      </td>
      <td style="vertical-align:top;border:none">
        <span class="fa fa-plus-square-o" style="position:relative;top:35px;" ng-click="gsavm.IsVisible = !gsavm.IsVisible"></span>
      </td>
    </tr>
  </table>

  <table ng-show="gsavm.IsVisible">
    <tr>
      <td style="vertical-align:top;border:none">
        <img src="/img/alerts/exclamation.png" style="position:relative;top:35px;" alt="Warning"/>
      </td>
      <td style="vertical-align:top;border:none">
        <h3>Required Fields Missing</h3>
        The following required fields have not been filled out on previous steps.
        Please go back and fill out all required fields before you can submit.
        <div style="padding-top:15px" ng-show="!gsavm.program.title || !gsavm.program.authorizations || gsavm.program.authorizations.length==0
        || !gsavm.program.objective || !gsavm.program.usage.restrictions.flag
        || (gsavm.program.usage.restrictions.flag===gsavm.choices['yes_no'].yes.code && !gsavm.program.usage.restrictions.content) || !gsavm.program.usage.discretionaryFund.flag
        || (gsavm.program.usage.discretionaryFund.flag===gsavm.choices['yes_no'].yes.code && !gsavm.program.usage.discretionaryFund.content)
        || !gsavm.program.usage.loanTerms.flag || (gsavm.program.usage.loanTerms.flag===gsavm.choices['yes_no'].yes.code && !gsavm.program.usage.loanTerms.content)
        || !gsavm.program.relatedPrograms.flag || (gsavm.program.relatedPrograms.flag==='yes' && !gsavm.program.relatedPrograms.relatedTo) || !gsavm.program.projects.flag
        || !gsavm.program.functionalCodes || gsavm.program.functionalCodes.length==0 || !gsavm.program.subjectTerms || gsavm.program.subjectTerms.length==0
        || !gsavm.program.assistanceTypes || gsavm.program.assistanceTypes.length==0
        || requiredFieldsMissing('ProgramNumber')
        || (gsavm.organizationConfiguration && gsavm.organizationConfiguration.programNumberAuto === false &&
        (gsavm.isProgramNumberUnique === false || (gsavm.isProgramNumberOutsideRange === true && gsavm.shouldSeeCoordinatorMessage()) ))">
        <h4>General Information</h4>
        <a ng-click="uxForm.goToBookmarkByText('010 Program Title')" ng-show="!gsavm.program.title" trigger-click-on-enter>010 Program Title is required<br/></a>
        <a ng-click="uxForm.goToBookmarkByText('Program Number')" ng-show="(gsavm.organizationConfiguration && gsavm.organizationConfiguration.programNumberAuto === false && gsavm.isProgramNumberUnique === false)" trigger-click-on-enter>The FAL number has already been used. Please enter a different FAL number.<br/></a>
        <a ng-click="uxForm.goToBookmarkByText('Program Number')" ng-show="(gsavm.organizationConfiguration && gsavm.organizationConfiguration.programNumberAuto === false && !gsavm.program.programNumber)" trigger-click-on-enter>Program Number is required<br/></a>
          <a ng-click="uxForm.goToBookmarkByText('Program Number')" ng-show="(gsavm.program.programNumber && gsavm.program.programNumber.length != 3)" trigger-click-on-enter>Three digit Program Number is required<br/></a>
        <a ng-click="uxForm.goToBookmarkByText('Program Number')" ng-show="gsavm.shouldSeeCoordinatorMessage() && gsavm.program.programNumber && gsavm.isProgramNumberOutsideRange === true" trigger-click-on-enter>Program number falls outside the range defined for this organization. Please contact your agency coordinator to have the range adjusted.<br/></a>
        <a ng-click="uxForm.goToBookmarkByText('040 Authorization')" ng-show="!gsavm.program.authorizations || gsavm.program.authorizations.length==0" trigger-click-on-enter>040 Authorization is required<br/></a>
        <a ng-click="uxForm.goToBookmarkByText('050 Objectives')" ng-show="!gsavm.program.objective" trigger-click-on-enter>050 Objective is required<br/></a>
        <a ng-click="uxForm.goToBookmarkByText('060 Types of Assistance')" ng-show="!gsavm.program.assistanceTypes || gsavm.program.assistanceTypes.length==0" trigger-click-on-enter>060 Types of Assistance is required<br/></a>
        <a ng-click="uxForm.goToBookmarkByText('070 Uses and Use Restrictions')" ng-show="!gsavm.program.usage.restrictions.flag" trigger-click-on-enter>070 Uses and Use Restrictions - specific restrictions is required<br/></a>
        <a ng-click="uxForm.goToBookmarkByText('070 Uses and Use Restrictions')" ng-show="gsavm.program.usage.restrictions.flag===gsavm.choices['yes_no'].yes.code && !gsavm.program.usage.restrictions.content" trigger-click-on-enter>070 Uses and Use Restrictions - a description for specific restrictions is required<br/></a>
        <a ng-click="uxForm.goToBookmarkByText('070 Uses and Use Restrictions')" ng-show="!gsavm.program.usage.discretionaryFund.flag" trigger-click-on-enter>070 Uses and Use Restrictions - discretionary funds available is required<br/></a>
        <a ng-click="uxForm.goToBookmarkByText('070 Uses and Use Restrictions')" ng-show="gsavm.program.usage.discretionaryFund.flag===gsavm.choices['yes_no'].yes.code && !gsavm.program.usage.discretionaryFund.content" trigger-click-on-enter>070 Uses and Use Restrictions - a description for discretionary funds is required<br/></a>
        <a ng-click="uxForm.goToBookmarkByText('070 Uses and Use Restrictions')" ng-show="!gsavm.program.usage.loanTerms.flag" trigger-click-on-enter>070 Uses and Use Restrictions - loans a type of assistance is required<br/></a>
        <a ng-click="uxForm.goToBookmarkByText('070 Uses and Use Restrictions')" ng-show="gsavm.program.usage.loanTerms.flag===gsavm.choices['yes_no'].yes.code && !gsavm.program.usage.loanTerms.content" trigger-click-on-enter>070 Uses and Use Restrictions - a description for loan terms is required<br/></a>
        <a ng-click="uxForm.goToBookmarkByText('160 Related Programs')" ng-show="!gsavm.program.relatedPrograms.flag" trigger-click-on-enter>160 Related Programs is required<br/></a>
        <a ng-click="uxForm.goToBookmarkByText('160 Related Programs')" ng-show="gsavm.program.relatedPrograms.flag==='yes' && !gsavm.program.relatedPrograms.relatedTo" trigger-click-on-enter>160 Related Programs - Please select at least one related program<br/></a>
        <a ng-click="uxForm.goToBookmarkByText('170 Examples of Funded Projects')" ng-show="!gsavm.program.projects.flag" trigger-click-on-enter>170 Examples of Funded Projects is required<br/></a>
        <a ng-click="uxForm.goToBookmarkByText('190 Functional Codes')" ng-show="!gsavm.program.functionalCodes || gsavm.program.functionalCodes.length==0" trigger-click-on-enter>190 Functional Codes is required<br/></a>
        <a ng-click="uxForm.goToBookmarkByText('300 Subject Terms')" ng-show="!gsavm.program.subjectTerms || gsavm.program.subjectTerms.length==0" trigger-click-on-enter>300 Subject Terms is required<br/></a>
      </div>
      <div style="padding-top:15px" ng-show="!gsavm.program.eligibility.applicant.types || gsavm.program.eligibility.applicant.types.length==0
      || !gsavm.program.eligibility.applicant.assistanceUsageTypes || gsavm.program.eligibility.applicant.assistanceUsageTypes.length==0 || !gsavm.program.eligibility.applicant.additionalInfo
      || !gsavm.program.eligibility.beneficiary.types || gsavm.program.eligibility.beneficiary.types.length==0 || !gsavm.program.eligibility.beneficiary.additionalInfo.content
      || !gsavm.program.eligibility.documentation.flag || (gsavm.program.eligibility.documentation.flag==='yes' && !gsavm.program.eligibility.documentation.content)
      || gsavm.program.eligibility.documentation.flag==='yes' && !gsavm.program.eligibility.documentation.questions['OMBCircularA87'].flag">
      <h4>Eligibility / Qualifications</h4>
      <a ng-click="uxForm.goToBookmarkByText('081 Applicant Eligibility')" ng-show="!gsavm.program.eligibility.applicant.types || gsavm.program.eligibility.applicant.types.length==0" trigger-click-on-enter>081 Applicant Eligibility - Eligible Applicants is required<br/></a>
      <a ng-click="uxForm.goToBookmarkByText('081 Applicant Eligibility')" ng-show="!gsavm.program.eligibility.applicant.assistanceUsageTypes || gsavm.program.eligibility.applicant.assistanceUsageTypes.length==0" trigger-click-on-enter>081 Applicant Eligibility - Use of Assistance is required<br/></a>
      <a ng-click="uxForm.goToBookmarkByText('081 Applicant Eligibility')" ng-show="!gsavm.program.eligibility.applicant.additionalInfo" trigger-click-on-enter>081 Applicant Eligibility - Additional Information is required<br/></a>
      <a ng-click="uxForm.goToBookmarkByText('082 Beneficiary Eligibility')" ng-show="!gsavm.program.eligibility.beneficiary.types || gsavm.program.eligibility.beneficiary.types.length==0" trigger-click-on-enter>082 Beneficiary Eligibility - Beneficiary Eligibility is required<br/></a>
      <a ng-click="uxForm.goToBookmarkByText('082 Beneficiary Eligibility')" ng-show="!gsavm.program.eligibility.beneficiary.additionalInfo.content" trigger-click-on-enter>082 Beneficiary Eligibility - Additional Information is required<br/></a>
      <a ng-click="uxForm.goToBookmarkByText('083 Credentials/Documentation')" ng-show="!gsavm.program.eligibility.documentation.flag" trigger-click-on-enter>083 Credentials/Documentation is required<br/></a>
      <a ng-click="uxForm.goToBookmarkByText('083 Credentials/Documentation')" ng-show="gsavm.program.eligibility.documentation.flag==='yes' && !gsavm.program.eligibility.documentation.content" trigger-click-on-enter>083 Credentials/Documentation - explain is required<br/></a>
      <a ng-click="uxForm.goToBookmarkByText('083 Credentials/Documentation')" ng-show="gsavm.program.eligibility.documentation.flag==='yes' && !gsavm.program.eligibility.documentation.questions['OMBCircularA87'].flag" trigger-click-on-enter>083 Credentials/Documentation - 2 CFR 200 is required<br/></a>
    </div>
    <div style="padding-top:15px" ng-show="!gsavm.program.preApplication.coordination.flag || (gsavm.program.preApplication.coordination.flag==='yes' && !gsavm.program.preApplication.coordination.environmentalImpact.flag)
    || (gsavm.program.preApplication.coordination.flag==='yes' && !gsavm.program.preApplication.coordination.questions.ExecutiveOrder12372.flag) || !gsavm.program.application.procedures.questions.OMBCircularA102.flag
    || !gsavm.program.award.procedures.content || !gsavm.program.application.deadlines.submission.flag || !gsavm.program.application.deadlines.approval.interval || !gsavm.program.application.deadlines.appeal.interval
    || !gsavm.program.application.deadlines.renewal.interval || !gsavm.program.assistance.formula.flag || !gsavm.program.assistance.matching.flag || (gsavm.program.assistance.matching.flag=='yes' && !gsavm.program.assistance.matching.percent)
    || !gsavm.program.assistance.moe.flag || !gsavm.program.assistance.limitation.content || !gsavm.program.assistance.limitation.awarded || !gsavm.program.application.selectionCriteria.flag
    || (gsavm.program.application.selectionCriteria.flag=='yes' && !gsavm.program.application.selectionCriteria.content)">
    <h4>How to Apply</h4>
    <a ng-click="uxForm.goToBookmarkByText('091 Pre-application Coordination')" ng-show="!gsavm.program.preApplication.coordination.flag" trigger-click-on-enter>091 Pre-application Coordination is required<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('091 Pre-application Coordination')" ng-show="gsavm.program.preApplication.coordination.flag==='yes' && !gsavm.program.preApplication.coordination.environmentalImpact.flag" trigger-click-on-enter>091 Pre-application Coordination - environmental impact is required<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('091 Pre-application Coordination')" ng-show="gsavm.program.preApplication.coordination.flag==='yes' && !gsavm.program.preApplication.coordination.questions.ExecutiveOrder12372.flag" trigger-click-on-enter>091 Pre-application Coordination - Executive Order 12372 is required<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('092 Application Procedures')" ng-show="!gsavm.program.application.procedures.questions.OMBCircularA102.flag" trigger-click-on-enter>092 Application Procedures is required<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('093 Award Procedure')" ng-show="!gsavm.program.award.procedures.content" trigger-click-on-enter>093 Award Procedure is required<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('094 Deadlines')" ng-show="!gsavm.program.application.deadlines.submission.flag" trigger-click-on-enter>094 Deadlines is required<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('095 Range of Approval/Disapproval Time')" ng-show="!gsavm.program.application.deadlines.approval.interval" trigger-click-on-enter>095 Range of Approval/Disapproval Time is required<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('096 Appeals')" ng-show="!gsavm.program.application.deadlines.appeal.interval" trigger-click-on-enter>096 Appeals is required<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('097 Renewals')" ng-show="!gsavm.program.application.deadlines.renewal.interval" trigger-click-on-enter>097 Renewals is required<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('101 Formula and Matching Requirements')" ng-show="!gsavm.program.assistance.formula.flag" trigger-click-on-enter>101 Formula and Matching Requirements - statutory formula is required<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('101 Formula and Matching Requirements')" ng-show="!gsavm.program.assistance.matching.flag" trigger-click-on-enter>101 Formula and Matching Requirements - matching requirements is required<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('101 Formula and Matching Requirements')" ng-show="gsavm.program.assistance.matching.flag=='yes' && !gsavm.program.assistance.matching.percent" trigger-click-on-enter>101 Formula and Matching Requirements - matching requirements percentage is required<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('101 Formula and Matching Requirements')" ng-show="!gsavm.program.assistance.moe.flag" trigger-click-on-enter>101 Formula and Matching Requirements - MOE requirements is required<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('102 Length and Time Phasing of Assistance')" ng-show="!gsavm.program.assistance.limitation.content" trigger-click-on-enter>102 Length and Time Phasing of Assistance - available is required<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('102 Length and Time Phasing of Assistance')" ng-show="!gsavm.program.assistance.limitation.awarded" trigger-click-on-enter>102 Length and Time Phasing of Assistance - assistance awarded is required<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('180 Criteria for Selecting Proposals')" ng-show="!gsavm.program.application.selectionCriteria.flag" trigger-click-on-enter>180 Criteria for Selecting Proposals is required<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('180 Criteria for Selecting Proposals')" ng-show="gsavm.program.application.selectionCriteria.flag=='yes' && !gsavm.program.application.selectionCriteria.content" trigger-click-on-enter>180 Criteria for Selecting Proposals - describe criteria is required<br/></a>
  </div>
  <div style="padding-top:15px" ng-show="!gsavm.program.postAward.reports.flag || (gsavm.program.postAward.reports.flag==='yes' && !gsavm.program.postAward.reports.list.program.flag)
  || (gsavm.program.postAward.reports.flag==='yes' && !gsavm.program.postAward.reports.list.cash.flag) || (gsavm.program.postAward.reports.flag==='yes' && !gsavm.program.postAward.reports.list.progress.flag)
  || (gsavm.program.postAward.reports.flag==='yes' && !gsavm.program.postAward.reports.list.expenditure.flag) || (gsavm.program.postAward.reports.flag==='yes' && !gsavm.program.postAward.reports.list.performanceMonitoring.flag)
  || !gsavm.program.postAward.audit.flag || (gsavm.program.postAward.audit.flag==='yes' && !gsavm.program.postAward.audit.questions['OMBCircularA133'].flag)
  || !gsavm.program.postAward.documents.flag || (gsavm.program.postAward.documents.flag==='yes' && !gsavm.program.postAward.documents.content)">
  <h4>Post Award Requirements</h4>
  <a ng-click="uxForm.goToBookmarkByText('111 Reports')" ng-show="!gsavm.program.postAward.reports.flag" trigger-click-on-enter>111 Reports is required<br/></a>
  <a ng-click="uxForm.goToBookmarkByText('111 Reports')" ng-show="gsavm.program.postAward.reports.flag==='yes' && !gsavm.program.postAward.reports.list.program.flag" trigger-click-on-enter>111 Reports - program reports is required<br/></a>
  <a ng-click="uxForm.goToBookmarkByText('111 Reports')" ng-show="gsavm.program.postAward.reports.flag==='yes' && gsavm.program.postAward.reports.list.program.flag==='yes' && !gsavm.program.postAward.reports.list.program.content" trigger-click-on-enter>111 Reports - program reports description is required<br/></a>
  <a ng-click="uxForm.goToBookmarkByText('111 Reports')" ng-show="gsavm.program.postAward.reports.flag==='yes' && !gsavm.program.postAward.reports.list.cash.flag" trigger-click-on-enter>111 Reports - cash reports is required<br/></a>
  <a ng-click="uxForm.goToBookmarkByText('111 Reports')" ng-show="gsavm.program.postAward.reports.flag==='yes' && gsavm.program.postAward.reports.list.cash.flag==='yes' && !gsavm.program.postAward.reports.list.cash.content" trigger-click-on-enter>111 Reports - cash reports description is required<br/></a>
  <a ng-click="uxForm.goToBookmarkByText('111 Reports')" ng-show="gsavm.program.postAward.reports.flag==='yes' && !gsavm.program.postAward.reports.list.progress.flag" trigger-click-on-enter>111 Reports - progress reports is required<br/></a>
  <a ng-click="uxForm.goToBookmarkByText('111 Reports')" ng-show="gsavm.program.postAward.reports.flag==='yes' && gsavm.program.postAward.reports.list.progress.flag==='yes' && !gsavm.program.postAward.reports.list.progress.content" trigger-click-on-enter>111 Reports - progress reports description is required<br/></a>
  <a ng-click="uxForm.goToBookmarkByText('111 Reports')" ng-show="gsavm.program.postAward.reports.flag==='yes' && !gsavm.program.postAward.reports.list.expenditure.flag" trigger-click-on-enter>111 Reports - expenditure reports is required<br/></a>
  <a ng-click="uxForm.goToBookmarkByText('111 Reports')" ng-show="gsavm.program.postAward.reports.flag==='yes' && gsavm.program.postAward.reports.list.expenditure.flag==='yes' && !gsavm.program.postAward.reports.list.expenditure.content" trigger-click-on-enter>111 Reports - expenditure reports description is required<br/></a>
  <a ng-click="uxForm.goToBookmarkByText('111 Reports')" ng-show="gsavm.program.postAward.reports.flag==='yes' && !gsavm.program.postAward.reports.list.performanceMonitoring.flag" trigger-click-on-enter>111 Reports - performance monitoring is required<br/></a>
  <a ng-click="uxForm.goToBookmarkByText('111 Reports')" ng-show="gsavm.program.postAward.reports.flag==='yes' && gsavm.program.postAward.reports.list.performanceMonitoring.flag==='yes' && !gsavm.program.postAward.reports.list.performanceMonitoring.content" trigger-click-on-enter>111 Reports - performance monitoring description is required<br/></a>
  <a ng-click="uxForm.goToBookmarkByText('112 Audits')" ng-show="!gsavm.program.postAward.audit.flag" trigger-click-on-enter>112 Audits is required<br/></a>
  <a ng-click="uxForm.goToBookmarkByText('112 Audits')" ng-show="gsavm.program.postAward.audit.flag==='yes' && !gsavm.program.postAward.audit.questions['OMBCircularA133'].flag" trigger-click-on-enter>112 Audits - 2 CFR 200, Subpart F is required<br/></a>
  <a ng-click="uxForm.goToBookmarkByText('140 Regulations, Guidelines, and Literature')" ng-show="!gsavm.program.postAward.documents.flag" trigger-click-on-enter>140 Regulations, Guidelines, and Literature is required<br/></a>
  <a ng-click="uxForm.goToBookmarkByText('140 Regulations, Guidelines, and Literature')" ng-show="gsavm.program.postAward.documents.flag==='yes' && !gsavm.program.postAward.documents.content" trigger-click-on-enter>140 Regulations, Guidelines, and Literature - description is required<br/></a>
</div>


<div style="padding-top:15px" ng-show="requiredFieldsMissing('financialSection')">
  <h4>Financial Information and Accomplishments</h4>
  <a ng-click="uxForm.goToBookmarkByText('121 Account Identification')" ng-show="!gsavm.program.financial.accounts || gsavm.program.financial.accounts.length==0 " trigger-click-on-enter>121 Account Identification is required<br/></a>

  <div ng-repeat="account in gsavm.program.financial.accounts">
    <a ng-click="uxForm.goToBookmarkByText('121 Account Identification')" ng-show="!account.code" trigger-click-on-enter>121 Account Identification, Code is required for Account # {{$index + 1}}<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('121 Account Identification')" ng-show="account.code.length < 15 || !validateFieldByRegex('^[0-9\-]*$', account.code)" trigger-click-on-enter>121 Account Identification, Provide a valid number using only numerical values. Code is not valid for Account # {{$index + 1}}<br/></a>
  </div>
  <a ng-click="uxForm.goToBookmarkByText('122 Obligations')" ng-show="!gsavm.program.financial.obligations || gsavm.program.financial.obligations.length==0 " trigger-click-on-enter>122 Obligations is required<br/></a>

  <div ng-repeat="obligation in gsavm.program.financial.obligations">
    <a ng-click="uxForm.goToBookmarkByText('122 Obligations')" ng-show="!obligation.questions.recovery" trigger-click-on-enter>122 Obligations, "Is this a Recovery and Reinvestment Act Obligation?" field is required for Obligation # {{$index + 1}}<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('122 Obligations')" ng-show="!obligation.questions.salary_or_expense" trigger-click-on-enter>122 Obligations, "Is this for Federal salaries and expenses?" field is required for Obligation # {{$index + 1}}<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('122 Obligations')" ng-show="(obligation.questions.salary_or_expense.flag == 'na') && (!obligation.assistanceType || obligation.assistanceType == '')" trigger-click-on-enter>122 Obligations, Assistance Type Field is required for Obligation # {{$index + 1}}<br/></a>

    <!-- key: fiscalYear -->
    <div ng-repeat="(fiscalYear, valueObj) in obligation.values">
      <a ng-click="uxForm.goToBookmarkByText('122 Obligations')" ng-show="!validateFieldByRegex('^[0-9\,]*$', getActualOrEstimate(valueObj).dollarValue)" trigger-click-on-enter>122
        Obligations, Provide a valid number using only digits and commas for the {{getActualOrEstimate(valueObj).label}} dollar amount for fiscal year {{fiscalYear}} in Obligation #
        {{$parent.$index +1}}<br/></a>
    </div>

  </div>

  <a ng-click="uxForm.goToBookmarkByText('124 TAFS Codes - Unique Treasury Appropriation Fund Symbols')" ng-show="!gsavm.program.financial.treasury.tafs || gsavm.program.financial.treasury.tafs.length==0" trigger-click-on-enter>124 TAFS Codes is required<br/></a>

  <div ng-repeat="taf in gsavm.program.financial.treasury.tafs">
    <a ng-click="uxForm.goToBookmarkByText('124 TAFS Codes - Unique Treasury Appropriation Fund Symbols')" ng-show="!taf.departmentCode" trigger-click-on-enter>124 TAFS Codes, Treasury Dept Code field is required for TAF # {{$index + 1}}<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('124 TAFS Codes - Unique Treasury Appropriation Fund Symbols')" ng-show="!taf.accountCode" trigger-click-on-enter>124 TAFS Codes, Treasury Account Main Code field is required for TAF # {{$index + 1}}<br/></a>

    <a ng-click="uxForm.goToBookmarkByText('124 TAFS Codes - Unique Treasury Appropriation Fund Symbols')" ng-show="taf.departmentCode && (taf.departmentCode.length < 2 || !validateFieldByRegex('^[0-9]*$', taf.departmentCode))" trigger-click-on-enter>124 TAFS Codes, Treasury Dept Code field, Provide a valid number using digits 00-99 for TAF # {{$index + 1}}<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('124 TAFS Codes - Unique Treasury Appropriation Fund Symbols')" ng-show="taf.allocationTransferAgency && (taf.allocationTransferAgency.length < 2 || !validateFieldByRegex('^[0-9]*$', taf.allocationTransferAgency))" trigger-click-on-enter>124 TAFS Codes, Allocation Transfer Agency field, Provide a valid number using digits 00-99 for TAF # {{$index + 1}}<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('124 TAFS Codes - Unique Treasury Appropriation Fund Symbols')" ng-show="taf.fy1 && (taf.fy1.length < 4 || !validateFieldByRegex('^[0-9]*$', taf.fy1))" trigger-click-on-enter>124 TAFS Codes, FY 1 field, Provide a valid number using digits 0000-9999 for TAF # {{$index + 1}}<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('124 TAFS Codes - Unique Treasury Appropriation Fund Symbols')" ng-show="taf.fy2 && (taf.fy2.length < 4 || !validateFieldByRegex('^[0-9]*$', taf.fy2))" trigger-click-on-enter>124 TAFS Codes, FY 2 Code field, Provide a valid number using digits 0000-9999 for TAF # {{$index + 1}}<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('124 TAFS Codes - Unique Treasury Appropriation Fund Symbols')" ng-show="taf.accountCode && (taf.accountCode.length < 4 || !validateFieldByRegex('^[0-9]*$', taf.accountCode))" trigger-click-on-enter>124 TAFS Codes, Treasury Account Main Code field, Provide a valid number using digits 0000-9999 for TAF # {{$index + 1}}<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('124 TAFS Codes - Unique Treasury Appropriation Fund Symbols')" ng-show="taf.subAccountCode && (taf.subAccountCode.length < 3 || !validateFieldByRegex('^[0-9]*$', taf.subAccountCode))" trigger-click-on-enter>124 TAFS Codes, TAFS Sub-Account field, Provide a valid number using digits 000-999 for TAF # {{$index + 1}}<br/></a>


  </div>

  <a ng-click="uxForm.goToBookmarkByText('130 Program Accomplishments')" ng-show="!gsavm.program.postAward.accomplishments.flag" trigger-click-on-enter>130 Program Accomplishments is required<br/></a>
</div>


<div style="padding-top:15px" ng-show="requiredFieldsMissing('contactSection')">
  <h4>Contact Information</h4>
  <a ng-click="uxForm.goToBookmarkByText('151 Regional or Local Office')" ng-show="!gsavm.program.contacts['local'].flag" trigger-click-on-enter>151 Regional or Local Office is required<br/></a>
  <a ng-click="uxForm.goToBookmarkByText('152 Headquarters Office')" ng-show="!gsavm.program.contacts.list || gsavm.program.contacts.list.length==0" trigger-click-on-enter>152 Headquarters Office is required<br/></a>

  <div ng-repeat="hqContact in gsavm.program.contacts.list">
    <a ng-click="uxForm.goToBookmarkByText('152 Headquarters Office')" ng-show="!hqContact.fullName" trigger-click-on-enter>152 Headquarters Office, Full Name is missing for HQ Contact # {{$index + 1}}<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('152 Headquarters Office')" ng-show="!hqContact.email" trigger-click-on-enter>152 Headquarters Office, Email is missing for HQ Contact # {{$index + 1}}<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('152 Headquarters Office')" ng-show="hqContact.email && !validateFieldByRegex('[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,3}$', hqContact.email)" trigger-click-on-enter>152 Headquarters Office, Please enter a valid Internet email address for # {{$index + 1}}. Format: username@host.domain.<br/></a>

    <a ng-click="uxForm.goToBookmarkByText('152 Headquarters Office')" ng-show="!hqContact.phone" trigger-click-on-enter>152 Headquarters Office, Phone is missing for HQ Contact # {{$index + 1}}<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('152 Headquarters Office')" ng-show="!hqContact.address" trigger-click-on-enter>152 Headquarters Office, Address is missing for HQ Contact # {{$index + 1}}<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('152 Headquarters Office')" ng-show="!hqContact.city" trigger-click-on-enter>152 Headquarters Office, City is missing for HQ Contact # {{$index + 1}}<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('152 Headquarters Office')" ng-show="!hqContact.zip" trigger-click-on-enter>152 Headquarters Office, Zip is missing for HQ Contact # {{$index + 1}}<br/></a>
    <a ng-click="uxForm.goToBookmarkByText('152 Headquarters Office')" ng-show="!hqContact.state" trigger-click-on-enter>152 Headquarters Office, State is missing for HQ Contact # {{$index + 1}}<br/></a>
  </div>


  <a ng-click="uxForm.goToBookmarkByText('153 Website')"
     ng-show="gsavm.program.website.length > 0 && !validateFieldByRegex('website-url', gsavm.program.website)" trigger-click-on-enter>
    153 Website, Please enter a valid url. [protocol]://hostname.domain. Protocol can be ftp, http, or https. Spaces are not allowed.<br/></a>



</div>


</td>
<td style="vertical-align:top;border:none">
  <span class="fa fa-minus-square-o" style="position:relative;top:35px;" ng-click="gsavm.IsVisible = !gsavm.IsVisible"></span>
</td>
</tr>
</table>
</div>
<div ng-include="'programs/view-section1.tpl.html'"></div>
<hr/>
<div ng-include="'programs/view-section2.tpl.html'"></div>
<hr/>
<div ng-include="'programs/view-section3.tpl.html'"></div>
<hr/>
<div ng-include="'programs/view-section4.tpl.html'"></div>
<hr/>
<div ng-include="'programs/view-section5.tpl.html'"></div>
<hr/>
<div ng-include="'programs/view-section6.tpl.html'"></div>
</ux-form-section>
</section>

<section class="usa-grid usa-margin-top-3 usa-text-align-right">
  <button class="usa-button-big" type="button" ng-click="gsavm.saveAndFinishLater()">Save & Finish Later</button>
  <button class="usa-button-big" type="button" ng-if="hasPermission([PERMISSIONS.CAN_PERFORM_SUBMISSION])" ng-show="submissionRequest" title="Approve Program Publish" ng-click="showProgramRequestModal(submissionRequest, 'program_request_action', 'publish')">Approve Program</button>
  <button class="usa-button-big" type="button" ng-if="hasPermission([PERMISSIONS.CAN_PERFORM_SUBMISSION])" ng-show="submissionRequest" title="Reject Program" ng-click="showProgramRequestModal(submissionRequest, 'program_request_action', 'reject_program')">Reject Program</button>
  <button class="usa-button-big" type="button" ng-if="hasPermission([PERMISSIONS.CAN_REQUEST_SUBMISSION])" ng-show="uxForm.isSection('review') && (gsavm.program.status === 'Draft' || gsavm.program.status === 'Rejected' || !gsavm.program.status) && !gsavm.program.archived" ng-click="gsavm.submitProgram(gsavm.program)">Save & Submit</button>
  <button class="usa-button-big" type="button" ng-hide="uxForm.isSection('review')" ng-click="gsavm.cancelForm()">Cancel</button>

  <button class="usa-button-big" type="button" ng-hide="uxForm.isSection('info')" ng-click="uxForm.goToPreviousSection()">Previous</button>
  <button class="usa-button-big" type="button" ng-hide="uxForm.isSection('review')" ng-click="uxForm.goToNextSection()">Next</button>
</section>

</form>

<section st-pipe="loadPrograms" st-table="programs">
    <div class="usa-grid-full page-heading">
        <div class="usa-width-one-half">
            <h1 style="width:99%;">Federal Assistance Listings Requests</h1>
        </div>
        <div class="usa-width-one-fourth" style="margin-top:25px;">
            <a class="usa-button" ui-sref="addProgram">Create a new listing</a>
        </div>
        <div class="usa-width-one-fourth" style="margin-top:25px;">
            <input type="search" class="bold-border" st-search placeholder="Search Listings" aria-controls="listings-table">
        </div>
    </div>
    <div class="usa-grid-full">
<table class="listing-table cfda-table">
    <thead>
    <tr>
        <th style="width:5%"><span class="usa-sr-only">Select FAL</span></th>
        <th style="width:25%" st-sort="title" st-skip-natural="true">Title</th>
        <th st-sort="requestType" st-skip-natural="true">Request Type</th>
        <th style="width:25%" st-sort="agencyId" st-skip-natural="true">Department/Sub-Tier Agency & Office</th>
        <th st-sort="reason" st-skip-natural="true">Reason</th>
        <th>Actions</th>
        <th st-sort="dateRequested" st-skip-natural="true">Date Requested</th>
    </tr>
    </thead>
    <tbody ng-show="!isLoading">
    <tr ng-repeat="row in programs">
        <td>
            <input type="checkbox" id="program-{{$index}}">
            <label for="program-{{$index}}"></label>
        </td>
        <td>
            <a ui-sref="editProgram({id: row._id, section: 'review'})">{{row.title}}</a>
        </td>
        <td>{{row.requestType}}</td>
        <td>{{row.agencyId}}</td>
        <td>{{row.reason}}</td>
        <td class="action-row">
            <button type="button" ng-click="showChangeStatusModal(row, 'request', 'approve')"><span class="fa fa-check-circle-o"></span></button>
            <button type="button" ng-click="showChangeStatusModal(row, 'request', 'reject')"><span class="fa fa-times-circle"></span></button>
        </td>
        <td>{{row.dateRequested}}</td>
    </tr>
    </tbody>
    <tbody ng-show="isLoading">
    <tr>
        <td colspan="7" class="text-center">Loading ...</td>
    </tr>
    </tbody>
</table>
    </div>
    <div class="pagination-panel">
        <div class="pagination-controls usa-grid-full">
            <div class="pagination-item-count-control">
                <span>Showing </span>
                <label class="usa-sr-only" for="items-by-page">Number of items to view per page</label>
                <select id="items-by-page" class="usa-form-medium bold-border" ng-model="itemsByPage" ng-options="pageNum for pageNum in itemsByPageNumbers">
                </select>
                <span> Per Page</span>
            </div>
            <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="10" st-template="programs/programs-list-pagination.tpl.html"></div>
        </div>
    </div>
</section>
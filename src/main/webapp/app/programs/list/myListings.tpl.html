<primary-nav-bar></primary-nav-bar>

<div class="usa-grid m-t-3">
  <ul class="usa-tab usa-tab-lightblue usa-unstyled-list">
    <li>
      <a ng-class="isActiveList() ? 'usa-current' : '';" ng-click="changeList('activePrograms')">Active Listings</a>
    </li>
    <li>
      <a ng-class="isArchivedList() ? 'usa-current' : '';" ng-click="changeList('archivedPrograms')">Archived Listings</a>
    </li>
    <li>
      <a ng-class="isRequestList() ? 'usa-current' : '';" ng-click="changeList('requests')">Requests</a>
    </li>
  </ul>
</div>

<div class="usa-grid usa-margin-top-3 usa-margin-bottom-2">

  <div class="usa-width-one-half">
    <h1 class="usa-margin-all-0">

      My  <span ng-show="isProgramList()">Listings</span>
      <span ng-show="!isProgramList()">Requests</span>

      <span ng-show="!angular.isUndefinedOrNull(totalCount)" class="usa-font-lead" style="font-weight: normal;">
        ( {{totalCount}} Results )
      </span>

    </h1>
  </div>

  <div class="usa-width-one-half">
    <div class="usa-grid-full">

      <div ng-class="isActiveList() ? 'usa-width-one-half' : 'usa-width-one-whole';">
        <input  ng-model="searchKeyword"
                type="search"
                placeholder="Search Listings"
                aria-controls="listings-table">
      </div>

      <div class="usa-width-one-half" ng-if="isActiveList()">
        <a  class="usa-button usa-button-big usa-button-fluid usa-margin-all-0"
            ui-sref="addProgram"
            has-access="{{ [PERMISSIONS.CAN_CREATE_PROGRAMS] }}">
            Create a new listing
        </a>
      </div>

    </div>
  </div>

</div>

<!-- Filters -->
<div class="usa-grid usa-margin-top-2 usa-margin-bottom-2" ng-if="isActiveList()">

  <fieldset class="usa-fieldset-inputs usa-sans">

    <legend class="usa-sr-only">Filters</legend>

    <ul class="usa-horizontal-list usa-move-right">
      <li>
        <input id="draftFilter" type="checkbox" ng-model="filters.draft">
        <label for="draftFilter">Draft</label>
      </li>
      <li>
        <input id="pendingFilter" type="checkbox" ng-model="filters.pending">
        <label for="pendingFilter">Pending</label>
      </li>
      <li>
        <input id="publishedFilter" type="checkbox" ng-model="filters.published">
        <label for="publishedFilter">Published</label>
      </li>
      <li>
        <input id="rejectedFilter" type="checkbox" ng-model="filters.rejected">
        <label for="rejectedFilter">Rejected</label>
      </li>
    </ul>

  </fieldset>

</div>


<!-- Table -->
<table  id="programsTable"
        datatable=""
        dt-options="dtOptions"
        dt-columns="dtColumns"
        dt-instance="dtInstance"
        class="usa-table-primary-darkest">
</table>

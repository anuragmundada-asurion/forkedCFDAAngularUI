<primary-nav-bar></primary-nav-bar>

<div class="usa-grid m-t-3">
  <ul class="usa-tab usa-tab-lightblue usa-unstyled-list">
    <li>
      <a ng-class="isActiveList() ? 'usa-current' : '';" ng-click="changeList('activePrograms')">Active Listings</a>
    </li>
    <li>
      <a ng-class="isArchivedList() ? 'usa-current' : '';" ng-click="changeList('archivedPrograms')">Archived Listings</a>
    </li>
    <li>
      <a ng-class="isRequestList() ? 'usa-current' : '';" ng-click="changeList('requests')">Requests</a>
    </li>
  </ul>
</div>

<div class="usa-grid m-t-3 m-b-2">

  <div class="usa-width-one-half">
    <h1>

      My  <span ng-show="isProgramList()">Listings</span>
      <span ng-show="!isProgramList()">Requests</span>

      <span ng-show="!angular.isUndefinedOrNull(totalCount)" class="usa-font-lead" style="font-weight: normal;">
        ( {{totalCount}} Results )
      </span>

    </h1>
  </div>

  <div class="usa-width-one-half">
    <div class="usa-grid-full">

      <div ng-class="isActiveList() ? 'usa-width-one-half' : 'usa-width-one-whole';">
        <div class="ui search">
          <div class="ui icon fluid input">
            <input ng-model="searchKeyword" type="search" class="prompt" placeholder="Search Listings" aria-controls="listings-table">
            <i class="search icon"></i>
          </div>
        </div>
      </div>
      <div class="usa-width-one-half" ng-if="isActiveList()">
        <a class="ui fluid primary button" ui-sref="addProgram" has-access="{{ [PERMISSIONS.CAN_CREATE_PROGRAMS] }}">Create a new listing</a>
      </div>

    </div>
  </div>

</div>

<div class="usa-grid m-t-2 m-b-2" ng-if="isActiveList()">

  <div class="usa-width-one-sixth">&nbsp;</div>
  <div class="usa-width-one-sixth">&nbsp;</div>

  <div class="usa-width-one-sixth">
    <input id="draftFilter" type="checkbox" ng-model="filters.draft">
    <label for="draftFilter">Draft</label>
  </div>

  <div class="usa-width-one-sixth">
    <input id="pendingFilter" type="checkbox" ng-model="filters.pending">
    <label for="pendingFilter">Pending</label>
  </div>

  <div class="usa-width-one-sixth">
    <input id="publishedFilter" type="checkbox" ng-model="filters.published">
    <label for="publishedFilter">Published</label>
  </div>

  <div class="usa-width-one-sixth">
    <input id="rejectedFilter" type="checkbox" ng-model="filters.rejected">
    <label for="rejectedFilter">Rejected</label>
  </div>

</div>

<table id="programsTable" datatable="" dt-options="dtOptions" dt-columns="dtColumns" dt-instance="dtInstance" class="ui darkblue table"></table>

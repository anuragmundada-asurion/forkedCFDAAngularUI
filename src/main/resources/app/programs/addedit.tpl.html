<form name="gsavm.form" class="usa-grid-full layout-padding" field-finder-form novalidate>
    <section class="form-header">
        <h1>{{ gsavm.isEdit ? 'Edit' : 'New' }} Listing</h1>
        <field-finder-searchbox></field-finder-searchbox>
    </section>
    <wizard template="/partials/programs/addedit-wizard.tpl.html" current-step="gsavm.currentStep" edit-mode="true">
        <wz-step canexit="gsavm.revealValidations" title="General Information">
            <h2>{{ gsavm.isEdit ? 'Edit' : 'Create' }} Program - Section 1: General Information</h2>
            <section field-finder-bookmark="000 Intro" class="usa-grid">
                <div class="input-field usa-width-one-fourth">
                    <label for="agency">Agency</label>
                    <span type="text" id="agency"  ng-bind="gsavm.program.agencyId"></span>
                </div>
                <div class="input-field usa-width-one-fourth">
                    <label for="sub-tier-agency">Sub-Tier Agency</label>
                    <select id="sub-tier-agency" name="subTierAgency" ng-model="gsavm.$program.subTierAgency" ng-options="office.name for office in gsavm.choices.offices track by office.id" required>
                        <option value='' disabled style="display:none">Please select a Sub-Tier Agency</option>
                    </select>
                    <div ng-show="gsavm.validationFlag['General Information'] || gsavm.form.subTierAgency.$dirty">
                        <span ng-show="gsavm.form.subTierAgency.$error.required">You must select a Sub-Tier Agency.</span>
                    </div>
                </div>
                <div class="input-field usa-width-one-fourth">
                    <label for="office">Office</label>
                    <select id="office" name="office" ng-model="gsavm.$program.office" ng-options="office.name for office in gsavm.choices.offices track by office.id" required>
                        <option value='' disabled style="display:none">Please select an Office</option>
                    </select>
                    <div ng-show="gsavm.validationFlag['General Information'] || gsavm.form.office.$dirty">
                        <span ng-show="gsavm.form.office.$error.required">You must select an office.</span>
                    </div>
                </div>
            </section>
            <div class="input-field" field-finder-bookmark>
                <label for="title">010 Program Title<span class="required" >*</span></label>
                <input type="text" id="title" name="title" ng-model="gsavm.program.title" required>
                <div ng-show="gsavm.validationFlag['General Information'] || gsavm.form.title.$dirty">
                    <span ng-show="gsavm.form.title.$error.required">You must provide a title.</span>
                </div>
            </div>
            <div class="input-field" field-finder-bookmark>
                <label for="alternativeName">020 Popular Name</label>
                <input type="text" id="alternativeName" name="alternativeName" ng-model="gsavm.program.alternativeNames" ng-list unique-from="gsavm.program.title">
                <div ng-show="gsavm.validationFlag['General Information'] || gsavm.form.alternativeName.$dirty">
                    <span ng-show="gsavm.form.alternativeName.$error.uniqueFrom">The Popular Name must be different than the Program Title.</span>
                </div>
            </div>
            <div class="input-field" field-finder-bookmark>
                <h3>040 Authorization</h3>
                <!--Field Details: For all authorizations/amendments, you must supply either the Act or the Executive Order to continue.</p>-->
                <div ng-repeat="authorization in gsavm.program.authorizations | filter:gsavm.exps.isAuthorization track by gsavm.exps.generateAuthKey(authorization)">
                    <div ng-form ng-init="formPath='authorization'+$index;idPath=formPath;parentAuth=authorization" name="gsavm.form.{{formPath}}" class="sub-form">
                        <div ng-include="'partials/programs/authorization.tpl.html'"></div>
                        <hr>
                        <label>Amendments</label>
                        <section class="usa-grid">
                            <div ng-repeat="authorization in gsavm.program.authorizations | filter:gsavm.exps.isPartOfAuth(parentAuth) track by gsavm.exps.generateAuthKey(authorization)">
                                <div ng-form ng-init="formPath=formPath +'.amendment'+$index;idPath=formPath.replace('.','-');" name="gsavm.form.{{formPath}}" class="sub-form">
                                    <div ng-include="'partials/programs/authorization.tpl.html'"></div>
                                    <button type="button" ng-click="gsavm.removeAmendment(authorization)">Delete</button>
                                </div>
                            </div>
                            <button type="button" ng-click="gsavm.addAmendment(authorization.authorizationId)">Add Amendment</button>
                        </section>
                        <hr>
                        <button type="button" ng-click="gsavm.removeAuthorization($index)">Delete</button>
                    </div>
                </div>
                <button type="button" ng-click="gsavm.addAuthorization()">Add</button>
            </div>
            <div class="input-field" field-finder-bookmark>
                <label for="objective">050 Objectives<span class="required" >*</span></label>
                <!--<p>Field Details: Enter the stated Objectives for the Program in this textfield.</p>-->
                <textarea id="objective" name="objective" ng-model="gsavm.program.objective" class="usa-grid-full" required></textarea>
                <div ng-show="gsavm.validationFlag['General Information'] || gsavm.form.objective.$dirty">
                    <span ng-show="gsavm.form.objective.$error.required">You must provide Objectives.</span>
                </div>
            </div>
            <section field-finder-bookmark>
                <div class="input-field">
                    <label for="assistanceTypes">060 Types of Assistance<span class="required" >*</span></label>
                    <!--<p>
                        Select one or more Assistance Types for your Program using the hierarchical picklist. For the complete set of options available in the
                        picklist, see the "Catalog of Federal Domestic Assitance Reference Manual for Agency Liaisons and Staff."
                    </p>-->
                    <ui-select id="assistanceTypes" multiple ng-model="gsavm.program.assistanceTypes" name="assistanceTypes" theme="select2" style="width:800px" required-Length='{ "min": 1 }'>
                        <ui-select-match placeholder="Please select at least one type of Assistance">{{$item.value}}</ui-select-match>
                        <ui-select-choices group-by="gsavm.groupByFns.multiPickerGroupByFn" repeat="item.code as item in gsavm.choices['assistance_type'] | filter: {value: $select.search}">
                            <div ng-bind-html="item.value | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                    <div ng-show="gsavm.validationFlag['General Information'] || gsavm.form.assistanceTypes.$dirty">
                        <span ng-show="gsavm.form.assistanceTypes.$error.requiredLength">You need to select at least one Assistance Type for your Program.</span>
                    </div>
                </div>
            </section>
            <section field-finder-bookmark>
                <h3>070 Uses and Use Restrictions</h3>
                <!--<p>Select all that apply to your Program. If "Yes" is selected, users are required to provide more details in the textfields.</p>-->
                <label for="usageRulesContent">Describe how assistance can potentially be used<span class="required" >*</span></label>
                <textarea id="usageRulesContent" name="usageRulesContent" ng-model="gsavm.program.usage.rules.content" class="usa-grid-full" required></textarea>
                <div ng-show="gsavm.validationFlag['General Information'] || gsavm.form.usageRulesContent.$dirty">
                    <span ng-show="gsavm.form.usageRulesContent.$error.required">You must describe how assistance can potentially be used.</span>
                </div>
                <div class="input-field">
                    <input type="checkbox" id="restrictionsFlag" ng-model="restrictionsFlag" ng-checked="gsavm.program.usage.restrictions.flag === gsavm.choices['yes_no'].yes.code" ng-change="gsavm.program.usage.restrictions.flag = restrictionsFlag ? gsavm.choices['yes_no'].yes.code : gsavm.choices['yes_no'].no.code" trigger-click-on-enter>
                    <label for="restrictionsFlag">Are there specific restructions place upon the use of the assistance?</label>
                </div>
                <div class="input-field" ng-show="gsavm.program.usage.restrictions.flag === gsavm.choices['yes_no'].yes.code">
                    <label for="restrictions">Please provide the restrictions:<span class="required" >*</span></label>
                    <textarea id="restrictions" name="restrictions" ng-model="gsavm.program.usage.restrictions.content" class="usa-grid-full" ng-required="gsavm.program.usage.restrictions.flag"></textarea>
                    <div ng-show="gsavm.validationFlag['General Information'] || gsavm.form.restrictions.$dirty">
                        <span ng-show="gsavm.form.restrictions.$error.required">You must provide restrictions.</span>
                    </div>
                </div>
                <div class="input-field">
                    <input type="checkbox" id="discretionaryFundFlag" ng-model="discretionaryFundFlag" ng-checked="gsavm.program.usage.discretionaryFund.flag === gsavm.choices['yes_no'].yes.code" ng-change="gsavm.program.usage.discretionaryFund.flag = discretionaryFundFlag ? gsavm.choices['yes_no'].yes.code : gsavm.choices['yes_no'].no.code" trigger-click-on-enter>
                    <label for="discretionaryFundFlag">Are there discretionary funds available?</label>
                </div>
                <div class="input-field" ng-show="gsavm.program.usage.discretionaryFund.flag === gsavm.choices['yes_no'].yes.code">
                    <label for="discretionaryFund">Discretionary Funds<span class="required" >*</span></label>
                    <textarea id="discretionaryFund" name="discretionaryFund" ng-model="gsavm.program.usage.discretionaryFund.content" class="usa-grid-full" ng-required="gsavm.program.usage.discretionaryFund.flag === gsavm.choices['yes_no'].yes.code"></textarea>
                    <div ng-show="gsavm.validationFlag['General Information'] || gsavm.form.discretionaryFund.$dirty">
                        <span ng-show="gsavm.form.discretionaryFund.$error.required">You must provide the discretionary funds.</span>
                    </div>
                </div>
                <div class="input-field">
                    <input type="checkbox" id="loanTermsFlag" ng-model="loanTermsFlag" ng-checked="gsavm.program.usage.loanTerms.flag === gsavm.choices['yes_no'].yes.code" ng-change="gsavm.program.usage.loanTerms.flag = loanTermsFlag ? gsavm.choices['yes_no'].yes.code : gsavm.choices['yes_no'].no.code" trigger-click-on-enter>
                    <label for="loanTermsFlag">Are loans a type of assistance in this program?</label>
                </div>
                <div class="input-field" ng-show="gsavm.program.usage.loanTerms.flag === gsavm.choices['yes_no'].yes.code">
                    <label for="loanTerms">Loan Terms<span class="required" >*</span></label>
                    <textarea id="loanTerms"  name="loanTerms" ng-model="gsavm.program.usage.loanTerms.content" class="usa-grid-full" ng-required="gsavm.program.usage.loanTerms.flag === gsavm.choices['yes_no'].yes.code"></textarea>
                    <div ng-show="gsavm.validationFlag['General Information'] || gsavm.form.loanTerms.$dirty">
                        <span ng-show="gsavm.form.loanTerms.$error.required">You must provide the loan terms.</span>
                    </div>
                </div>
            </section>
            <section field-finder-bookmar>
                <h3>160 Related Programs</h3>
                <div class="input-field">
                    <input type="checkbox" id="relatedProgramsFlag" ng-model="gsavm.uiLogic.relatedProgramsFlag" trigger-click-on-enter>
                    <label for="relatedProgramsFlag">Are there any related programs?</label>
                </div>
                <div class="input-field" ng-show="gsavm.uiLogic.relatedProgramsFlag">
                    <label>Select any related programs below:<span class="required" >*</span></label>
                    <ui-select multiple ng-model="gsavm.program.relatedTo" name="relatedTo" on-select="gsavm.log($item, $model)" theme="select2" style="width: 800px;" required-Length='{ "min": 1, "requiredIf": "gsavm.uiLogic.relatedProgramsFlag" }'>
                        <ui-select-match placeholder="Select a program...">{{$item.title}}</ui-select-match>
                        <ui-select-choices repeat="item._id as item in gsavm.choices['programs'] | filter: {title: $select.search, _id: '!' + gsavm.program._id}">
                            <div ng-bind-html="item.title | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                    <div ng-show="gsavm.validationFlag['General Information'] || gsavm.form.relatedTo.$dirty">
                        <span ng-show="gsavm.form.functionalCodes.$error.requiredLength">You need to select at least one related Program.</span>
                    </div>
                </div>
            </section>
            <section field-finder-bookmark>
                <h3>170 Examples of Funded Projects</h3>
                <div class="input-field">
                    <input type="checkbox" id="fundedProjectsExampleFlag" ng-model="gsavm.uiLogic.fundedProjectsExampleFlag" trigger-click-on-enter>
                    <label for="fundedProjectsExampleFlag">Are there examples of funded projects?</label>
                </div>
                <div ng-show="gsavm.uiLogic.fundedProjectsExampleFlag">
                    <div class="input-field" ng-repeat="fyTpl in gsavm.fyTpls track by fyTpl.name">
                        <ng-form name="gsavm.form.projects.{{fyTpl.varName}}" ng-init="project = gsavm.getFormFiscalYearProject(fyTpl.year);">
                            <p>{{fyTpl.name}}: {{fyTpl.year}}</p>
                            <label for="funded-projects-example-{{fyTpl.idName}}">{{fyTpl.type}}<span class="required" ng-show="fyTpl.isRequired">*</span></label>
                            <textarea id="funded-projects-example-{{fyTpl.idName}}" name="value" ng-model="project[fyTpl.varName]" class="usa-grid-full" ng-required="gsavm.uiLogic.fundedProjectsExampleFlag && fyTpl.isRequired"></textarea>
                            <div ng-show="gsavm.validationFlag['General Information'] || gsavm.form.projects[fyTpl.varName].value.$dirty">
                                <span ng-show="gsavm.form.projects[fyTpl.varName].value.$error.required">You must provide information for '{{fyTpl.name}}'.</span>
                            </div>
                        </ng-form>
                    </div>
                </div>
            </section>
            <section field-finder-bookmark>
                <div class="input-field">
                    <label>190 Functional Codes<span class="required" >*</span></label>
                    <ui-select multiple ng-model="gsavm.program.functionalCodes" name="functionalCodes" theme="select2" style="width: 800px;" required-Length='{ "min": 1 }'>
                        <ui-select-match placeholder="Select code...">{{$item.displayValue}}</ui-select-match>
                        <ui-select-choices group-by="gsavm.groupByFns.multiPickerGroupByFn" repeat="item.code as item in gsavm.choices['functional_codes'] | propsFilter: {displayValue: $select.search, 'parent.value': $select.search}">
                            <div ng-bind-html="item.displayValue | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                    <div ng-show="gsavm.validationFlag['General Information'] || gsavm.form.functionalCodes.$dirty">
                        <span ng-show="gsavm.form.functionalCodes.$error.requiredLength">You need to select at least one Functional Code.</span>
                    </div>
                </div>
            </section>
            <section field-finder-bookmark>
                <div class="input-field">
                    <label>300 Subject Terms<span class="required" >*</span></label>
                    <ui-select multiple ng-model="gsavm.program.subjectTerms" name="subjectTerms" theme="select2" style="width: 800px;" required-Length='{ "min": 1 }'>
                        <ui-select-match placeholder="Select subject term...">{{$item.value}}</ui-select-match>
                        <ui-select-choices group-by="gsavm.groupByFns.multiPickerGroupByFn" repeat="item.code as item in gsavm.choices['program_subject_terms'] | filter: {value: $select.search }">
                            <div ng-bind-html="item.value | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                    <div ng-show="gsavm.validationFlag['General Information'] || gsavm.form.subjectTerms.$dirty">
                        <span ng-show="gsavm.form.subjectTerms.$error.requiredLength">You need to select at least one Subject Term.</span>
                    </div>
                </div>
            </section>
        </wz-step>
        <wz-step canexit="gsavm.revealValidations" title="Eligibility / Qualifications">
            <h2>{{ gsavm.isEdit ? 'Edit' : 'Create' }} Program - Section 2: Eligibility / Qualifications</h2>
            <section field-finder-bookmark="080 Eligibility Requirements">
                    <h4>081 Applicant Eligibility</h4>
                    <div class="input-field">
                        <label for="eligibleApplicants">Eligible Applicants<span class="required" >*</span></label>
                        <ui-select id="eligibleApplicants" name="eligibleApplicants" theme="select2" multiple ng-model="gsavm.program.eligibility.applicant.types" style="width:800px;" required-Length='{ "min": 1 }'>
                            <ui-select-match placeholder="Search here">{{$item.displayValue}}</ui-select-match>
                            <ui-select-choices repeat="item.element_id as item in gsavm.choices['applicant_types'] track by item.element_id | filter:$select.search">
                                <div ng-bind-html="item.displayValue | highlight: $select.search"></div>
                            </ui-select-choices>
                        </ui-select>

                        <div ng-show="gsavm.form.$submit || gsavm.form.eligibleApplicants.$dirty">
                            <span ng-show="gsavm.form.eligibleApplicants.$error.requiredLength">You must select at least one Eligible Applicant.</span>
                        </div>
                    </div>
                    <div class="input-field">
                        <label for="useOfAssistance">Use of Assistance<span class="required" >*</span></label>
                        <ui-select id="useOfAssistance" name="useOfAssistance" theme="select2" multiple ng-model="gsavm.program.eligibility.applicant.assistanceUsageTypes"  style="width:800px;" required-Length='{ "min": 1 }'>
                            <ui-select-match placeholder="Search here">{{$item.displayValue}}</ui-select-match>
                            <ui-select-choices repeat="item.element_id as item in gsavm.choices['assistance_usage_types'] track by item.element_id | filter:$select.search">
                                <div ng-bind-html="item.displayValue | highlight: $select.search"></div>
                            </ui-select-choices>
                        </ui-select>

                        <div ng-show="gsavm.form.$submit || gsavm.form.useOfAssistance.$dirty">
                            <span ng-show="gsavm.form.useOfAssistance.$error.requiredLength">You must select at least one Use of Assistance.</span>
                        </div>
                        <label for="assistanceAdditionalInfo">Additional Information<span class="required" >*</span></label>
                        <textarea id="assistanceAdditionalInfo" name="assistanceAdditionalInfo" class="usa-grid-full" ng-model="gsavm.program.eligibility.applicant.additionalInfo.content" required>
                        </textarea>
                        <div ng-show="gsavm.validationFlag['General Information'] || gsavm.form.assistanceAdditionalInfo.$dirty">
                            <span ng-show="gsavm.form.assistanceAdditionalInfo.$error.required">You must provide additional information.</span>
                        </div>
                    </div>
                </section>
                <section field-finder-bookmark="082 Beneficiary Eligibility">
                    <h4>082 Beneficiary Eligibility</h4>
                    <div class="input-field">
                        <label for="beneficiaryEligibility">Beneficiary Eligibility<span class="required" >*</span></label>
                        <ui-select id="beneficiaryEligibility" name="beneficiaryEligibility" theme="select2" multiple ng-model="gsavm.program.eligibility.beneficiary.types"  style="width:800px;" required-Length='{ "min": 1 }'>
                            <ui-select-match placeholder="Search here">{{$item.displayValue}}</ui-select-match>
                            <ui-select-choices repeat="item.element_id as item in gsavm.choices['beneficiary_types'] track by item.element_id | filter:$select.search">
                               <div ng-bind-html="item.displayValue | highlight: $select.search"></div>
                            </ui-select-choices>
                        </ui-select>
                        <div ng-show="gsavm.form.$submit || gsavm.form.beneficiaryEligibility.$dirty">
                            <span ng-show="gsavm.form.beneficiaryEligibility.$error.requiredLength">You must select at least one Beneficiary Eligibility.</span>
                        </div>
                        <label for="beneficiaryAdditionalInfo">Additional Information<span class="required" >*</span></label>
                        <textarea id="beneficiaryAdditionalInfo" name="beneficiaryAdditionalInfo" class="usa-grid-full" ng-model="gsavm.program.eligibility.beneficiary.additionalInfo.content" required>
                        </textarea>
                        <div ng-show="gsavm.form.$submit || gsavm.form.beneficiaryAdditionalInfo.$dirty">
                            <span ng-show="gsavm.form.beneficiaryAdditionalInfo.$error.required">You must provide additional information.</span>
                        </div>
                    </div>
            </section>
            <section field-finder-bookmark="083 Credentials/Documentation">
                <h4>083 Credentials/Documentation</h4>
                <div class="input-field">
                    <fieldset class="usa-fieldset-inputs usa-sans">
                        <ul class="usa-unstyled-list">
                            <li>
                                <input name="credentialsOrDocumentation" id="credentialsOrDocumentation" ng-model="gsavm.program.eligibility.documentation.flag" type="checkbox" trigger-click-on-enter>
                                <label for="credentialsOrDocumentation">Are there credentials or documentation?<span class="required" >*</span></label>
                            </li>
                        </ul>

                    </fieldset>

                    <div ng-show="gsavm.program.eligibility.documentation.flag">
                        <label for="credentialsAdditionalInfo">Please explain:<span class="required" >*</span></label>
                        <textarea id="credentialsAdditionalInfo" class="usa-grid-full" name="credentialsAdditionalInfo" ng-model="gsavm.program.eligibility.documentation.content" ng-required="gsavm.program.eligibility.documentation.flag">
                        </textarea>
                        <div ng-show="gsavm.program.eligibility.documentation.flag && (gsavm.form.$submitted || gsavm.form.credentialsAdditionalInfo.$dirty)">
                            <span ng-show="gsavm.form.credentialsAdditionalInfo.$error.required">You must provide additional information.</span>
                        </div>

                        <fieldset class="usa-fieldset-inputs usa-sans">
                            <ul class="usa-unstyled-list">
                                <li>
                                    <input name="costPrincipalsAcceptable" id="costPrincipalsAcceptable" type="checkbox" ng-model="gsavm.program.eligibility.documentation.questions" trigger-click-on-enter>
                                    <label for="costPrincipalsAcceptable">Is 2 CFR 200, Subpart E - Cost Principles applicable?<span class="required" >*</span></label>
                                </li>
                            </ul>
                        </fieldset>
                    </div>
                </div>
                </section>
            <input type="submit" wz-next  value="Continue" />
        </wz-step>
        <wz-step canexit="gsavm.revealValidations" title="How to Apply">
            <div>
                <h2>{{ gsavm.isEdit ? 'Edit' : 'Create' }} Listing - Section 3: How to Apply</h2>
                <div class="input-field" field-finder-bookmark>
                    <h3>090 Application and Award Process</h3>
                </div>
                <div class="input-field">
                    <label for="preappCoord3">091 Preapplication Coordination</label>
                    <input type="checkbox" id="preappCoord3" ng-model="preappCoord3"
                           ng-checked="gsavm.program.preApplication.coordination.flag === gsavm.choices['yes_no'].yes.code"
                           ng-change="gsavm.program.preApplication.coordination.flag = preappCoord3 ? gsavm.choices['yes_no'].yes.code : gsavm.choices['yes_no'].no.code"
                           trigger-click-on-enter>
                    <label for="preappCoord3">Is any prior coordination or approval required with governmental or nongovernmental units
                        prior to the submission of a formal application to the Federal funding agency?</label>
                </div>
                <div class="input-field" style="padding-left:20px;" ng-show="gsavm.program.preApplication.coordination.flag === gsavm.choices['yes_no'].yes.code">
                    <p id="preappCoord3question1">Does this program require submission of environmental impact information?<span class="required" >*</span></p>
                    <table style="margin:0px">
                        <tr>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                &nbsp;&nbsp;
                            </td>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                <input type="radio" ng-model="gsavm.program.preApplication.coordination.environmentalImpact.flag" id="preappCoord3question1yes" value="yes"/>
                                <label for="preappCoord3question1yes">Yes</label>
                            </td>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                <input type="radio" ng-model="gsavm.program.preApplication.coordination.environmentalImpact.flag" id="preappCoord3question1no" value="no"/>
                                <label for="preappCoord3question1no">No</label>
                            </td>
                        </tr>
                    </table>
                    <div class="input-field" style="padding-left:20px;" ng-show="gsavm.program.preApplication.coordination.environmentalImpact.flag=='yes'">
                        <div ng-repeat="reportType in gsavm.types.reportTypes track by reportType">
                            <input type="checkbox" id="{{reportType + '-flag'}}"
                                   ng-model="reportFlag"
                                   ng-checked="gsavm.program.preApplication.coordination.environmentalImpact.reports[reportType].flag === gsavm.choices['yes_no'].yes.code"
                                   ng-change="gsavm.program.preApplication.coordination.environmentalImpact.reports[reportType].flag = reportFlag ? gsavm.choices['yes_no'].yes.code : gsavm.choices['yes_no'].no.code"
                                   trigger-click-on-enter>
                            <label for="{{reportType + '-flag'}}">An environmental impact <span type="text" ng-bind="reportType"></span> is required for this program.</label>
                        </div>
                    </div>
                    <p id="preappCoord3question2">Does Executive Order 12372, "Intergovernmental Review of Federal Programs", apply to this program?<span class="required" >*</span></p>
                    <table style="margin:0px">
                        <tr>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                &nbsp;&nbsp;
                            </td>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                <input type="radio" ng-model="gsavm.program.preApplication.coordination.questions.flag" id="preappCoord3question2yes" value="yes"/>
                                <label for="preappCoord3question2yes">Yes</label>
                            </td>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                <input type="radio" ng-model="gsavm.program.preApplication.coordination.questions.flag" id="preappCoord3question2no" value="no"/>
                                <label for="preappCoord3question2no">No</label>
                            </td>
                        </tr>
                    </table>
                    <div class="input-field" style="padding-left:20px;" ng-show="gsavm.program.preApplication.coordination.questions.flag=='yes'">
                        <label for="preappCoord3question2info">Additional Information:</label>
                        <textarea id="preappCoord3question2info" name="preappCoord3question2info" ng-model="gsavm.program.preApplication.coordination.additionalInfo" class="usa-grid-full" ng-required="gsavm.program.usage.restrictions.flag3"></textarea>
                        <div ng-show="gsavm.form.$submitted || gsavm.form.restrictions.$dirty">
                            <span ng-show="gsavm.form.restrictions.$error.required">You must provide restrictions.</span>
                        </div>
                    </div>
                </div>
                <div class="input-field">
                    <label for="applProc3">092 Application Procedures</label>
                    <input type="checkbox" id="applProc3" ng-model="gsavm.program.application.procedures.questions.flag" trigger-click-on-enter>
                    <label for="applProc3">Does 2 CFR 200, Uniform Administrative Requirements, Cost Principles, and Audit Requirements
                        for Federal Awards apply to this program?</label>
                </div>
                <div class="input-field">
                    <label for="applProc3other">Other Application Procedures:</label>
                    <textarea id="applProc3other" name="applProc3other" ng-model="gsavm.program.application.procedures.additionalInfo" class="usa-grid-full" ng-required="gsavm.program.application.procedures.questions.flag"></textarea>
                    <div ng-show="gsavm.form.$submitted || gsavm.form.discretionaryFund.$dirty">
                        <span ng-show="gsavm.form.discretionaryFund.$error.required">You must provide the discretionary funds.</span>
                    </div>
                </div>
                <div class="input-field" field-finder-bookmark>
                    <label for="awardProc3">093 Award Procedure<span class="required" >*</span></label>
                    <p>What are the basic procedural steps for awarding assistance?</p>
                    <textarea id="awardProc3" name="awardProc3" ng-model="gsavm.program.award.procedures.content" class="usa-grid-full" required></textarea>
                    <div ng-show="gsavm.form.$submitted || gsavm.form.objective.$dirty">
                        <span ng-show="gsavm.form.objective.$error.required">You must provide Objectives.</span>
                    </div>
                </div>
                <div class="input-field">
                    <label for="deadline3">094 Deadlines</label>
                    <p id="deadline3">Is a deadline for submission of application available? <span class="required" >*</span></p>
                    <table style="margin:0px">
                        <tr>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                &nbsp;&nbsp;
                            </td>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                <input type="radio" ng-model="gsavm.program.application.deadlines.submission.flag" id="yes3" value="yes"/>
                                <label for="yes3">Yes</label>
                            </td>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                <input type="radio" ng-model="gsavm.program.application.deadlines.submission.flag" id="no3" value="no"/>
                                <label for="no3">No</label>
                            </td>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                <input type="radio" ng-model="gsavm.program.application.deadlines.submission.flag" id="contactHQ3" value="contactHQ"/>
                                <label for="contactHQ3">Contact the headquarters or regional office, as appropriate for application deadlines</label>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="input-field" ng-show="gsavm.program.application.deadlines.submission.flag=='yes'">
                    <div ng-repeat="deadline in gsavm.program.application.deadlines.submission.deadlines" style="background-color:#F1FAE6;padding:4px;margin-bottom:8px;">
                    <table style="margin: 0px;">
                        <tr>
                            <td style="padding:4px;vertical-align:top;border:0px">Deadline Start Date:</td>
                            <td style="padding:4px;vertical-align:top;border:0px">Deadline End Date:</td>
                        </tr>
                        <tr>
                            <td style="padding:4px;vertical-align:top;border:0px">Enter the deadline start or fixed date</td>
                            <td style="padding:4px;vertical-align:top;border:0px">You may leave blank if the deadline is one fixed date</td>
                        </tr>
                        <tr>
                            <td style="padding:4px;vertical-align:top;border:0px">
                                <div class="col-md-6">
                                    <p class="input-group">
                                        <input type="date" class="form-control" uib-datepicker-popup is-open="status.opened"
                                               data-ng-model="deadline.start"
                                               min-date="minDate" max-date="maxDate" datepicker-options="dateOptions"
                                               date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                                        </span>
                                    </p>
                                </div>
                            </td>
                            <td style="padding:4px;vertical-align:top;border:0px">
                                <div class="col-md-6">
                                    <p class="input-group">
                                        <input type="date" class="form-control" uib-datepicker-popup is-open="status.opened"
                                               data-ng-model="deadline.end"
                                               min-date="minDate" max-date="maxDate" datepicker-options="dateOptions"
                                               date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                                        </span>
                                    </p>
                                </div>
                            </td>
                        </tr>
                    </table>
                    <br/>
                    Description:<br/>
                    Optionally provide a description for this deadline<br/>
                    <input type="text" id="deadlineDesc" name="deadlineDesc" ng-model="deadline.description">
                    <br/>
                    <button type="button" ng-click="gsavm.removeDeadline($index)">Delete</button>
                    </div>
                    <button type="button" ng-click="gsavm.addDeadline()">Add New Deadline</button>
                    <br/>
                    <label for="applProc3other">Other Deadline Procedures:</label>
                    <textarea id="deadlineAdditionalInfo" name="deadlineAdditionalInfo" ng-model="gsavm.program.application.deadlines.submission.additionalInfo" class="usa-grid-full" ng-required="gsavm.program.application.deadlines.submission.flag"></textarea>
                    <div ng-show="gsavm.form.$submitted || gsavm.form.discretionaryFund.$dirty">
                        <span ng-show="gsavm.form.discretionaryFund.$error.required">You must provide the discretionary funds.</span>
                    </div>
                </div>
                <div class="input-field" field-finder-bookmark>
                    <label for="approvalTime3">095 Range of Approval/Disapproval Time</label>
                    <select id="approvalTime3" name="approvalTime3" ng-model="gsavm.program.application.deadlines.approval.interval" required>
                        <option value='' disabled style="display:none">Please select a time period</option>
                        <option value='1to15'>From 1 to 15 days</option>
                        <option value='15to30'>From 15 to 30 days</option>
                        <option value='30to60'>From 30 to 60 days</option>
                        <option value='60to90'>From 60 to 90 days</option>
                        <option value='90to120'>From 90 to 120 days</option>
                        <option value='120to180'>From 120 to 180 days</option>
                        <option value='180more'>More than 180 days</option>
                        <option value='na'>Not Applicable</option>
                        <option value='other'>Other</option>
                    </select>
                    <div ng-show="gsavm.form.$submitted || gsavm.form.office.$dirty">
                        <span ng-show="gsavm.form.office.$error.required">You must select an office.</span>
                    </div>
                </div>
                <div class="input-field">
                    <label for="approvalTime3other">Other Approval Information:</label>
                    <textarea id="approvalTime3other" name="approvalTime3other" ng-model="gsavm.program.application.deadlines.approval.otherInfo.content" class="usa-grid-full" ng-required="gsavm.program.application.deadlines.approval.otherInfo.content"></textarea>
                    <div ng-show="gsavm.form.$submitted || gsavm.form.restrictions.$dirty">
                        <span ng-show="gsavm.form.restrictions.$error.required">You must provide restrictions.</span>
                    </div>
                </div>
                <div class="input-field" field-finder-bookmark>
                    <label for="appeals3">096 Appeals</label>
                    <select id="appeals3" name="appeals3" ng-model="gsavm.program.application.deadlines.appeal.interval" required>
                        <option value='' disabled style="display:none">Please select a time period</option>
                        <option value='1to15'>From 1 to 15 days</option>
                        <option value='15to30'>From 15 to 30 days</option>
                        <option value='30to60'>From 30 to 60 days</option>
                        <option value='60to90'>From 60 to 90 days</option>
                        <option value='90to120'>From 90 to 120 days</option>
                        <option value='120to180'>From 120 to 180 days</option>
                        <option value='180more'>More than 180 days</option>
                        <option value='na'>Not Applicable</option>
                        <option value='other'>Other</option>
                    </select>
                    <div ng-show="gsavm.form.$submitted || gsavm.form.office.$dirty">
                        <span ng-show="gsavm.form.office.$error.required">You must select an office.</span>
                    </div>
                </div>
                <div class="input-field">
                    <label for="appealsTime3other">Other Appeals Information:</label>
                    <textarea id="appealsTime3other" name="appealsTime3other" ng-model="gsavm.program.application.deadlines.appeal.otherInfo.content" class="usa-grid-full" ng-required="gsavm.program.application.deadlines.appeal.otherInfo.content"></textarea>
                    <div ng-show="gsavm.form.$submitted || gsavm.form.restrictions.$dirty">
                        <span ng-show="gsavm.form.restrictions.$error.required">You must provide restrictions.</span>
                    </div>
                </div>
                <div class="input-field" field-finder-bookmark>
                    <label for="renewals3">097 Renewals</label>
                    <select id="renewals3" name="renewals3" ng-model="gsavm.program.application.deadlines.renewal.interval" required>
                        <option value='' disabled style="display:none">Please select a time period</option>
                        <option value='1to15'>From 1 to 15 days</option>
                        <option value='15to30'>From 15 to 30 days</option>
                        <option value='30to60'>From 30 to 60 days</option>
                        <option value='60to90'>From 60 to 90 days</option>
                        <option value='90to120'>From 90 to 120 days</option>
                        <option value='120to180'>From 120 to 180 days</option>
                        <option value='180more'>More than 180 days</option>
                        <option value='na'>Not Applicable</option>
                        <option value='other'>Other</option>
                    </select>
                    <div ng-show="gsavm.form.$submitted || gsavm.form.office.$dirty">
                        <span ng-show="gsavm.form.office.$error.required">You must select an office.</span>
                    </div>
                </div>
                <div class="input-field">
                    <label for="renewalTime3other">Other Renewals Information:</label>
                    <textarea id="renewalTime3other" name="renewalTime3other" ng-model="gsavm.program.application.deadlines.renewal.otherInfo.content" class="usa-grid-full" ng-required="gsavm.program.application.deadlines.renewal.otherInfo.content"></textarea>
                    <div ng-show="gsavm.form.$submitted || gsavm.form.restrictions.$dirty">
                        <span ng-show="gsavm.form.restrictions.$error.required">You must provide restrictions.</span>
                    </div>
                </div>
                <div class="input-field" field-finder-bookmark>
                    <h3>100 Assistance Consideration</h3>
                </div>
                <div class="input-field">
                    <label for="statuatoryFormula3">101 Formula and Matching Requirements</label>
                    <p id="statuatoryFormula3">Does this program have a statutory formula and/or administrative rule reference in the CFR? <span class="required" >*</span></p>
                    <table style="margin:0px">
                        <tr>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                &nbsp;&nbsp;
                            </td>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                <input type="radio" ng-model="gsavm.program.assistance.formula.flag" id="statuatoryFormula3yes" value="yes"/>
                                <label for="statuatoryFormula3yes">Yes</label>
                            </td>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                <input type="radio" ng-model="gsavm.program.assistance.formula.flag" id="statuatoryFormula3no" value="no"/>
                                <label for="statuatoryFormula3no">No</label>
                            </td>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                <input type="radio" ng-model="gsavm.program.assistance.formula.flag" id="statuatoryFormula3NA" value="na"/>
                                <label for="statuatoryFormula3NA">Not Applicable</label>
                            </td>
                        </tr>
                    </table>
                    <div class="input-field" ng-show="gsavm.program.assistance.formula.flag=='yes'">
                        <table style="margin:0px">
                            <tr>
                                <td style="padding:0px;vertical-align:top;border:0px"><label for="formulaTitle3">Title:</label></td>
                                <td style="padding:0px;vertical-align:top;border:0px"><input type="text" id="formulaTitle3" name="formulaTitle3" ng-model="gsavm.program.assistance.formula.title"></td>
                            </tr>
                            <tr>
                                <td style="padding:0px;vertical-align:top;border:0px"><label for="formulaChapter3">Chapter:</label></td>
                                <td style="padding:0px;vertical-align:top;border:0px"><input type="text" id="formulaChapter3" name="formulaChapter3" ng-model="gsavm.program.assistance.formula.chapter"></td>
                            </tr>
                            <tr>
                                <td style="padding:0px;vertical-align:top;border:0px"><label for="formulaPart3">Part:</label></td>
                                <td style="padding:0px;vertical-align:top;border:0px"><input type="text" id="formulaPart3" name="formulaPart3" ng-model="gsavm.program.assistance.formula.part"></td>
                            </tr>
                            <tr>
                                <td style="padding:0px;vertical-align:top;border:0px"><label for="formulaSubpart3">Subpart:</label></td>
                                <td style="padding:0px;vertical-align:top;border:0px"><input type="text" id="formulaSubpart3" name="formulaSubpart3" ng-model="gsavm.program.assistance.formula.subPart"></td>
                            </tr>
                            <tr>
                                <td style="padding:0px;vertical-align:top;border:0px"><label for="formulaPublicLaw3">Public Law:</label></td>
                                <td style="padding:0px;vertical-align:top;border:0px"><input type="text" id="formulaPublicLaw3" name="formulaPublicLaw3" ng-model="gsavm.program.assistance.formula.publicLaw"></td>
                            </tr>
                            <tr>
                                <td style="padding:0px;vertical-align:top;border:0px"><label for="formulaInfo3">Additional Info:</label></td>
                                <td style="padding:0px;vertical-align:top;border:0px"><textarea id="formulaInfo3" name="formulaInfo3" ng-model="gsavm.program.assistance.formula.additionalInfo" class="usa-grid-full"></textarea>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <p id="matchingRequirements3">Does this program have matching requirements? <span class="required" >*</span></p>
                    <table style="margin:0px">
                        <tr>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                &nbsp;&nbsp;
                            </td>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                <input type="radio" ng-model="gsavm.program.assistance.matching.flag" id="matchingRequirements3yes" value="yes"/>
                                <label for="matchingRequirements3yes">Yes</label>
                            </td>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                <input type="radio" ng-model="gsavm.program.assistance.matching.flag" id="matchingRequirements3no" value="no"/>
                                <label for="matchingRequirements3no">No</label>
                            </td>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                <input type="radio" ng-model="gsavm.program.assistance.matching.flag" id="matchingRequirements3NA" value="na"/>
                                <label for="matchingRequirements3NA">Not Applicable</label>
                            </td>
                        </tr>
                    </table>
                    <div class="input-field" ng-show="gsavm.program.assistance.matching.flag=='yes'">
                        <label for="matchingPercent3">Select the Percentage Below:</label>
                        <select id="matchingPercent3" name="matchingPercent3" ng-model="gsavm.program.assistance.matching.percent">
                            <option value='' disabled style="display:none">Please select a percentage</option>
                            <option value='other'>Other</option>
                            <option value='5'>5</option>
                            <option value='10'>10</option>
                            <option value='15'>15</option>
                            <option value='20'>20</option>
                            <option value='25'>25</option>
                            <option value='30'>30</option>
                            <option value='35'>35</option>
                            <option value='40'>40</option>
                            <option value='45'>45</option>
                            <option value='50'>50</option>
                            <option value='55'>55</option>
                            <option value='60'>60</option>
                            <option value='65'>65</option>
                            <option value='70'>70</option>
                            <option value='75'>75</option>
                            <option value='80'>80</option>
                            <option value='85'>85</option>
                            <option value='90'>90</option>
                            <option value='95'>95</option>
                            <option value='100'>100</option>
                        </select>
                        <div class="input-field">
                            <label for="matchingOtherInfo3">Other Matching Requirements Information:</label>
                            <textarea id="matchingOtherInfo3" name="renewalTime3other" ng-model="gsavm.program.assistance.matching.otherInfo" class="usa-grid-full" ng-required="gsavm.program.assistance.matching.otherInfo"></textarea>
                            <div ng-show="gsavm.form.$submitted || gsavm.form.restrictions.$dirty">
                                <span ng-show="gsavm.form.restrictions.$error.required">You must provide restrictions.</span>
                            </div>
                        </div>
                    </div>
                    <p id="MOErequirements3">Does this program have MOE requirements AND total allocations over $100 million (current FY)? <span class="required" >*</span></p>
                    <table style="margin:0px">
                        <tr>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                &nbsp;&nbsp;
                            </td>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                <input type="radio" ng-model="gsavm.program.assistance.moe.flag" id="MOErequirements3yes" value="yes"/>
                                <label for="MOErequirements3yes">Yes</label>
                            </td>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                <input type="radio" ng-model="gsavm.program.assistance.moe.flag" id="MOErequirements3no" value="no"/>
                                <label for="MOErequirements3no">No</label>
                            </td>
                            <td style="padding:0px;vertical-align:top;border:0px">
                                <input type="radio" ng-model="gsavm.program.assistance.moe.flag" id="MOErequirements3NA" value="na"/>
                                <label for="MOErequirements3NA">Not Applicable</label>
                            </td>
                        </tr>
                    </table>
                    <div class="input-field" ng-show="gsavm.program.assistance.moe.flag=='yes'">
                        <div class="input-field">
                            <label for="MOEAddInfo3">Please enter any additional information below:</label>
                            <textarea id="MOEAddInfo3" name="renewalTime3other" ng-model="gsavm.program.assistance.moe.additionalInfo" class="usa-grid-full" ng-required="gsavm.program.assistance.moe.additionalInfo"></textarea>
                            <div ng-show="gsavm.form.$submitted || gsavm.form.restrictions.$dirty">
                                <span ng-show="gsavm.form.restrictions.$error.required">You must provide restrictions.</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="input-field" field-finder-bookmark>
                    <label for="assistLimit3">102 Length and Time Phasing of Assistance<span class="required" >*</span></label>
                    <p>What period of time is the assistance normally available? Is there a restriction placed on the time permitted to spend the money awarded?</p>
                    <textarea id="assistLimit3" name="assistLimit3" ng-model="gsavm.program.assistance.limitation.content" class="usa-grid-full" required></textarea>
                    <div ng-show="gsavm.form.$submitted || gsavm.form.objective.$dirty">
                        <span ng-show="gsavm.form.objective.$error.required">You must provide Objectives.</span>
                    </div>
                </div>
            </div>
            <input type="submit" wz-next  value="Continue" />
        </wz-step>
        <wz-step canexit="gsavm.revealValidations" title="Post Award Requirements">
            <h2>{{ gsavm.isEdit ? 'Edit' : 'Create' }} Program - Section 4: Post Award Requirements</h2>
            <h3>110 Post Assistance Requirements</h3>
            <section field-finder-bookmark="111 Reports">
                <h4>111 Reports</h4>
                <div class="input-field">
                    <fieldset class="usa-fieldset-inputs usa-sans">
                        <label for="reports">Are reports required by the funding agency?<span class="required" >*</span></label>

                        <ul class="usa-unstyled-list">
                            <li>
                                <input name="reports" ng-model="gsavm.program.postAward.reports.flag" id="reports-yes" type="radio" value="yes" required>
                                <label for="reports-yes">Yes</label>
                            </li>
                            <li>
                                <input name="reports" ng-model="gsavm.program.postAward.reports.flag" id="reports-no" type="radio" value="no" required>
                                <label for="reports-no">No</label>
                            </li>
                            <li>
                                <input name="reports" ng-model="gsavm.program.postAward.reports.flag" id="reports-na" type="radio" value="na" required>
                                <label for="reports-na">Not Applicable</label>
                            </li>
                        </ul>
                        <div ng-show="gsavm.form.$submitted || gsavm.form.reports.$dirty">
                            <span ng-show="gsavm.form.reports.$error.required">You must provide an answer.</span>
                        </div>
                    </fieldset>
                </div>
                <div ng-show='gsavm.program.postAward.reports.flag === "yes"'>
                    <div class="input-field" >
                        <fieldset class="usa-fieldset-inputs usa-sans">
                            <label for="programReports">Are program reports required?<span class="required" >*</span></label>

                            <ul class="usa-unstyled-list">
                                <li>
                                    <input name="programReports" ng-model="gsavm.program.postAward.reports.list.program.flag" id="programReports-yes" type="radio" value="yes" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                                    <label for="programReports-yes">Yes</label>
                                </li>
                                <li>
                                    <input name="programReports" ng-model="gsavm.program.postAward.reports.list.program.flag" id="programReports-no" type="radio" value="no" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                                    <label for="programReports-no">No</label>
                                </li>
                                <li>
                                    <input name="programReports" ng-model="gsavm.program.postAward.reports.list.program.flag" id="programReports-na" type="radio" value="na" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                                    <label for="programReports-na">Not Applicable</label>
                                </li>
                            </ul>
                            <div ng-show='gsavm.program.postAward.reports.flag === "yes" && (gsavm.form.$submitted || gsavm.form.programReports.$dirty)'>
                                <span ng-show="gsavm.form.programReports.$error.required">You must provide an answer.</span>
                            </div>
                        </fieldset>
                        <div ng-show="gsavm.program.postAward.reports.list.program.flag === 'yes'">
                            <label for="programReportsInfo">Please describe the program reports required.<span class="required" >*</span></label>
                            <textarea id="programReportsInfo" name="programReportsInfo" ng-model="gsavm.program.postAward.reports.list.program.content" class="usa-grid-full" ng-required="gsavm.program.postAward.reports.flag === 'yes' && gsavm.program.postAward.reports.list.program.flag==='yes'"></textarea>
                            <div ng-show="gsavm.program.postAward.reports.list.program.flag==='yes' && (gsavm.form.$submitted || gsavm.form.programReportsInfo.$dirty)">
                                <span ng-show="gsavm.form.programReportsInfo.$error.required">You must provide an answer.</span>
                            </div>
                        </div>
                    </div>
                    <div class="input-field"  >
                        <fieldset class="usa-fieldset-inputs usa-sans">
                            <label for="cashReports">Are cash reports required?<span class="required" >*</span></label>

                            <ul class="usa-unstyled-list">
                                <li>
                                    <input name="cashReports" ng-model="gsavm.program.postAward.reports.list.cash.flag" id="cashReports-yes" type="radio" value="yes" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                                    <label for="cashReports-yes">Yes</label>
                                </li>
                                <li>
                                    <input name="cashReports" ng-model="gsavm.program.postAward.reports.list.cash.flag" id="cashReports-no" type="radio" value="no" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                                    <label for="cashReports-no">No</label>
                                </li>
                                <li>
                                    <input name="cashReports" ng-model="gsavm.program.postAward.reports.list.cash.flag" id="cashReports-na" type="radio" value="na" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                                    <label for="cashReports-na">Not Applicable</label>
                                </li>
                            </ul>
                            <div ng-show='gsavm.program.postAward.reports.flag === "yes" && (gsavm.form.$submitted || gsavm.form.cashReports.$dirty)'>
                                <span ng-show="gsavm.form.cashReports.$error.required">You must provide an answer.</span>
                            </div>
                        </fieldset>
                        <div ng-show="gsavm.program.postAward.reports.list.cash.flag === 'yes'">
                            <label for="cashReportsInfo">Please describe the cash reports required.<span class="required" >*</span></label>
                            <textarea id="cashReportsInfo" name="cashReportsInfo" ng-model="gsavm.program.postAward.reports.list.cash.content"  class="usa-grid-full" ng-required="gsavm.program.postAward.reports.flag === 'yes' && gsavm.program.postAward.reports.list.cash.flag==='yes'"></textarea>
                            <div ng-show="gsavm.program.postAward.reports.list.cash.flag==='yes' && (gsavm.form.$submitted || gsavm.form.cashReportsInfo.$dirty)">
                                <span ng-show="gsavm.form.cashReportsInfo.$error.required">You must provide an answer.</span>
                            </div>
                        </div>
                    </div >
                    <div class="input-field"  >
                        <fieldset class="usa-fieldset-inputs usa-sans">
                            <label for="progressReports">Are progress reports required?<span class="required" >*</span></label>

                            <ul class="usa-unstyled-list">
                                <li>
                                    <input name="progressReports" ng-model="gsavm.program.postAward.reports.list.progress.flag" id="progressReports-yes" type="radio" value="yes" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                                    <label for="progressReports-yes">Yes</label>
                                </li>
                                <li>
                                    <input name="progressReports" ng-model="gsavm.program.postAward.reports.list.progress.flag" id="progressReports-no" type="radio" value="no" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                                    <label for="progressReports-no">No</label>
                                </li>
                                <li>
                                    <input name="progressReports" ng-model="gsavm.program.postAward.reports.list.progress.flag" id="progressReports-na" type="radio" value="na" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                                    <label for="progressReports-na">Not Applicable</label>
                                </li>
                            </ul>
                            <div ng-show='gsavm.program.postAward.reports.flag === "yes" && (gsavm.form.$submitted || gsavm.form.progressReports.$dirty)'>
                                <span ng-show="gsavm.form.progressReports.$error.required">You must provide an answer.</span>
                            </div>
                        </fieldset>
                        <div ng-show="gsavm.program.postAward.reports.list.progress.flag === 'yes'">
                            <label for="progressReportsInfo">Please describe the progress reports required.<span class="required" >*</span></label>
                            <textarea id="progressReportsInfo" name="progressReportsInfo" ng-model="gsavm.program.postAward.reports.list.progress.content" class="usa-grid-full" ng-required="gsavm.program.postAward.reports.flag === 'yes' && gsavm.program.postAward.reports.list.progress.flag==='yes'"></textarea>
                            <div ng-show="gsavm.program.postAward.reports.list.progress.flag==='yes' && (gsavm.form.$submitted || gsavm.form.progressReportsInfo.$dirty)">
                                <span ng-show="gsavm.form.progressReportsInfo.$error.required">You must provide an answer.</span>
                            </div>
                        </div>
                    </div >
                    <div class="input-field"  >
                        <fieldset class="usa-fieldset-inputs usa-sans">
                            <label for="expenditureReports">Are expenditure reports required?<span class="required" >*</span></label>

                            <ul class="usa-unstyled-list">
                                <li>
                                    <input name="expenditureReports" ng-model="gsavm.program.postAward.reports.list.expenditure.flag" id="expenditureReports-yes" type="radio" value="yes" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                                    <label for="expenditureReports-yes">Yes</label>
                                </li>
                                <li>
                                    <input name="expenditureReports" ng-model="gsavm.program.postAward.reports.list.expenditure.flag" id="expenditureReports-no" type="radio" value="no" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                                    <label for="expenditureReports-no">No</label>
                                </li>
                                <li>
                                    <input name="expenditureReports" ng-model="gsavm.program.postAward.reports.list.expenditure.flag" id="expenditureReports-na" type="radio" value="na" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                                    <label for="expenditureReports-na">Not Applicable</label>
                                </li>
                            </ul>
                            <div ng-show='gsavm.program.postAward.reports.flag === "yes" && (gsavm.form.$submitted || gsavm.form.expenditureReports.$dirty)'>
                                <span ng-show="gsavm.form.expenditureReports.$error.required">You must provide an answer.</span>
                            </div>
                        </fieldset>
                        <div ng-show="gsavm.program.postAward.reports.list.expenditure.flag === 'yes'">
                            <label for="expenditureReportsInfo">Please describe the expenditure reports required.<span class="required" >*</span></label>
                            <textarea id="expenditureReportsInfo" name="expenditureReportsInfo" class="usa-grid-full" ng-model="gsavm.program.postAward.reports.list.expenditure.content" ng-required="gsavm.program.postAward.reports.flag === 'yes' && gsavm.program.postAward.reports.list.expenditure.flag==='yes'"></textarea>
                            <div ng-show="gsavm.program.postAward.reports.list.expenditure.flag==='yes' && (gsavm.form.$submitted || gsavm.form.expenditureReportsInfo.$dirty)">
                                <span ng-show="gsavm.form.expenditureReportsInfo.$error.required">You must provide an answer.</span>
                            </div>
                        </div>
                    </div >
                    <div class="input-field"  >
                        <fieldset class="usa-fieldset-inputs usa-sans">
                            <label for="performanceMonitoring">Is performance monitoring required?<span class="required" >*</span></label>

                            <ul class="usa-unstyled-list">
                                <li>
                                    <input name="performanceMonitoring" ng-model="gsavm.program.postAward.reports.list.performanceMonitoring.flag" id="performanceMonitoring-yes" type="radio" value="yes" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                                    <label for="performanceMonitoring-yes">Yes</label>
                                </li>
                                <li>
                                    <input name="performanceMonitoring" ng-model="gsavm.program.postAward.reports.list.performanceMonitoring.flag" id="performanceMonitoring-no" type="radio" value="no" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                                    <label for="performanceMonitoring-no">No</label>
                                </li>
                                <li>
                                    <input name="performanceMonitoring" ng-model="gsavm.program.postAward.reports.list.performanceMonitoring.flag" id="performanceMonitoring-na" type="radio" value="na" ng-required="gsavm.program.postAward.reports.flag === 'yes'">
                                    <label for="performanceMonitoring-na">Not Applicable</label>
                                </li>
                            </ul>
                            <div ng-show='gsavm.program.postAward.reports.flag === "yes" && (gsavm.form.$submitted || gsavm.form.performanceMonitoring.$dirty)'>
                                <span ng-show="gsavm.form.performanceMonitoring.$error.required">You must provide an answer.</span>
                            </div>
                        </fieldset>
                        <div ng-show="gsavm.program.postAward.reports.list.performanceMonitoring.flag === 'yes'">
                            <label for="performanceMonitoringInfo">Please describe the performance monitoring required.<span class="required" >*</span></label>
                            <textarea id="performanceMonitoringInfo" name="performanceMonitoringInfo" class="usa-grid-full" ng-model="gsavm.program.postAward.reports.list.performanceMonitoring.content" ng-required="gsavm.program.postAward.reports.flag === 'yes' && gsavm.program.postAward.reports.list.performanceMonitoring.flag==='yes'"></textarea>
                            <div ng-show="gsavm.program.postAward.reports.list.performanceMonitoring.flag==='yes' && (gsavm.form.$submitted || gsavm.form.performanceMonitoringInfo.$dirty)">
                                <span ng-show="gsavm.form.performanceMonitoringInfo.$error.required">You must provide an answer.</span>
                            </div>
                        </div>
                    </div >
                </div>
            </section>

            <section field-finder-bookmark="112 Audits">
                <h4>112 Audits</h4>
            <div class="input-field">
                <fieldset class="usa-fieldset-inputs usa-sans">
                    <label for="audits">Are audits required for the program?<span class="required" >*</span></label>

                    <ul class="usa-unstyled-list">
                        <li>
                            <input name="audits" ng-model="gsavm.program.postAward.audit.flag" id="audits-yes" type="radio" value="yes" required>
                            <label for="audits-yes">Yes</label>
                            </li>
                            <li>
                                <input name="audits" ng-model="gsavm.program.postAward.audit.flag" id="audits-no" type="radio" value="no" required>
                                <label for="audits-no">No</label>
                            </li>
                            <li>
                                <input name="audits" ng-model="gsavm.program.postAward.audit.flag" id="audits-na" type="radio" value="na" required>
                                <label for="audits-na">Not Applicable</label>
                            </li>
                        </ul>

                    </fieldset>
                    <div ng-show='gsavm.form.$submitted || gsavm.form.audits.$dirty'>
                        <span ng-show="gsavm.form.audits.$error.required">You must provide an answer.</span>
                    </div>
                    <div ng-show='gsavm.program.postAward.audit.flag === "yes"'>
                        <label for="auditRequirements">Does 2 CFR 200, Subpart F - Audit Requirements apply to this program?<span class="required" >*</span></label>
                        <fieldset class="usa-fieldset-inputs usa-sans">
                            <ul class="usa-unstyled-list">
                                <li>
                                    <input name="auditRequirements" ng-model="gsavm.program.postAward.audit.question.flag" id="auditRequirements-yes" type="radio" value="yes" required>
                                    <label for="auditRequirements-yes">Yes</label>
                                </li>
                                <li>
                                    <input name="auditRequirements" ng-model="gsavm.program.postAward.audit.question.flag" id="auditRequirements-no" type="radio" value="no" required>
                                    <label for="auditRequirements-no">No</label>
                                </li>
                            </ul>
                        </fieldset>
                        <label for="auditRequirementsInfo">What audit procedures have been mandated for the program?<span class="required" ng-show="gsavm.program.postAward.audit.flag ==='yes' && gsavm.program.postAward.audit.question.flag === 'no'" >*</span></label>
                        <textarea id="auditRequirementsInfo" name="auditRequirementsInfo" class="usa-grid-full" ng-model="gsavm.program.postAward.audit.content" class="usa-grid-full" ng-required="gsavm.program.postAward.audit.flag ==='yes'&& gsavm.program.postAward.audit.question.flag === 'no'"></textarea>
                        <div ng-show="gsavm.program.postAward.audit.flag ==='yes' && gsavm.program.postAward.audit.question.flag === 'no' && (gsavm.form.$submitted || gsavm.form.auditRequirementsInfo.$dirty)">
                            <span ng-show="gsavm.form.auditRequirementsInfo.$error.required">You must describe audit procedures.</span>
                        </div>

                    </div>

                </div>
            </section>
            <section field-finder-bookmark="113 Records">
                <h4>113 Records</h4>
                <div class="input-field">
                    <label class="usa-grid-full" for="recordContent">Describe what records the Federal agency requires the recipient to maintain and the time periods.</label>
                    <textarea id="recordContent" name="records" class="usa-grid-full" ng-model="gsavm.program.postAward.records.content"></textarea>
                </div>
            </section>
            <section field-finder-bookmark ="140 Regulations, Guidelines, and Literature">
                <h4>140 Regulations, Guidelines, and Literature</h4>
                <div class="input-field">
                    <fieldset class="usa-fieldset-inputs usa-sans">
                        <label for="documents">Are there any regulations, guidelines or literature?<span class="required" >*</span></label>

                        <ul class="usa-unstyled-list">
                            <li>
                                <input name="documents" ng-model="gsavm.program.postAward.documents.flag" id="documents-yes" type="radio" value="yes" required>
                                <label for="documents-yes">Yes</label>
                            </li>
                            <li>
                                <input name="documents" ng-model="gsavm.program.postAward.documents.flag" id="documents-na" type="radio" value="na" required>
                                <label for="documents-na">Not Applicable</label>
                            </li>
                        </ul>

                    </fieldset>

                    <div ng-show='gsavm.program.postAward.documents.flag === "yes"'>
                        <label for="documentsAdditionalInfo">Please describe regulations, guidelines, and literature.<span class="required" >*</span></label>
                        <textarea id="documentsAdditionalInfo" name="documentsAdditionalInfo" class="usa-grid-full" ng-model="gsavm.program.postAward.documents.content" ng-required="gsavm.program.postAward.documents.flag==='yes'"></textarea>
                        <div ng-show="gsavm.program.postAward.documents.flag ==='yes' && (gsavm.form.$submitted || gsavm.form.documentsAdditionalInfo.$dirty)">
                            <span ng-show="gsavm.form.documentsAdditionalInfo.$error.required">You must provide an answer.</span>
                        </div>
                    </div>
                </div>
            </section>
            <input type="submit" wz-next  value="Continue" />
        </wz-step>
        <wz-step canexit="gsavm.revealValidations" title="Financial Information and Accomplishments">
            <h2>{{ gsavm.isEdit ? 'Edit' : 'Create' }} Program - Section 5: Financial Information and Accomplishments</h2>
            <section field-finder-bookmark="">
                <div class="input-field">
                    <h3>121 Account Identification</h3>
                    <!--<p>Agency aupplied 11-digit budget accound codes</p>-->
                    <div ng-repeat="accountcode in gsavm.program.accountcodes track by id">
                        <div ng-form ng-init="formPath='accountcode'+$index;idPath=formPath;parentAuth=accountcode" name="gsavm.form.{{formPath}}" class="sub-form">
                            <div class="input-field">
                                <!-- Code Field -->
                            </div>
                            <div class="input-field">
                                <label for="{{ 'ac-description-' + idPath }}">Description</label>
                                <!--<p>Optionally add a description for this account number</p>-->
                                <textarea id="{{ 'ac-description-' + idPath }}" name="description" ng-model="accountcode.description" required></textarea>
                            </div>
                            <button type="button" ng-click="gsavm.removeAccountCode($index)">Delete</button>
                        </div>
                    </div>
                    <button type="button" ng-click="gsavm.addAccountCode()">Add</button>
                </div>
            </section>
            <section field-finder-bookmark>
                <div class="input-field">
                    <label for="rangeAvgFinancialAsisstance">123 Range and Average of Financial Assistance</label>
                    <textarea id="rangeAvgFinancialAsisstance" name="rangeAvgFinancialAsisstance" ng-model="vm.program.rangeAvgFinancialAsisstance"></textarea>
                </div>
            </section>
            <section field-finder-bookmark>
                <div class="input-field">
                    <h3>124 TAFS Codes - Unique Treasury Appropriation Fund Symbols<span class="required" >*</span></h3>
                    <div ng-repeat="tafscode in gsavm.program.tafscodes track by id" ng-model="gsavm.program.tafscodes" name="tafscodes" required-Length='{ "min": 1 }'>
                        <div ng-form ng-init="formPath='tafscode'+$index;idPath=formPath" name="gsavm.form.{{formPath}}" class="sub-form">
                            <div class="input-field">
                                <label for="{{ 'dept-code-' + idPath }}">Treasury Dept Code</label>
                                <input type="text" id="{{ 'dept-code-' + idPath }}" name="deptCode" ng-model="tafscode.deptCode" >
                                <div ng-show="gsavm.form.$submitted || gsavm.form.{{formPath}}.deptCode.$dirty">
                                    <span ng-show="gsavm.form.{{formPath}}.deptCode.$error.required">The Treasury Dept Code must be filled.</span>
                                </div>
                            </div>
                            <div class="input-field">
                                <label for="{{ 'allocation-transfer-agency-' + idPath }}">Allocation Transfer Agency</label>
                                <input type="text" id="{{ 'allocation-transfer-agency-' + idPath }}" name="allocationTransferAgency" ng-model="tafscode.allocationTransferAgency" >
                                <div ng-show="gsavm.form.$submitted || gsavm.form.{{formPath}}.allocationTransferAgency.$dirty">
                                    <span ng-show="gsavm.form.{{formPath}}.allocationTransferAgency.$error.required">The Allocation Transfer Agency must be filled.</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div ng-show="gsavm.form.tafscodes.$dirty">
                        <span ng-show="gsavm.form.tafscodes.$error.requiredLength">You must provide at least one TAFS Code.</span>
                    </div>
                    <button type="button" ng-click="gsavm.addTAFSCode()">Add</button>
                </div>
            </section>
            <input type="submit" wz-next value="Continue" />
        </wz-step>
        <wz-step canexit="gsavm.revealValidations" title="Contact Information">
            <div>Placeholder</div>
            <input type="submit" wz-next  value="Continue" />
        </wz-step>
        <wz-step canexit="gsavm.revealValidations" title="Review">
            <div>Placeholder</div>
            <input type="submit" value="Submit" />
        </wz-step>
    </wizard>
    <button type="button" ng-click="gsavm.save()">Save</button>
    <field-finder-searchbox></field-finder-searchbox>
</form>
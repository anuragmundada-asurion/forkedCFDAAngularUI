'use strict';

describe("Unit Tests for Dictionary Service", function () {
    var $httpBackend, dictionarySvc;
    beforeEach(function() {
        module('app');

        var env = {'pub.api.programs': '', 'setApi': function(){}};
        module(function($provide) {
            $provide.value('env', env);
        });

        inject(function(_$httpBackend_, _Dictionary_){
            $httpBackend = _$httpBackend_;
            dictionarySvc = _Dictionary_;
        });
    });

    beforeEach(function() {
        $httpBackend
            .whenGET('/environment/api')
            .respond('');
        $httpBackend.flush();
    });

    describe("Testing for Dictionary retrieval", function() {
        it('should make a get call to retrieve a single special dictionary', function() {
            $httpBackend
                .whenGET('http://gsaiae-cfda-program-uat01.reisys.com/dictionaries/yes_na')
                .respond('[{"id":"yes_na","elements":[{"element_id":"yes","description":null,"value":"Yes","code":"yes","elements":null},{"element_id":"na","description":"Not Applicable","value":"Not Applicable","code":"na","elements":null}]}]');
            var dictionary = dictionarySvc.toDropdown({ id: 'yes_na' });
            $httpBackend.flush();
            expect(dictionary).toBeDefined();
        });

        it('should make a get call to retrieve a multiple special dictionary', function() {
            $httpBackend
                .whenGET('http://gsaiae-cfda-program-uat01.reisys.com/dictionaries/yes_na,yes_no,yes_no_na,authorization_type')
                .respond('[{"id":"yes_na","elements":[{"element_id":"yes","description":null,"value":"Yes","code":"yes","elements":null},{"element_id":"na","description":"Not Applicable","value":"Not Applicable","code":"na","elements":null}]},{"id":"yes_no","elements":[{"element_id":"yes","description":"Yes","value":"Yes","code":"yes","elements":null},{"element_id":"no","description":"No","value":"No","code":"no","elements":null}]},{"id":"yes_no_na","elements":[{"element_id":"yes","description":"Yes","value":"Yes","code":"yes","elements":null},{"element_id":"no","description":"No","value":"No","code":"no","elements":null},{"element_id":"na","description":"Not Applicable","value":"Not Applicable","code":"na","elements":null}]},{"id":"authorization_type","elements":[{"element_id":"act","description":null,"value":"Act","code":"act","elements":null},{"element_id":"eo","description":null,"value":"Executive Order","code":"eo","elements":null},{"element_id":"publiclaw","description":null,"value":"Public Law","code":"publiclaw","elements":null},{"element_id":"statute","description":null,"value":"Statute","code":"statute","elements":null},{"element_id":"usc","description":null,"value":"USC","code":"usc","elements":null}]}]');
            var dictionaries = dictionarySvc.toDropdown({ id: ['yes_na', 'yes_no', 'yes_no_na', 'authorization_type'].join(',') });
            $httpBackend.flush();
            expect(dictionaries).toBeDefined();
            expect(dictionaries['yes_na']).toBeDefined();
            expect(dictionaries['yes_no']).toBeDefined();
        });

        it('should make a get call to retrieve a multiple regular dictionary', function() {
            $httpBackend
                .whenGET('http://gsaiae-cfda-program-uat01.reisys.com/dictionaries/functional_codes,assistance_type')
                .respond('[{"id":"functional_codes","elements":[{"element_id":"0001","description":null,"value":"AGRICULTURAL","code":null,"elements":[{"element_id":"0001001","description":null,"value":"Resource Conservation and Development","code":"AK","elements":null},{"element_id":"0001002","description":null,"value":"Production and Operation","code":"AL","elements":null},{"element_id":"0001003","description":null,"value":"Marketing","code":"AM","elements":null},{"element_id":"0001004","description":null,"value":"Research and Development","code":"AN","elements":null},{"element_id":"0001005","description":null,"value":"Technical Assistance, Information and Services","code":"AO","elements":null},{"element_id":"0001006","description":null,"value":"Forestry","code":"AP","elements":null},{"element_id":"0001007","description":null,"value":"Stabilization and Conservation Service","code":"AQ","elements":null},{"element_id":"0001008","description":null,"value":"All subcategories (K through Q) apply","code":"A#","elements":null}]},{"element_id":"0002","description":null,"value":"BUSINESS AND COMMERCE","code":null,"elements":[{"element_id":"0002001","description":null,"value":"Small Business","code":"BK","elements":null},{"element_id":"0002002","description":null,"value":"Economic Development","code":"BL","elements":null},{"element_id":"0002003","description":null,"value":"Economic Injury and Natural Disaster","code":"BM","elements":null},{"element_id":"0002004","description":null,"value":"Commercial Fisheries","code":"BN","elements":null},{"element_id":"0002005","description":null,"value":"Maritime","code":"BO","elements":null},{"element_id":"0002006","description":null,"value":"International","code":"BP","elements":null},{"element_id":"0002007","description":null,"value":"Statistics","code":"BQ","elements":null},{"element_id":"0002008","description":null,"value":"Special Technical Service","code":"BR","elements":null},{"element_id":"0002009","description":null,"value":"Minority Business Enterprise","code":"BS","elements":null},{"element_id":"0002010","description":null,"value":"All subcategories (K through S) apply","code":"B#","elements":null}]},{"element_id":"0003","description":null,"value":"COMMUNITY DEVELOPMENT","code":null,"elements":[{"element_id":"0003001","description":null,"value":"Planning and Research","code":"CK","elements":null},{"element_id":"0003002","description":null,"value":"Construction, Renewal and Operations","code":"CL","elements":null},{"element_id":"0003003","description":null,"value":"Historical Preservation","code":"CM","elements":null},{"element_id":"0003004","description":null,"value":"Rural Community Development","code":"CN","elements":null},{"element_id":"0003005","description":null,"value":"Recreation","code":"CO","elements":null},{"element_id":"0003006","description":null,"value":"Site Acquisition","code":"CP","elements":null},{"element_id":"0003007","description":null,"value":"Indian Action Services","code":"CQ","elements":null},{"element_id":"0003008","description":null,"value":"Federal Surplus Property","code":"CR","elements":null},{"element_id":"0003009","description":null,"value":"Technical Assistance and Services","code":"CS","elements":null},{"element_id":"0003010","description":null,"value":"Land Acquisition","code":"CT","elements":null},{"element_id":"0003011","description":null,"value":"Fire Protection","code":"CU","elements":null},{"element_id":"0003012","description":null,"value":"All subcategories (K through U) apply","code":"C#","elements":null}]},{"element_id":"0004","description":null,"value":"CONSUMER PROTECTION","code":null,"elements":[{"element_id":"0004001","description":null,"value":"Regulation, Inspection, Enforcement","code":"DK","elements":null},{"element_id":"0004002","description":null,"value":"Complaint Investigation","code":"DL","elements":null},{"element_id":"0004003","description":null,"value":"lnformation and Educational Services","code":"DM","elements":null},{"element_id":"0004004","description":null,"value":"All subcategories (K through M) apply","code":"D#","elements":null}]},{"element_id":"0005","description":null,"value":"CULTURAL AFFAIRS","code":null,"elements":[{"element_id":"0005001","description":null,"value":"Promotion of the Arts","code":"EK","elements":null},{"element_id":"0005002","description":null,"value":"Promotion of the Humanities","code":"EL","elements":null},{"element_id":"0005003","description":null,"value":"All subcategories (K through L) apply","code":"E#","elements":null}]},{"element_id":"0006","description":null,"value":"DISASTER PREVENTION AND RELIEF","code":null,"elements":[{"element_id":"0006001","description":null,"value":"Emergency Preparedness, Civil Defense","code":"FK","elements":null},{"element_id":"0006002","description":null,"value":"Flood Prevention and Control","code":"FL","elements":null},{"element_id":"0006003","description":null,"value":"Emergency Health Services","code":"FM","elements":null},{"element_id":"0006004","description":null,"value":"Disaster Relief","code":"FN","elements":null},{"element_id":"0006005","description":null,"value":"All subcategories (K through N) apply","code":"F#","elements":null}]},{"element_id":"0007","description":null,"value":"EDUCATION","code":null,"elements":[{"element_id":"0007001","description":null,"value":"Dental Education and Training","code":"GA","elements":null},{"element_id":"0007002","description":null,"value":"Educational Equipment and Resources","code":"GB","elements":null},{"element_id":"0007003","description":null,"value":"Educational Facilities","code":"GC","elements":null},{"element_id":"0007004","description":null,"value":"Elementary and Secondary","code":"GD","elements":null},{"element_id":"0007005","description":null,"value":"General Research and Evaluation","code":"GE","elements":null},{"element_id":"0007006","description":null,"value":"Special Education","code":"GF","elements":null},{"element_id":"0007007","description":null,"value":"Health Education and Training","code":"GG","elements":null},{"element_id":"0007008","description":null,"value":"Higher Education - General","code":"GH","elements":null},{"element_id":"0007009","description":null,"value":"Indian Education","code":"GI","elements":null},{"element_id":"0007010","description":null,"value":"Libraries and Technical lnformation Services","code":"GJ","elements":null},{"element_id":"0007011","description":null,"value":"Medical Education and Training","code":"GK","elements":null},{"element_id":"0007012","description":null,"value":"Nuclear Education and Training","code":"GL","elements":null},{"element_id":"0007013","description":null,"value":"Nursing Education","code":"GM","elements":null},{"element_id":"0007014","description":null,"value":"Resource Development and Support - Elementary, Secondary Education","code":"GN","elements":null},{"element_id":"0007015","description":null,"value":"Resource Development and Support - General and Special Interest Organizations","code":"GO","elements":null},{"element_id":"0007016","description":null,"value":"Resource Development and Support - Higher Education","code":"GP","elements":null},{"element_id":"0007017","description":null,"value":"Resource Development and Support - Land and Equipment","code":"GQ","elements":null},{"element_id":"0007018","description":null,"value":"Resource Development and Support - School Aid","code":"GR","elements":null},{"element_id":"0007019","description":null,"value":"Resource Development and Support - Sciences","code":"GS","elements":null},{"element_id":"0007020","description":null,"value":"Resource Development and Support - Student Financial Aid","code":"GT","elements":null},{"element_id":"0007021","description":null,"value":"Resource Development and Support - Vocational Education and Handicapped Education","code":"GU","elements":null},{"element_id":"0007022","description":null,"value":"Teacher Training","code":"GV","elements":null},{"element_id":"0007023","description":null,"value":"Vocational Development","code":"GW","elements":null},{"element_id":"0007024","description":null,"value":"All subcategories (A through W) apply","code":"G#","elements":null}]},{"element_id":"0008","description":null,"value":"EMPLOYMENT, LABOR, AND TRAINING","code":null,"elements":[{"element_id":"0008001","description":null,"value":"Planning, Research, and Demonstration","code":"HK","elements":null},{"element_id":"0008002","description":null,"value":"Program Development","code":"HL","elements":null},{"element_id":"0008003","description":null,"value":"Job Training, Employment","code":"HM","elements":null},{"element_id":"0008004","description":null,"value":"Federal Employment","code":"HN","elements":null},{"element_id":"0008005","description":null,"value":"Bonding and Certification","code":"HO","elements":null},{"element_id":"0008006","description":null,"value":"Equal Employment Opportunity","code":"HP","elements":null},{"element_id":"0008007","description":null,"value":"Assistance and Services for the Unemployed","code":"HQ","elements":null},{"element_id":"0008008","description":null,"value":"Assistance to State and Local Governments","code":"HR","elements":null},{"element_id":"0008009","description":null,"value":"Statistical","code":"HS","elements":null},{"element_id":"0008010","description":null,"value":"Labor Management Services","code":"HT","elements":null},{"element_id":"0008011","description":null,"value":"Facilities, Planning, Construction, and Equipment","code":"HU","elements":null},{"element_id":"0008012","description":null,"value":"All subcategories (K through U) apply","code":"H#","elements":null}]},{"element_id":"0009","description":null,"value":"ENERGY","code":null,"elements":[{"element_id":"0009001","description":null,"value":"Conservation","code":"IK","elements":null},{"element_id":"0009002","description":null,"value":"Research and Development","code":"IL","elements":null},{"element_id":"0009003","description":null,"value":"Education and Training","code":"IM","elements":null},{"element_id":"0009004","description":null,"value":"Facilities and Equipment","code":"IN","elements":null},{"element_id":"0009005","description":null,"value":"Specialized Technical Services","code":"IO","elements":null},{"element_id":"0009006","description":null,"value":"General Information Services","code":"IP","elements":null},{"element_id":"0009007","description":null,"value":"All subcategories (K through P) apply","code":"I#","elements":null}]},{"element_id":"0010","description":null,"value":"ENVIRONMENTAL QUALITY","code":null,"elements":[{"element_id":"0010001","description":null,"value":"Water Pollution Control","code":"JK","elements":null},{"element_id":"0010002","description":null,"value":"Air Pollution Control","code":"JL","elements":null},{"element_id":"0010003","description":null,"value":"Solid Waste Management","code":"JM","elements":null},{"element_id":"0010004","description":null,"value":"Pesticides Control","code":"JN","elements":null},{"element_id":"0010005","description":null,"value":"Radiation Control","code":"JO","elements":null},{"element_id":"0010006","description":null,"value":"Research, Education, Training","code":"JP","elements":null},{"element_id":"0010007","description":null,"value":"All subcategories (K through P) apply","code":"J#","elements":null}]},{"element_id":"0011","description":null,"value":"FOOD AND NUTRITION","code":null,"elements":[{"element_id":"0011001","description":null,"value":"Food and Nutrition for Children","code":"KK","elements":null},{"element_id":"0011002","description":null,"value":"Food and Nutrition for Individual and Families","code":"KL","elements":null},{"element_id":"0011003","description":null,"value":"Food Inspection","code":"KM","elements":null},{"element_id":"0011004","description":null,"value":"Research","code":"KN","elements":null},{"element_id":"0011005","description":null,"value":"All subcategories (K through N) apply","code":"K#","elements":null}]},{"element_id":"0012","description":null,"value":"HEALTH","code":null,"elements":[{"element_id":"0012001","description":null,"value":"Alcoholism, Drug Abuse and Mental Health - General","code":"LA","elements":null},{"element_id":"0012002","description":null,"value":"Alcoholism, Drug Abuse and Mental Health - Law Enforcement","code":"LB","elements":null},{"element_id":"0012003","description":null,"value":"Alcoholism, Drug Abuse and Mental Health - Planning","code":"LC","elements":null},{"element_id":"0012004","description":null,"value":"Alcoholism, Drug Abuse and Mental Health - Research","code":"LD","elements":null},{"element_id":"0012005","description":null,"value":"Communicable Diseases","code":"LE","elements":null},{"element_id":"0012006","description":null,"value":"Education and Training","code":"LF","elements":null},{"element_id":"0012007","description":null,"value":"Facility Loans and Insurance","code":"LG","elements":null},{"element_id":"0012008","description":null,"value":"Facility Planning and Construction","code":"LH","elements":null},{"element_id":"0012009","description":null,"value":"General Health and Medical","code":"LI","elements":null},{"element_id":"0012010","description":null,"value":"Health Research - General","code":"LJ","elements":null},{"element_id":"0012011","description":null,"value":"Health Services Planning and Technical Assistance","code":"LK","elements":null},{"element_id":"0012012","description":null,"value":"Indian Health","code":"LL","elements":null},{"element_id":"0012013","description":null,"value":"Libraries, Information and Education Services","code":"LM","elements":null},{"element_id":"0012014","description":null,"value":"Maternity, Infants, Children","code":"LN","elements":null},{"element_id":"0012015","description":null,"value":"Mental Health","code":"LO","elements":null},{"element_id":"0012016","description":null,"value":"Occupational Safety and Health","code":"LP","elements":null},{"element_id":"0012017","description":null,"value":"Physical Fitness","code":"LQ","elements":null},{"element_id":"0012018","description":null,"value":"Prevention and Control","code":"LR","elements":null},{"element_id":"0012019","description":null,"value":"Program Development","code":"LS","elements":null},{"element_id":"0012020","description":null,"value":"Specialized Health Research and Training","code":"LT","elements":null},{"element_id":"0012021","description":null,"value":"Veterans Health","code":"LU","elements":null},{"element_id":"0012022","description":null,"value":"All subcategories (A through U) apply","code":"L#","elements":null}]},{"element_id":"0013","description":null,"value":"HOUSING","code":null,"elements":[{"element_id":"0013001","description":null,"value":"Property and Mortgage Insurance","code":"MK","elements":null},{"element_id":"0013002","description":null,"value":"Homebuying, Homeownership","code":"ML","elements":null},{"element_id":"0013003","description":null,"value":"Home Improvement","code":"MM","elements":null},{"element_id":"0013004","description":null,"value":"Cooperatives, Rental","code":"MN","elements":null},{"element_id":"0013005","description":null,"value":"Rural Housing","code":"MO","elements":null},{"element_id":"0013006","description":null,"value":"Multifamily","code":"MP","elements":null},{"element_id":"0013007","description":null,"value":"Experimental and Development Projects","code":"MQ","elements":null},{"element_id":"0013008","description":null,"value":"Indian Housing","code":"MR","elements":null},{"element_id":"0013009","description":null,"value":"Construction Rehabilitation","code":"MS","elements":null},{"element_id":"0013010","description":null,"value":"Planning","code":"MT","elements":null},{"element_id":"0013011","description":null,"value":"Land Acquisition","code":"MU","elements":null},{"element_id":"0013012","description":null,"value":"Site Preparation for Housing","code":"MV","elements":null},{"element_id":"0013013","description":null,"value":"All subcategories (K through V) apply","code":"M#","elements":null}]},{"element_id":"0014","description":null,"value":"INCOME SECURITY AND SOCIAL SERVICES","code":null,"elements":[{"element_id":"0014001","description":null,"value":"Disabled and Handicapped Services","code":"NA","elements":null},{"element_id":"0014002","description":null,"value":"Disabled Veterans","code":"NB","elements":null},{"element_id":"0014003","description":null,"value":"Emergency and Crisis Assistance","code":"NC","elements":null},{"element_id":"0014004","description":null,"value":"Families and Child Welfare Services","code":"ND","elements":null},{"element_id":"0014005","description":null,"value":"Indian Services","code":"NE","elements":null},{"element_id":"0014006","description":null,"value":"Information and Referral Services","code":"NF","elements":null},{"element_id":"0014007","description":null,"value":"Legal and Advocacy Services","code":"NG","elements":null},{"element_id":"0014008","description":null,"value":"Nutrition","code":"NH","elements":null},{"element_id":"0014009","description":null,"value":"Old Age Assistance","code":"NI","elements":null},{"element_id":"0014010","description":null,"value":"Prevention","code":"NJ","elements":null},{"element_id":"0014011","description":null,"value":"Public Assistance","code":"NK","elements":null},{"element_id":"0014012","description":null,"value":"Refugees, Alien Services","code":"NL","elements":null},{"element_id":"0014013","description":null,"value":"Research, Demonstration","code":"NM","elements":null},{"element_id":"0014014","description":null,"value":"Social Security and Insurance","code":"NN","elements":null},{"element_id":"0014015","description":null,"value":"Specialized Family and Child Welfare Services","code":"NO","elements":null},{"element_id":"0014016","description":null,"value":"Specialized Services","code":"NP","elements":null},{"element_id":"0014017","description":null,"value":"Training Assistance","code":"NQ","elements":null},{"element_id":"0014018","description":null,"value":"Veterans Services","code":"NR","elements":null},{"element_id":"0014019","description":null,"value":"Youth Services","code":"NS","elements":null},{"element_id":"0014020","description":null,"value":"All subcategories (A through S) apply","code":"N#","elements":null}]},{"element_id":"0015","description":null,"value":"INFORMATION AND STATISTICS","code":null,"elements":[{"element_id":"0015001","description":null,"value":"Census Data","code":"OK","elements":null},{"element_id":"0015002","description":null,"value":"General","code":"OL","elements":null},{"element_id":"0015003","description":null,"value":"Libraries, Clearinghouses, Archives","code":"OM","elements":null},{"element_id":"0015004","description":null,"value":"Library of Congress","code":"ON","elements":null},{"element_id":"0015005","description":null,"value":"All subcategories (K through N) apply","code":"O#","elements":null}]},{"element_id":"0016","description":null,"value":"LAW, JUSTICE AND LEGAL SERVICES","code":null,"elements":[{"element_id":"0016001","description":null,"value":"Law Enforcement - Planning and Operations","code":"PK","elements":null},{"element_id":"0016002","description":null,"value":"Law Enforcement - Research, Education, Training","code":"PL","elements":null},{"element_id":"0016003","description":null,"value":"Law Enforcement - Narcotics and Dangerous Drugs","code":"PM","elements":null},{"element_id":"0016004","description":null,"value":"Law Enforcement - Crime Analysis and Data","code":"PN","elements":null},{"element_id":"0016005","description":null,"value":"Legal Services - General Services","code":"PO","elements":null},{"element_id":"0016006","description":null,"value":"Legal Services - Employment Rights","code":"PP","elements":null},{"element_id":"0016007","description":null,"value":"Legal Services - Labor Management","code":"PQ","elements":null},{"element_id":"0016008","description":null,"value":"Legal Services - Housing Rights","code":"PR","elements":null},{"element_id":"0016009","description":null,"value":"Legal Services - Claims Against Foreign Government","code":"PS","elements":null},{"element_id":"0016010","description":null,"value":"All subcategories (K through S) apply","code":"P#","elements":null}]},{"element_id":"0017","description":null,"value":"NATURAL RESOURCES","code":null,"elements":[{"element_id":"0017001","description":null,"value":"Mineral Research","code":"QK","elements":null},{"element_id":"0017002","description":null,"value":"Water Conservation and Research","code":"QL","elements":null},{"element_id":"0017003","description":null,"value":"Community Water Supply Services","code":"QM","elements":null},{"element_id":"0017004","description":null,"value":"Community Sewage Treatment Assistance","code":"QN","elements":null},{"element_id":"0017005","description":null,"value":"Wildlife Research and Preservation","code":"QO","elements":null},{"element_id":"0017006","description":null,"value":"Land Conservation","code":"QP","elements":null},{"element_id":"0017007","description":null,"value":"Recreation","code":"QQ","elements":null},{"element_id":"0017008","description":null,"value":"All subcategories (K through Q) apply","code":"Q#","elements":null}]},{"element_id":"0018","description":null,"value":"REGIONAL DEVELOPMENT","code":null,"elements":[{"element_id":"0018001","description":null,"value":"Economic Development","code":"RK","elements":null},{"element_id":"0018002","description":null,"value":"Planning and Technical Assistance","code":"RL","elements":null},{"element_id":"0018003","description":null,"value":"Land Acquisition and Rehabilitation and Facilities Construction","code":"RM","elements":null},{"element_id":"0018004","description":null,"value":"Transportation","code":"RN","elements":null},{"element_id":"0018005","description":null,"value":"Energy","code":"RO","elements":null},{"element_id":"0018006","description":null,"value":"Housing","code":"RP","elements":null},{"element_id":"0018007","description":null,"value":"Education","code":"RQ","elements":null},{"element_id":"0018008","description":null,"value":"Health and Nutrition","code":"RS","elements":null},{"element_id":"0018009","description":null,"value":"Resources and Development","code":"RT","elements":null},{"element_id":"0018010","description":null,"value":"All subcategories (K through T) apply","code":"R#","elements":null}]},{"element_id":"0019","description":null,"value":"SCIENCE AND TECHNOLOGY","code":null,"elements":[{"element_id":"0019001","description":null,"value":"Research - General","code":"SK","elements":null},{"element_id":"0019002","description":null,"value":"Research - Specialized","code":"SL","elements":null},{"element_id":"0019003","description":null,"value":"Information and Technical","code":"SM","elements":null},{"element_id":"0019004","description":null,"value":"All subcategories (K through M) apply","code":"S#","elements":null}]},{"element_id":"0020","description":null,"value":"TRANSPORTATION","code":null,"elements":[{"element_id":"0020001","description":null,"value":"Urban Mass Transit","code":"TK","elements":null},{"element_id":"0020002","description":null,"value":"Highways, Public Roads, and Bridges","code":"TL","elements":null},{"element_id":"0020003","description":null,"value":"Rail Transportation","code":"TM","elements":null},{"element_id":"0020004","description":null,"value":"Air Transportation","code":"TN","elements":null},{"element_id":"0020005","description":null,"value":"Water Navigation","code":"TO","elements":null},{"element_id":"0020006","description":null,"value":"All subcategories (K through O) apply","code":"T#","elements":null}]}]},{"id":"assistance_type","elements":[{"element_id":"0001","description":"Formula Grants - Allocations of money to States or their subdivisions in accordance with a distribution formula prescribed by law or administrative regulation, for activities of a continuing nature not confined to a specific project.","value":"FORMULA GRANTS","code":"A","elements":[{"element_id":"0001001","description":null,"value":"Formula Grants","code":"A","elements":null},{"element_id":"0001002","description":null,"value":"Formula Grants (Apportionments)","code":"A","elements":null},{"element_id":"0001003","description":null,"value":"Formula Grants (Cooperative Agreements)","code":"A","elements":null},{"element_id":"0001004","description":null,"value":"Formula Grants (Health Incentive Grants)","code":"A","elements":null}]},{"element_id":"0003","description":"Project Grants - The funding, for fixed or known periods, of specific projects or the delivery of specific services or products without liability for damages for failure to perform. Project grants include fellowships, scholarships, research grants, training grants, traineeships, experimental and demonstration grants, evaluation grants, planning grants, technical assistance grants, survey grants, construction grants, and unsolicited contractual agreements.","value":"PROJECT GRANTS","code":"B","elements":[{"element_id":"0003001","description":null,"value":"Cooperative Agreements","code":"B","elements":null},{"element_id":"0003002","description":null,"value":"Cooperative Agreements (Discretionary Grants)","code":"B","elements":null},{"element_id":"0003003","description":null,"value":"Project Grants","code":"B","elements":null},{"element_id":"0003004","description":null,"value":"Project Grants (Capacity Building and Complaint Processing, Training)","code":"B","elements":null},{"element_id":"0003005","description":null,"value":"Project Grants (Contracts)","code":"B","elements":null},{"element_id":"0003006","description":null,"value":"Project Grants (Cooperative Agreements or Contracts)","code":"B","elements":null},{"element_id":"0003007","description":null,"value":"Project Grants (Cooperative Agreements)","code":"B","elements":null},{"element_id":"0003008","description":null,"value":"Project Grants (Discretionary)","code":"B","elements":null},{"element_id":"0003009","description":null,"value":"Project Grants (Fellowships)","code":"B","elements":null},{"element_id":"0003010","description":null,"value":"Project Grants (for administration projects authorized under Section","code":"B","elements":null},{"element_id":"0003011","description":null,"value":"Project Grants (for collaborative design of curriculum, production of","code":"B","elements":null},{"element_id":"0003012","description":null,"value":"Project Grants (for specified projects)","code":"B","elements":null},{"element_id":"0003013","description":null,"value":"Project Grants (including individual awards)","code":"B","elements":null},{"element_id":"0003014","description":null,"value":"Project Grants (including travel grants)","code":"B","elements":null},{"element_id":"0003015","description":null,"value":"Project Grants (Rehabilitation of existing indoor and outdoor recreat","code":"B","elements":null},{"element_id":"0003016","description":null,"value":"Project Grants (Special)","code":"B","elements":null},{"element_id":"0003017","description":null,"value":"Project Grants (to capitalize loan funds)","code":"B","elements":null},{"element_id":"0003018","description":null,"value":"Project Grants (with Formula Distribution)","code":"B","elements":null}]},{"element_id":"0005","description":"Direct Payments for a Specified Use - Financial assistance provided directly to individuals, private firms, and other private institutions to encourage or subsidize a particular activity by conditioning the receipt of the on a particular performance by the recipient. This does not include solicited contracts for the procurement of goods and services for the Federal government.","value":"DIRECT PAYMENTS FOR A SPECIFIED USE","code":"C","elements":[{"element_id":"0005001","description":null,"value":"Direct Payments for Specified Use","code":"C","elements":null},{"element_id":"0005002","description":null,"value":"Direct Payments for Specified Use (Cooperative Agreements)","code":"C","elements":null}]},{"element_id":"0007","description":"Direct Payments with Unrestricted Use - Financial assistance provided directly to beneficiaries who satisfy eligibility requirements with no restrictions imposed on the recipient as to how the money is spent. Included are payments under retirement, pension, and compensation programs.","value":"DIRECT PAYMENTS WITH UNRESTRICTED USE","code":"D","elements":[{"element_id":"0007001","description":null,"value":"Direct Payments with Unrestricted Use","code":"D","elements":null}]},{"element_id":"0009","description":"Direct Loans - Financial assistance provided through the lending of Federal monies for a specific period of time, with a reasonable expectation of repayment. Such loans may or may not require the payment of interest.","value":"DIRECT LOANS","code":"E","elements":[{"element_id":"0009001","description":null,"value":"Direct Loans","code":"E","elements":null}]},{"element_id":"0011","description":"Guaranteed\/Insured Loans - Programs in which the Federal Government makes an arrangement to indemnify a lender against all or part of all of any defaults by those responsible for the repayment of loans.","value":"GUARANTEED\/INSURED LOANS","code":"F","elements":[{"element_id":"0011001","description":null,"value":"Guaranteed\/Insured Loans","code":"F","elements":null},{"element_id":"0011002","description":null,"value":"Guaranteed\/Insured Loans (including Guaranty Participation Loans)","code":"F","elements":null},{"element_id":"0011003","description":null,"value":"Guaranteed\/Insured Loans (including Immediate Participation Loans)","code":"F","elements":null},{"element_id":"0011004","description":null,"value":"Loan Guarantees\/Grants","code":"F","elements":null}]},{"element_id":"0013","description":"Insurance - Financial assistance provided to assure reimbursement for losses sustained under specified conditions. Coverage may be provided directly by the Federal Government or through private carriers and may or may not involve the payment of premiums.","value":"INSURANCE","code":"G","elements":[{"element_id":"0013001","description":null,"value":"Insurance","code":"G","elements":null},{"element_id":"0013002","description":null,"value":"Insurance (Guaranteed Surety Bonds)","code":"G","elements":null},{"element_id":"0013003","description":null,"value":"Insurance (Reimbursement)","code":"G","elements":null}]},{"element_id":"0015","description":"Sale, Exchange, or Donation of Property or Goods - Programs that provide for the sale, exchange, or donation of Federal real property, personal property, commodities, and other goods including land, buildings, equipment, food, and drugs. This does not include the loan of, use of, or access to Federal facilities or property.","value":"SALE, EXCHANGE, OR DONATION OF PROPERTY OR GOODS","code":"H","elements":[{"element_id":"0015001","description":null,"value":"Sale, Exchange, or Donation of Property and Goods","code":"H","elements":null}]},{"element_id":"0017","description":"Use of Property, Facilities, or Equipment - Programs that provide for the loan of, use of, or access to Federal facilities or property wherein the federally owned facilities or property do not remain in the possession of the recipient of the assistance.","value":"USE OF PROPERTY, FACILITIES, OR EQUIPMENT","code":"I","elements":[{"element_id":"0017001","description":null,"value":"Use of Property, Facilities, and Equipment","code":"I","elements":null}]},{"element_id":"0019","description":"Provision of Specialized Services - Programs that provide Federal personnel to directly perform certain tasks for the benefit of communities or individuals. These services may be performed in conjunction with non-Federal personnel, but they involve more than consultation, advice, or counseling.","value":"PROVISION OF SPECIALIZED SERVICES","code":"J","elements":[{"element_id":"0019001","description":null,"value":"Provision of Specialized Services","code":"J","elements":null}]},{"element_id":"0021","description":"Advisory Services and Counseling - Programs that provide Federal specialists to consult, advise, or counsel communities or individuals including conferences, workshops, or personal contacts. This may involve the use of published information, but only in a secondary capacity.","value":"ADVISORY SERVICES AND COUNSELING","code":"K","elements":[{"element_id":"0021001","description":null,"value":"Advisory Services and Counseling","code":"K","elements":null},{"element_id":"0021002","description":null,"value":"Advisory Services on Compliance","code":"K","elements":null}]},{"element_id":"0023","description":"Dissemination of Technical Information - Programs that provide for the publication and distribution of information or data of a specialized technical nature, frequently through clearinghouses or libraries. This does not include conventional public information services designed for general public consumption.","value":"DISSEMINATION OF TECHNICAL INFORMATION","code":"L","elements":[{"element_id":"0023001","description":null,"value":"Dissemination of Technical Information","code":"L","elements":null},{"element_id":"0023002","description":null,"value":"Information","code":"L","elements":null}]},{"element_id":"0025","description":"Training - Programs that provide instructional activities conducted directly by a Federal agency for individuals not employed by the Federal Government.","value":"TRAINING","code":"M","elements":[{"element_id":"0025001","description":null,"value":"Training","code":"M","elements":null}]},{"element_id":"0027","description":"Investigation of Complaints - Federal administrative agency activities that are initiated in response to requests, either formal or informal, to examine or investigate claims of violations of Federal statutes, policy, or procedure. Such claims must come from outside the Federal Government.","value":"INVESTIGATION OF COMPLAINTS","code":"N","elements":[{"element_id":"0027020","description":null,"value":"Resolution of Disputes","code":"N","elements":null},{"element_id":"0027001","description":null,"value":"Investigation of Complaints","code":"N","elements":null},{"element_id":"0027002","description":null,"value":"Investigation of Complaints (Compliance Reviews)","code":"N","elements":null}]},{"element_id":"0029","description":"Federal Employment - Programs that reflect the government-wide resposibilities of the Office of Personnel Management in the recruitment and hiring of Federal civilian agency personnel.","value":"FEDERAL EMPLOYMENT","code":"O","elements":[{"element_id":"0029001","description":null,"value":"Federal Employment","code":"O","elements":null}]}]}]');
            var dictionaries = dictionarySvc.toDropdown({ id: ['functional_codes','assistance_type'].join(',') });
            $httpBackend.flush();
            expect(dictionaries).toBeDefined();
            expect(dictionaries['functional_codes']).toBeDefined();
            expect(dictionaries['assistance_type']).toBeDefined();
        });

        it('should return an empty object for invalid dictionaries', function() {
            $httpBackend
                .whenGET('http://gsaiae-cfda-program-uat01.reisys.com/dictionaries/invalid_dictionary')
                .respond('[{}]');
            var response = dictionarySvc.toDropdown({ id: 'invalid_dictionary' });
            $httpBackend.flush();
            expect(response).toBeDefined();
            expect(response['invalid_dictionary']).not.toBeDefined();
        });
    });
});
